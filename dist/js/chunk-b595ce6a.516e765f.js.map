{"version":3,"sources":["webpack:///./node_modules/bootstrap-vue/esm/icons/icon.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-options.js","webpack:///./node_modules/bootstrap-vue/esm/components/form/form.js","webpack:///./src/views/apps/calendar/calendar-event-handler/CalendarEventHandler.vue?f6f1","webpack:///./src/@core/components/toastification/ToastificationContent.vue?43c9","webpack:///src/@core/components/toastification/ToastificationContent.vue","webpack:///./src/@core/components/toastification/ToastificationContent.vue?270b","webpack:///./src/@core/components/toastification/ToastificationContent.vue","webpack:///./node_modules/bootstrap-vue/esm/components/form-checkbox/form-checkbox-group.js","webpack:///./src/@core/comp-functions/forms/form-validation.js","webpack:///./node_modules/bootstrap-vue/esm/components/image/img.js","webpack:///./src/views/apps/calendar/Calendar.vue?3b26","webpack:///./node_modules/flatpickr/dist/esm/types/options.js","webpack:///./node_modules/flatpickr/dist/esm/l10n/default.js","webpack:///./node_modules/flatpickr/dist/esm/utils/index.js","webpack:///./node_modules/flatpickr/dist/esm/utils/dom.js","webpack:///./node_modules/flatpickr/dist/esm/utils/formatting.js","webpack:///./node_modules/flatpickr/dist/esm/utils/dates.js","webpack:///./node_modules/flatpickr/dist/esm/index.js","webpack:///./node_modules/flatpickr/dist/esm/utils/polyfills.js","webpack:///./src/assets/images/pages/calendar-illustration.png","webpack:///./node_modules/bootstrap-vue/esm/components/form-radio/form-radio.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/views/apps/calendar/Calendar.vue?a931","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/preact/dist/preact.module.js","webpack:///./node_modules/preact/hooks/dist/hooks.module.js","webpack:///./node_modules/preact/compat/dist/compat.module.js","webpack:///./node_modules/@fullcalendar/core/vdom.js","webpack:///./node_modules/@fullcalendar/common/vdom.js","webpack:///./node_modules/@fullcalendar/common/main.js","webpack:///./node_modules/@fullcalendar/core/main.js","webpack:///./node_modules/@fullcalendar/vue/dist/options.js","webpack:///./node_modules/@fullcalendar/vue/dist/utils.js","webpack:///./node_modules/@fullcalendar/vue/dist/custom-content-type.js","webpack:///./node_modules/@fullcalendar/vue/dist/FullCalendar.js","webpack:///./node_modules/@fullcalendar/vue/dist/main.js","webpack:///./src/views/apps/calendar/calendarStoreModule.js","webpack:///./src/views/apps/calendar/calendar-sidebar/CalendarSidebar.vue?aed3","webpack:///./src/views/apps/calendar/calendar-sidebar/useCalendarSidebar.js","webpack:///src/views/apps/calendar/calendar-sidebar/CalendarSidebar.vue","webpack:///./src/views/apps/calendar/calendar-sidebar/CalendarSidebar.vue?0e59","webpack:///./src/views/apps/calendar/calendar-sidebar/CalendarSidebar.vue","webpack:///./src/views/apps/calendar/calendar-event-handler/CalendarEventHandler.vue?71af","webpack:///./src/views/apps/calendar/calendar-event-handler/useCalendarEventHandler.js","webpack:///src/views/apps/calendar/calendar-event-handler/CalendarEventHandler.vue","webpack:///./src/views/apps/calendar/calendar-event-handler/CalendarEventHandler.vue?8606","webpack:///./src/views/apps/calendar/calendar-event-handler/CalendarEventHandler.vue","webpack:///./node_modules/@fullcalendar/daygrid/main.js","webpack:///./node_modules/@fullcalendar/timegrid/main.js","webpack:///./node_modules/@fullcalendar/list/main.js","webpack:///./node_modules/@fullcalendar/interaction/main.js","webpack:///./src/views/apps/calendar/useCalendar.js","webpack:///src/views/apps/calendar/Calendar.vue","webpack:///./src/views/apps/calendar/Calendar.vue?a6bb","webpack:///./src/views/apps/calendar/Calendar.vue","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-custom.js","webpack:///./src/@core/components/toastification/ToastificationContent.vue?2b89","webpack:///./node_modules/bootstrap-vue/esm/components/sidebar/sidebar.js","webpack:///./node_modules/vue-flatpickr-component/dist/vue-flatpickr.min.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-checkbox/form-checkbox.js","webpack:///./node_modules/bootstrap-vue/esm/utils/loose-index-of.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-radio-check.js","webpack:///./node_modules/bootstrap-vue/esm/components/avatar/avatar.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-radio-check-group.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","findIconComponent","ctx","iconName","components","$options","iconComponent","$parent","props","icon","stacked","BIcon","extend","name","functional","render","h","_ref","data","parent","replace","concat","OPTIONS_OBJECT_DEPRECATED_MSG","disabledField","htmlField","options","textField","valueField","formOptionsMixin","computed","formOptions","this","normalizeOptions","methods","normalizeOption","option","undefined","text","String","html","disabled","Boolean","_this","map","id","inline","novalidate","validated","BForm","children","class","attrs","_vm","_h","$createElement","_c","_self","staticClass","variant","domProps","_s","title","_e","on","$event","$emit","hideClose","staticRenderFns","BAvatar","type","default","component","_objectSpread2","BFormCheckboxGroup","mixins","provide","bvCheckGroup","isRadioGroup","formValidation","resetFormData","clearFormData","refFormObserver","ref","resetObserver","reset","getValidationState","dirty","fieldRequired","required","changed","valid","result","resetForm","nextTick","clearForm","BLANK_TEMPLATE","makeBlankImgSrc","width","height","color","src","encodeURIComponent","alt","blank","blankColor","block","center","fluid","fluidGrow","left","right","rounded","sizes","srcset","thumbnail","BImg","_class","align","join","HOOKS","_disable","allowInput","allowInvalidPreload","altFormat","altInput","altInputClass","animate","window","navigator","userAgent","indexOf","ariaDateFormat","autoFillDefaultTime","clickOpens","closeOnSelect","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enableSeconds","enableTime","errorHandler","err","console","warn","getWeek","givenDate","date","Date","getTime","setHours","setDate","getDate","getDay","week1","getFullYear","Math","round","hourIncrement","ignoredFocusElements","locale","minuteIncrement","mode","monthSelectorType","nextArrow","noCalendar","now","onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","position","positionElement","prevArrow","shorthandCurrentMonth","showMonths","static","time_24hr","weekNumbers","wrap","english","weekdays","shorthand","longhand","months","daysInMonth","firstDayOfWeek","ordinal","nth","s","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","monthAriaLabel","hourAriaLabel","minuteAriaLabel","pad","number","slice","bool","debounce","fn","wait","t","clearTimeout","setTimeout","arrayify","Array","toggleClass","elem","className","classList","add","remove","createElement","tag","content","e","document","textContent","clearNode","node","firstChild","removeChild","findParent","condition","parentNode","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","pattern","setAttribute","appendChild","getEventTarget","event","composedPath","path","error","doNothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","setMonth","G","hour","parseFloat","H","J","day","K","getHours","RegExp","test","M","shortMonth","S","seconds","setSeconds","U","_","unixSeconds","W","weekNum","weekNumber","parseInt","Y","year","setFullYear","Z","ISODate","d","minutes","setMinutes","j","l","m","month","n","u","unixMillSeconds","w","y","tokenRegex","toISOString","getMonth","getSeconds","getMinutes","substring","createDateFormatter","config","l10n","isMobile","frmt","overrideLocale","formatDate","split","c","arr","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","format","datestr","trim","parseDate","matched","ops","matchIndex","regexStr","token","isBackSlash","escaped","match","exec","val","isNaN","Error","compareDates","date1","date2","isBetween","ts","ts1","ts2","min","max","duration","DAY","getDefaultHours","hours","minDate","minHour","minMinutes","minSeconds","maxDate","maxHr","maxMinutes","DEBOUNCED_CHANGE_MS","FlatpickrInstance","element","instanceConfig","self","assign","flatpickr","defaultConfig","setupHelperFunctions","utils","currentMonth","yr","currentYear","init","input","isOpen","parseConfig","setupLocale","setupInputs","setupDates","build","bindEvents","selectedDates","setHoursFromDate","latestSelectedDateObj","updateValue","setCalendarWidth","isSafari","positionCalendar","triggerEvent","bindToInstance","bind","requestAnimationFrame","calendarContainer","style","visibility","display","daysContainer","daysWidth","days","offsetWidth","weekWrapper","removeProperty","updateTime","defaultDate","defaults","getMilliseconds","timeWrapper","prevValue","_input","setHoursFromInputs","_debouncedChange","ampm2military","military2ampm","hourElement","minuteElement","secondElement","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDateHasTime","onYearInput","eventTarget","delta","toString","changeYear","handler","ev","el","addEventListener","_handlers","removeEventListener","triggerChange","evt","prototype","call","querySelectorAll","setupMobile","debouncedResize","onResize","onMouseOver","body","ontouchstart","documentClick","capture","open","monthNav","onMonthNavClick","selectDate","timeContainer","selText","select","timeIncrement","onBlur","jumpToDate","jumpDate","jumpTo","oldYear","oldMonth","message","buildMonthSwitch","redraw","incrementNumInput","contains","inputElem","createEvent","dispatchEvent","fragment","createDocumentFragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","customAppend","appendTo","nodeType","insertBefore","nextSibling","createDay","dayNumber","dateIsEnabled","isEnabled","dayElement","$i","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","focus","getFirstAvailableDay","startMonth","endMonth","startIndex","endIndex","getNextAvailableDay","current","givenMonth","loopDelta","numMonthDays","abs","changeMonth","focusOnDay","offset","dayFocused","isInView","activeElement","startElem","buildMonthDays","firstOfMonth","prevMonthDays","getDaysInMonth","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayIndex","dayNum","dayContainer","frag","shouldBuildMonth","monthsDropdownContainer","innerHTML","selected","buildMonth","container","monthNavFragment","monthElement","selectedMonth","yearInput","tabindex","yearElement","getElementsByTagName","buildMonths","prevMonthNav","yearElements","monthElements","nextMonthNav","get","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","separator","hourInput","minuteInput","secondInput","getAttribute","weekdayContainer","updateWeekdays","splice","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","clear","triggerChangeEvent","toInitial","mobileInput","_initialDate","close","destroy","lastChild","_type","removeAttribute","k","isCalendarElem","isCalendarElement","isInput","lostFocus","relatedTarget","isIgnored","some","newYear","newYearNum","isNewYear","_a","dateToCheck","enable","array","parsed","from","to","allowKeydown","allowInlineKeydown","keyCode","blur","isTimeObj","preventDefault","focusAndClose","ctrlKey","stopPropagation","elems","pluginElements","x","shiftKey","charAt","toLowerCase","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","dayElem","timestamp","outOfRange","_positionElement","click","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","JSON","parse","stringify","dataset","formats","_enable","set","dates","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","pluginConf","getInputElem","querySelector","l10ns","customPositionElement","calendarHeight","reduce","acc","child","offsetHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","getBoundingClientRect","distanceFromBottom","innerHeight","bottom","showOnTop","top","pageYOffset","pageXOffset","isCenter","isRight","rightMost","centerMost","doc","getDocumentStyleSheet","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","cssRules","centerStyle","insertRule","editableSheet","styleSheets","sheet","createStyleSheet","head","msMaxTouchPoints","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","sort","a","b","single","range","loadedPlugins","_bind","_setHoursFromDate","_positionCalendar","_createElement","toggle","CALLBACKS","setSelectedDate","inputDate","rule","preloadedDate","nodeName","placeholder","inputType","mobileFormatStr","defaultValue","step","hooks","initEvent","getDateStr","dObj","isPrevMonth","isNextMonth","isKeyDown","curValue","which","newValue","isHourElem","isMinuteElem","_flatpickr","nodeList","nodes","HTMLElement","instances","HTMLCollection","NodeList","selector","Node","en","localize","setDefaults","jQuery","fp_incr","args","TypeError","module","exports","BFormRadio","inject","bvGroup","watch","computedLocalChecked","oldValue","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","proto","forced","isCalendarOverlaySidebarActive","isEventHandlerSidebarActive","calendarOptions","clearEventData","removeEvent","addEvent","updateEvent","model","callback","$$v","expression","extendStatics","setPrototypeOf","__proto__","p","hasOwnProperty","__extends","__","constructor","create","__assign","__spreadArray","pack","ar","f","v","r","o","defaultProps","__k","__b","__e","__d","__c","__h","__v","vnode","context","base","g","__r","debounceRendering","__P","__n","ownerSVGElement","z","A","isArray","P","N","C","setProperty","cssText","T","I","contextType","__E","O","sub","state","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","L","diffed","localName","createTextNode","createElementNS","is","childNodes","dangerouslySetInnerHTML","attributes","__html","checked","unmount","componentWillUnmount","Consumer","Provider","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","resolve","pop","__H","cancelAnimationFrame","E","isPureReactComponent","__f","Symbol","for","__u","__R","__O","fallback","delete","revealOrder","size","Map","reverse","V","isReactComponent","cancelBubble","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","multiple","$$typeof","Q","globalObj","globalThis","flushToDom","oldDebounceRendering","callbackQ","execCallbackSync","shift","FullCalendarVDom","Component","createRef","Fragment","createContext","createPortal","unmountComponentAtNode","_super","FakeComponent","ContextType","origProvider","isNew","subs_1","_props","old","EventSourceApi","internalEventSource","dispatch","sourceId","refetch","sourceIds","isRefetch","publicId","meta","url","removeElement","elementClosest","closest","documentElement","elementMatches","parentElement","method","matches","matchesSelector","msMatchesSelector","findElements","containers","allMatches","PIXEL_PROP_RE","applyStyle","propName","applyStyleProp","getEventTargetViaRoot","_b","getElRoot","getRootNode","guid$1","getUniqueDomId","buildDelegationHandler","matchedChild","listenBySelector","eventType","attachedHandler","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave_1","mouseLeaveEv","transitionEventNames","whenTransitionDone","realCallback","eventName","createAriaClickAttrs","onClick","createAriaKeyboardAttrs","guidNumber","guid","disableCursor","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","specs","tokens","field","order","func","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","localeCompare","padStart","len","substr","formatWithOrdinals","formatter","fallbackText","str","arg","index","compareNumbers","isInt","computeSmallestCellWidth","cellEl","allWidthEl","contentWidthEl","DAY_IDS","addWeeks","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","valueOf","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","milliseconds","diffWholeWeeks","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","weekOfGivenYear","nextW","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","arrayToLocalDate","getUTCMilliseconds","UTC","isValidDate","createEventInstance","defId","forcedStartTzo","forcedEndTzo","instanceId","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","unshift","name_2","filterHash","hash","filtered","mapHash","newHash","arrayToHash","_i","a_1","item","hashValuesToArray","isPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","res","parseRecurring","refined","defaultAllDay","dateEnv","recurringTypes","allDay","allDayGuess","typeData","typeId","expandRecurring","eventStore","framingRange","pluginHooks","defs","instance","recurringDef","def","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","starts_1","start","end","eventDef","typeDef","markers","expand","subtract","INTERNAL_UNITS","PARSE_RE","createDuration","unit","parseString","parseObject","sign","minute","second","millisecond","ms","weeks","week","specifiedWeeks","durationsEqual","d0","d1","addDurations","subtractDurations","multiplyDuration","asRoughYears","dur","asRoughDays","asRoughMonths","asRoughMs","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","buildIsoString","timeZoneOffset","stripZeroTime","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","mins","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","memoizeObjArg","currentArg","newArg","EXTENDED_SETTINGS_AND_SEVERITIES","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","weekTextLong","buildNativeFormattingFunc","sanitizeSettings","timeZone","zeroFormat","normalFormat","Intl","DateTimeFormat","codes","zeroProps","postProcess","injectTzoStr","toLocaleLowerCase","tzoStr","replaced","num","parts","simpleNumberFormat","direction","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","nextDayThreshold","scrollTime","scrollTimeReset","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","headerToolbar","footerToolbar","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","Number","weekends","weekNumberCalculation","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","moreLinkHint","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","monthMode","fixedWeekCount","validRange","visibleRange","titleFormat","eventInteractive","noEventsText","viewHint","navLinkHint","closeHint","timeHint","eventHint","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","BASE_OPTION_DEFAULTS","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","buttonHints","views","initialEvents","events","eventSources","COMPLEX_OPTION_COMPARATORS","isBoolComplexEqual","VIEW_OPTION_REFINERS","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","didMount","willUnmount","mergeRawOptions","optionSets","refineProps","refiners","extra","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvents_1","rawEvent","tuple","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","durationEditable","constraint","overlap","allow","backgroundColor","borderColor","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","interactive","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","ui","eventDefMemberAdders","memberAdder","freeze","startMeta","endMeta","startMarker","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","date0","largeUnit","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","ranges","constraintRange","dateRange","invertedRanges","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","eventInstance","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","nowDate","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","getSegAnchorAttrs","href","emitter","hasHandlers","trigger","jsEvent","view","viewApi","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","standardProps","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","omitTime","toDate","startStr","formatIso","endStr","fabricateEventRange","dateSpan","triggerDateSelect","selection","pev","buildDateSpanApiWithContext","origEvent","calendarApi","triggerDateUnselect","dateSpanTransforms","transform","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","startDelta","endDelta","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","datesDelta","ViewApi","getCurrentData","viewTitle","dateProfile","activeRange","currentRange","getOption","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","rawObj","buildEventSourceRefiners","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","optionName","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","handlerName","currentCalendarOptionsRefiners","off","changeView","viewType","dateOrRange","zoomTo","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","header","viewsWithButtons","footer","singleUnit","prev","next","prevYear","addYears","nextYear","today","gotoDate","zonedDateInput","incrementDate","deltaInput","settings","dateOrObj","endDate","selectionInput","dateSelection","eventInput","sourceInput","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApi","relatedEvents","revert","eventApiToStore","getEventById","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","time","EventApi","_context","setProp","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","eventStore_1","relevantEvents","oldEvent","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","ISO_RE","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","MINIMAL_RAW_EN_LOCALE","code","list","RAW_EN_LOCALE","eventCnt","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","queryLocale","parseLocale","codeArg","queryRawLocale","simpleId","merged","NumberFormat","canVGrowWithinCell","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","rawDef","pointInsideRect","point","rect","intersectRects","rect1","rect2","constrainPoint","getRectCenter","diffPoints","point1","point2","getCanVGrowWithinCell","computeCanVGrowWithinCell","div","possible","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventDrag","eventResizes","eventResize","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpans","getKeysForDateSpan","keys_1","getKeysForEventDef","splitStores","splitHashes","interaction","splitStates","affectedStores_1","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores_1","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isDisabled","isOther","getDayClassNames","theme","getClass","DAY_FORMAT","WEEK_FORMAT","buildNavLinkAttrs","isTabbable","dateStr","zonedDate","handleInteraction","customAction","_scrollbarWidths","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","innerEl","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","clientHeight","clientWidth","computeEdges","getPadding","computedStyle","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","paddingBottom","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","computeClippedClientRect","clippingParents","getClippingParents","clippingParents_1","clippingParent","intersection","parents","overflowY","overflowX","unpromisify","isResolved","wrappedSuccess","wrappedFailure","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","prefix","iconOverridePrefix","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","handleScrollRequest","request","queuedRequest","drain","fireInitialScroll","detach","update","isDatesNew","ViewContextType","buildViewContext","viewSpec","viewOptions","dateProfileGenerator","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","nextProps","nextState","debug","log","propEquality","stateEquality","addPropsEquality","addStateEquality","BaseComponent","setRef","DateComponent","uid","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isValidDateDownEl","createPlugin","deps","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","contentTypeHandlers","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","addDefs","defs_1","combineHooks","buildBuildPluginHooks","currentHooks","currentOverrideDefs","currentGlobalDefs","overrideDefs","hooks0","hooks1","StandardTheme","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","overrideConfig","queryProp","theComponent","superType","superDef","rawOptions","overrides","root","tableCellShaded","buttonGroup","button","buttonActive","RenderHook","rootElRef","handleRootEl","elRef","hookProps","ContentHook","defaultContent","backupElRef","innerElRef","innerContent","normalizeClassNames","CustomContentRenderContext","renderId","ContentHookInner","renderInnerContent","updateCustomContent","customContentInfo","getInnerContent","getContentMeta","contentKey","contentVal","buildLifecycleFuncs","normalizeContent","searchKey","MountHook","rootEl","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","customClassNames","parseViewConfigs","inputs","parseViewConfig","createViewHookComponent","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","buttonTitleOverride","buttonHint","buttonTitleDefault","durationInputMap","json","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","computeRes","isHiddenDay","skipHiddenDays","runningCount","visibleRangeInput","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","fetchId","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","sources_1","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","rawSources","rawSources_1","rawSource","ignoreRange","reduceEventStore","receiveRawEvents","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionWidgets","hasTitle","sectionName","sectionStr","sectionRes","parseSection","widgets","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","hint","textFallback","prevOrNext","navUnit","eventSourceDef$2","arrayEventSourcePlugin","eventSourceDef$1","funcEventSourcePlugin","requestJson","params","successCallback","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","setRequestHeader","onload","status","responseText","onerror","send","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","handleDateProfile","handleEventStore","globalPlugins","buildHtmlRenderer","domNodes","buildDomNodeRenderer","currentEl","currentHtml","currentDomNodes","newDomNodes","newDomNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","delay","isPaused","tryDrain","pause","scope","resume","force","depth","drained","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","optionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","selectionConfig","contextAndState","reducer","computeIsLoading","resetOptions","append","isEventsLoading","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","anyChanges","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","prevProps","newOptionOverrides","NamedTimeZoneImpl","SegHierarchy","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","hiddenEntries","insertEntry","entry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","thickness","stackCnt","touchingEntry","splitEntry","barrier","partCnt","splitHiddenEntries","entrySpan","barrierSpan","intersectSpans","lateral","insertAt","level","buildEntryKey","newEntry","levelCnt","candidateCoord","touchingLevel","touchingLateral","trackingLevel","trackingCoord","trackingEntries","trackingEntry","searchRes","binarySearch","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","toRects","rects","entries","entries_1","groupIntersectingEntries","merges","entries_2","filteredMerges","hungryMerge","merges_1","merge","joinSpans","searchVal","getItemVal","middleIndex","middleVal","Interaction","isHitComboAllowed","parseInteractionSettings","useEventCenter","interactionSettingsToStore","interactionSettingsStore","ElementDragging","setMirrorIsVisible","setMirrorNeedsRevert","setAutoScrollEnabled","DRAG_META_REFINERS","parseDragMeta","leftoverProps","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","titleId","isPressed","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","buttonClasses","groupClassName","Toolbar","startContent","endContent","extraClassName","forceLtr","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","liquid","labeledById","EventClicking","handleSegClick","segEl","hasUrlContainer","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","headerRef","footerRef","interactionsStore","viewLabelId","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","listener","resizeRunner","viewAspectRatio","toolbarProps","viewVGrow","isHeightAuto","forPrint","viewContext","renderView","buildAppendContent","CalendarInteractionClass","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","navLinkAttrs","colCnt","extraHookProps","role","colSpan","extraDataAttrs","isSticky","WEEKDAY_FORMAT","TableDowCell","dateMeta","extraClassNames","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","segs_1","eventRanges","eventRanges_1","sliceEventRange","segs_2","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","marginBottom","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","isHeader","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","currentConfig","configCnt","configI","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","roleAttrs","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","sections_1","EventRoot","timeText","disableDragging","disableResizing","isDateSelecting","standardClassNames","StandardEvent","defaultTimeFormat","renderInnerContent$1","innerProps","NowIndicatorRoot","isAxis","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","showDayNumber","extraProps","dayNumberText","DayCellRoot","refineHookProps","dataAttrs","renderFill","fillType","BgEvent","WeekNumberRoot","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","handleDocumentMouseDown","handleCloseClick","handleDocumentKeyDown","extraAttrs","parentEl","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin_1","offsetParent","MorePopover","startDate","dayClassNames","extraDateSpan","dayEl","layer","MoreLinkRoot","linkElRef","isPopoverOpen","popoverId","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","Calendar","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","currentData_1","setClassNames","setHeight","wasRendering","pauseRendering","resumeRendering","classNames_1","OPTION_IS_COMPLEX","resources","shallowCopy","output","wrapVDomGenerator","vDomGenerator","vue","createVueContentTypePlugin","buildVDomHandler","vDomContent","$destroy","initVue","$mount","initialContent","FullCalendar","initData","mounted","internal","scopedSlotOptions","$scopedSlots","calendar","$el","buildOptions","getApi","beforeUpdate","beforeDestroy","buildWatchers","suppliedOptions","watchers","deep","_loop_1","complexOptionName","GlobalVue","installed","install","Vue","use","namespaced","label","selectedCalendars","getters","mutations","SET_SELECTED_EVENTS","actions","fetchEvents","calendars","reject","axios","response","catch","post","directives","rawName","modifiers","_v","_m","checkAll","_l","useCalendarSidebar","store","commit","Ripple","BButton","BFormCheckbox","BFormGroup","require","setup","scopedSlots","_u","hide","eventLocal","handleSubmit","onSubmit","validationContext","$set","errors","$store","appConfig","isRTL","staticStyle","guestsOptions","avatar","useCalendarEventHandler","emit","resetEventLocal","eventData","BSidebar","BFormInput","BFormTextarea","vSelect","flatPickr","ValidationProvider","BFormInvalidFeedback","ValidationObserver","prop","Function","email","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","TableCellTop","renderTopInner","forceDayTop","dayNumberId","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableBlockEvent","TableListItemEvent","TableCellMoreLink","compileSegs","singlePlacements","invisibleSegs","isForcedInvisible","isExpanded","singlePlacements_1","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","TableCell","dayElRef","rootDataAttrs","showWeekNumber","weekElRef","weekClassNames","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","computeFgSegPlacement","eventInstanceHeights","maxContentHeight","hierarchy","hiddenConsumes","segInputs","unknownHeightSegs","eventHeight","segRects","placeRects","singleColPlacements","multiColPlacements","leftoverMargins","moreCnts","moreMarginTops","unknownHeightSegs_1","absoluteTop","resliceSeg","hiddenEntries_1","hiddenEntry","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","currentHeight","currentMarginTop","rects_1","multiPlacements","rects_2","isFirstCol","rects_3","spanStart","spanEnd","DayGridSegHierarchy","forceHidden","excludeHidden","touchingEntryId","placeholderEntry","placeholderEntryId","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","updateSizing","prevState","currentProps","segPlacements","segPlacements_1","leftRightCss","isExternalSizingChange","frameEls","oldInstanceHeights","newInstanceHeights","queryEventInstanceHeights","limitByContentHeight","computeMaxContentHeight","segElMap","firstKey","fcContainerEl","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","colPlacements_1","placements","placements_1","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","colGroupNode","renderRowIntro","isSegAllDay","rowPositions","rowObj","colPositions","getCellRange","getCellEl","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","headerAlignElRef","DayTableView","buildDayTableModel","headerContent","contentArg","TableDateProfileGenerator","endOfWeek","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","AllDaySplitter","timed","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","isoTimeStr","labelFormat","TimeBodyAxis","slatMetas","slatMeta","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","slatCoords","handleScrollTopRequest","renderHeadAxis","rowKey","frameHeight","renderTableRowAxis","rowHeight","renderAllDayInner","handleSlatCoords","timeContent","isNowIndicator","nowIndicatorTop","safeComputeTop","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","startOfDayDate","timeMs","computeTimeTop","computeDateTop","when","slatIndex","slatRemainder","slatCoverage","TimeColsSlatsBody","slatElRefs","axis","TimeColsSlats","minHeight","onCoords","collectSlatEls","splitSegsByCol","segsByCol","splitInteractionByCol","TimeColMoreLink","renderPlainFgSegs","buildPositioning","hiddenGroups","web","buildWeb","stretchWeb","webToRects","buildNode","cacheable","siblingRange","findNextLevelSegs","nextLevelRes","buildNodes","nextLevelNodes","lateralStart","lateralEnd","pairs","cmpDescPressures","extractNode","subjectLevel","subjectLateral","subjectEntry","afterSubject","searchIndex","topLevelNodes","totalThickness","stretchNode","startCoord","prevThickness","endCoord","allThickness","thicknessFraction","newChildren","nextLevelNodes_1","childNode","newThickness","processNode","stackDepth","stackForward","processNodes","nodes_1","keyFunc","workFunc","cache","computeSegVCoords","colDate","vcoords","computeFgSegPlacements","segVCoords","dumbSegs","segRects_1","segRect","dumbSegs_1","dumbSeg","DEFAULT_TIME_FORMAT","TimeColEvent","isShort","TimeColMisc","TimeCol","isSelectMirror","interactionAffectedInstances","sortedFgSegs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","renderPositionedFgSegs","renderHiddenGroups","segPlacement","vStyle","computeSegVStyle","hStyle","computeSegHStyle","isInset","hiddenGroup","positionCss","compileSegsFromEntries","segHCoords","shouldOverlap","nearCoord","farCoord","zIndex","hiddenInstances","segEntries","segEntry","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","onScrollTopRequest","top_1","handleColCoords","colCoords","onSlatCoords","scrollResponder","snapsPerSlot","colIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","dayDate","snapDurationOverride","DayTimeColsSlicer","dayRanges","DayTimeCols","buildDayRanges","timeColsRef","STOCK_SUB_DURATIONS","buildSlatMetas","explicitLabelInterval","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","DayTimeColsView","buildTimeColsModel","hasAttachedAxis","hasDetachedAxis","allDaySlot","timeGridContent","OPTION_REFINERS","timeGrid","timeGridDay","timeGridWeek","ListViewHeaderRow","textId","cellId","listDayFormat","sideText","listDaySideFormat","sideNavLinkAttrs","ListViewEventRow","timeHeaderId","eventHeaderId","dateHeaderId","renderEventInnerContent","buildTimeContent","headers","interactiveAttrs","doAllDay","ListView","computeDateVars","eventStoreToSegs","_eventStoreToSegs","dateHeaderIdRoot","setRootEl","dayDates","renderSegList","renderEmptyMessage","noEventsClassNames","noEventsContent","renderNoEventsInner","noEventsDidMount","noEventsWillUnmount","segsByDay","groupSegsByDay","innerNodes","daySegs","dayStr","daySegs_1","eventRangesToSegs","eventRangeToSegs","viewEnd","createFalsableFormatter","listDay","listWeek","listMonth","listYear","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","deltaX","origPageX","deltaY","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","onWindowTouchMove","ElementMirror","sourceEl","mirrorEl","sourceElRect","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","stop","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","boxSizing","margin","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","ElementScrollGeomCache","WindowScrollGeomCache","performance","AutoScroller","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","scrollCache","invDistance","distance","velocity","bestSide","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","subjectRect","origPoint","adjustedPoint","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","componentId","hit0","hit1","buildDatePointApiWithContext","buildDatePointApi","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSpan0","dateSpan1","dateSelectionTransformers_1","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay","fixedMirrorParent","receivingOptions","computeEventMutation","displayDrag","initialContext_1","receivingContext_1","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","massagers","massagers_1","massager","EventResizing","draggingSegEl","draggingSeg","querySegEl","computeMutation","isFromStart","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents_1","getDragMetaFromEl","defProps","getEmbeddedElData","dataAttrPrefix","prefixedName","ExternalDraggable","itemSelector","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","userCalendar","toast","useToast","refCalendar","onMounted","calendarsColor","Business","Holiday","Personal","Family","ETC","blankEvent","guests","description","updateEventInCalendar","updatedEventData","propsToUpdate","extendedPropsToUpdate","ToastificationContent","existingEvent","removeEventInCalendar","eventId","grabEventDataFromEventApi","updatedEvent","dayGridPlugin","interactionPlugin","timeGridPlugin","listPlugin","calendarEvent","colorName","clickedEvent","sidebarToggle","droppedEvent","resizedEvent","CalendarSidebar","CalendarEventHandler","plain","formCustomMixin","custom","_watch","ROOT_ACTION_EVENT_NAME_REQUEST_STATE","ROOT_ACTION_EVENT_NAME_TOGGLE","ROOT_EVENT_NAME_STATE","ROOT_EVENT_NAME_SYNC_STATE","_makeModelMixin","modelMixin","mixin","modelProps","MODEL_PROP_NAME","MODEL_EVENT_NAME","ariaLabel","ariaLabelledby","backdrop","backdropVariant","bgVariant","bodyClass","closeLabel","footerClass","headerClass","lazy","noCloseOnBackdrop","noCloseOnEsc","noCloseOnRouteChange","noEnforceFocus","noHeader","noHeaderClose","noSlide","shadow","sidebarClass","textVariant","renderHeaderTitle","normalizeSlot","slotScope","safeId","renderHeaderClose","renderHeader","$content","$title","$close","renderBody","renderFooter","$footer","renderContent","$header","renderBackdrop","localShow","onBackdropClick","inheritAttrs","visible","transitionProps","css","enterClass","enterActiveClass","enterToClass","leaveClass","leaveActiveClass","leaveToClass","$slots","hasNormalizedSlot","computedAttrs","bvAttrs","emitState","fullPath","created","$_returnFocusEl","listenOnRoot","handleToggle","handleSync","$nextTick","activated","emitSync","emitOnRoot","_this2","onKeydown","onTopTrapFocus","tabables","$refs","enforceFocus","onBottomTrapFocus","onBeforeEnter","onAfterEnter","onAfterLeave","$sidebar","beforeEnter","afterEnter","afterLeave","$backdrop","noFade","$tabTrapTop","$tabTrapBottom","keydown","toStringTag","__esModule","onInput","validator","fp","getElem","fpInput","$on","$watch","watchDisabled","immediate","MODEL_PROP_NAME_INDETERMINATE","MODEL_EVENT_NAME_INDETERMINATE","isChecked","isRadio","setIndeterminate","computedLocalCheckedWatcher","$input","indeterminate","handleChange","_ref$target","uncheckedValue","localChecked","isGroup","_methods","buttonVariant","formRadioCheckMixin","hasFocus","isBtnMode","buttons","isPlain","isCustom","isSwitch","switches","switch","isInline","isRequired","computedName","groupName","computedForm","form","computedSize","computedState","computedButtonVariant","_ref2","stateClass","change","handleFocus","$button","$label","SIZES","FONT_SIZE_SCALE","BADGE_FONT_SIZE_SCALE","computeSize","linkProps","badge","badgeLeft","badgeOffset","badgeTop","badgeVariant","buttonType","square","bvAvatarGroup","localSrc","computedVariant","computedRounded","fontStyle","fontSize","marginStyle","overlapScale","badgeStyle","onImgError","_class2","link","$badge","hasBadgeSlot","badgeText","componentData","PASS_DOWN_ATTRS","ariaInvalid","formRadioCheckGroupMixin","groupClasses","$attrs","optionComponent","$inputs","computedAriaInvalid"],"mappings":"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","file":"js/chunk-b595ce6a.516e765f.js","sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue, mergeData } from '../vue';\nimport { NAME_ICON } from '../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../constants/props';\nimport { RX_ICON_PREFIX } from '../constants/regex';\nimport { omit, sortKeys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { pascalCase, trim } from '../utils/string';\nimport { BIconBlank } from './icons';\nimport { props as BVIconBaseProps } from './helpers/icon-base'; // --- Helper methods ---\n\nvar findIconComponent = function findIconComponent(ctx, iconName) {\n  if (!ctx) {\n    return null;\n  }\n\n  var components = (ctx.$options || {}).components;\n  var iconComponent = components[iconName];\n  return iconComponent || findIconComponent(ctx.$parent, iconName);\n}; // --- Props ---\n\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, omit(BVIconBaseProps, ['content', 'stacked'])), {}, {\n  icon: makeProp(PROP_TYPE_STRING),\n  stacked: makeProp(PROP_TYPE_BOOLEAN, false)\n})), NAME_ICON); // --- Main component ---\n// Helper BIcon component\n// Requires the requested icon component to be installed\n// @vue/component\n\nexport var BIcon = /*#__PURE__*/Vue.extend({\n  name: NAME_ICON,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var data = _ref.data,\n        props = _ref.props,\n        parent = _ref.parent;\n    var icon = pascalCase(trim(props.icon || '')).replace(RX_ICON_PREFIX, ''); // If parent context exists, we check to see if the icon has been registered\n    // either locally in the parent component, or globally at the `$root` level\n    // If not registered, we render a blank icon\n\n    return h(icon ? findIconComponent(parent, \"BIcon\".concat(icon)) || BIconBlank : BIconBlank, mergeData(data, {\n      props: _objectSpread(_objectSpread({}, props), {}, {\n        icon: null\n      })\n    }));\n  }\n});","import { Vue } from '../vue';\nimport { PROP_TYPE_ARRAY_OBJECT, PROP_TYPE_STRING } from '../constants/props';\nimport { get } from '../utils/get';\nimport { stripTags } from '../utils/html';\nimport { isArray, isPlainObject, isUndefined } from '../utils/inspect';\nimport { keys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { warn } from '../utils/warn'; // --- Constants ---\n\nvar OPTIONS_OBJECT_DEPRECATED_MSG = 'Setting prop \"options\" to an object is deprecated. Use the array format instead.'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  disabledField: makeProp(PROP_TYPE_STRING, 'disabled'),\n  htmlField: makeProp(PROP_TYPE_STRING, 'html'),\n  options: makeProp(PROP_TYPE_ARRAY_OBJECT, []),\n  textField: makeProp(PROP_TYPE_STRING, 'text'),\n  valueField: makeProp(PROP_TYPE_STRING, 'value')\n}, 'formOptionControls'); // --- Mixin ---\n// @vue/component\n\nexport var formOptionsMixin = Vue.extend({\n  props: props,\n  computed: {\n    formOptions: function formOptions() {\n      return this.normalizeOptions(this.options);\n    }\n  },\n  methods: {\n    normalizeOption: function normalizeOption(option) {\n      var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      // When the option is an object, normalize it\n      if (isPlainObject(option)) {\n        var value = get(option, this.valueField);\n        var text = get(option, this.textField);\n        return {\n          value: isUndefined(value) ? key || text : value,\n          text: stripTags(String(isUndefined(text) ? key : text)),\n          html: get(option, this.htmlField),\n          disabled: Boolean(get(option, this.disabledField))\n        };\n      } // Otherwise create an `<option>` object from the given value\n\n\n      return {\n        value: key || option,\n        text: stripTags(String(option)),\n        disabled: false\n      };\n    },\n    normalizeOptions: function normalizeOptions(options) {\n      var _this = this;\n\n      // Normalize the given options array\n      if (isArray(options)) {\n        return options.map(function (option) {\n          return _this.normalizeOption(option);\n        });\n      } else if (isPlainObject(options)) {\n        // Deprecate the object options format\n        warn(OPTIONS_OBJECT_DEPRECATED_MSG, this.$options.name); // Normalize a `options` object to an array of options\n\n        return keys(options).map(function (key) {\n          return _this.normalizeOption(options[key] || {}, key);\n        });\n      } // If not an array or object, return an empty array\n\n      /* istanbul ignore next */\n\n\n      return [];\n    }\n  }\n});","import { Vue, mergeData } from '../../vue';\nimport { NAME_FORM } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { makeProp, makePropsConfigurable } from '../../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  id: makeProp(PROP_TYPE_STRING),\n  inline: makeProp(PROP_TYPE_BOOLEAN, false),\n  novalidate: makeProp(PROP_TYPE_BOOLEAN, false),\n  validated: makeProp(PROP_TYPE_BOOLEAN, false)\n}, NAME_FORM); // --- Main component ---\n// @vue/component\n\nexport var BForm = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h('form', mergeData(data, {\n      class: {\n        'form-inline': props.inline,\n        'was-validated': props.validated\n      },\n      attrs: {\n        id: props.id,\n        novalidate: props.novalidate\n      }\n    }), children);\n  }\n});","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarEventHandler.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toastification\"},[_c('div',{staticClass:\"d-flex align-items-start\"},[_c('b-avatar',{staticClass:\"mr-75 flex-shrink-0\",attrs:{\"variant\":_vm.variant,\"size\":\"1.8rem\"}},[_c('feather-icon',{attrs:{\"icon\":_vm.icon,\"size\":\"15\"}})],1),_c('div',{staticClass:\"d-flex flex-grow-1\"},[_c('div',[(_vm.title)?_c('h5',{staticClass:\"mb-0 font-weight-bolder toastification-title\",class:(\"text-\" + _vm.variant),domProps:{\"textContent\":_vm._s(_vm.title)}}):_vm._e(),(_vm.text)?_c('small',{staticClass:\"d-inline-block text-body\",domProps:{\"textContent\":_vm._s(_vm.text)}}):_vm._e()]),_c('span',{staticClass:\"cursor-pointer toastification-close-icon ml-auto \",on:{\"click\":function($event){return _vm.$emit('close-toast')}}},[(!_vm.hideClose)?_c('feather-icon',{staticClass:\"text-body\",attrs:{\"icon\":\"XIcon\"}}):_vm._e()],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"toastification\">\n    <div class=\"d-flex align-items-start\">\n      <b-avatar\n        :variant=\"variant\"\n        size=\"1.8rem\"\n        class=\"mr-75 flex-shrink-0\"\n      >\n        <feather-icon\n          :icon=\"icon\"\n          size=\"15\"\n        />\n      </b-avatar>\n      <div class=\"d-flex flex-grow-1\">\n        <div>\n          <h5\n            v-if=\"title\"\n            class=\"mb-0 font-weight-bolder toastification-title\"\n            :class=\"`text-${variant}`\"\n            v-text=\"title\"\n          />\n          <small\n            v-if=\"text\"\n            class=\"d-inline-block text-body\"\n            v-text=\"text\"\n          />\n        </div>\n        <span\n          class=\"cursor-pointer toastification-close-icon ml-auto \"\n          @click=\"$emit('close-toast')\"\n        >\n          <feather-icon\n            v-if=\"!hideClose\"\n            icon=\"XIcon\"\n            class=\"text-body\"\n          />\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { BAvatar } from 'bootstrap-vue'\n\nexport default {\n  components: {\n    BAvatar,\n  },\n  props: {\n    variant: {\n      type: String,\n      default: 'primary',\n    },\n    icon: {\n      type: String,\n      default: null,\n    },\n    title: {\n      type: String,\n      default: null,\n    },\n    text: {\n      type: String,\n      default: null,\n    },\n    hideClose: {\n      type: Boolean,\n      default: false,\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.toastification-close-icon,\n.toastification-title {\n  line-height: 26px;\n}\n\n.toastification-title {\n  color: inherit;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToastificationContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToastificationContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ToastificationContent.vue?vue&type=template&id=55dd3057&scoped=true&\"\nimport script from \"./ToastificationContent.vue?vue&type=script&lang=js&\"\nexport * from \"./ToastificationContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ToastificationContent.vue?vue&type=style&index=0&id=55dd3057&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55dd3057\",\n  null\n  \n)\n\nexport default component.exports","var _objectSpread2;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_CHECKBOX_GROUP } from '../../constants/components';\nimport { PROP_TYPE_ARRAY, PROP_TYPE_BOOLEAN } from '../../constants/props';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { MODEL_PROP_NAME, formRadioCheckGroupMixin, props as formRadioCheckGroupProps } from '../../mixins/form-radio-check-group'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, formRadioCheckGroupProps), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, MODEL_PROP_NAME, makeProp(PROP_TYPE_ARRAY, [])), _defineProperty(_objectSpread2, \"switches\", makeProp(PROP_TYPE_BOOLEAN, false)), _objectSpread2))), NAME_FORM_CHECKBOX_GROUP); // --- Main component ---\n// @vue/component\n\nexport var BFormCheckboxGroup = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_CHECKBOX_GROUP,\n  // Includes render function\n  mixins: [formRadioCheckGroupMixin],\n  provide: function provide() {\n    return {\n      bvCheckGroup: this\n    };\n  },\n  props: props,\n  computed: {\n    isRadioGroup: function isRadioGroup() {\n      return false;\n    }\n  }\n});","import { ref, nextTick } from '@vue/composition-api'\n\n// ===========================================================\n// ! This is coupled with \"veeValidate\" plugin\n// ===========================================================\n\nexport default function formValidation(resetFormData, clearFormData = () => {}) {\n  // ------------------------------------------------\n  // refFormObserver\n  // ! This is for veeValidate Observer\n  // * Used for veeValidate form observer\n  // ------------------------------------------------\n  const refFormObserver = ref(null)\n\n  // ------------------------------------------------\n  // resetObserver\n  // ! This function is coupled with veeValidate\n  // * It resets form observer\n  // ------------------------------------------------\n  const resetObserver = () => {\n    refFormObserver.value.reset()\n  }\n\n  // ------------------------------------------------\n  // getValidationState\n  // ! This function is coupled with veeValidate\n  // * It returns true/false based on validation\n  // ------------------------------------------------\n  // eslint-disable-next-line object-curly-newline\n  const getValidationState = ({ dirty, validated, required: fieldRequired, changed, valid = null }) => {\n    const result = dirty || validated ? valid : null\n    return !fieldRequired && !changed ? null : result\n  }\n\n  // ------------------------------------------------\n  // resetForm\n  // ! This function is coupled with veeValidate\n  // * This uses resetFormData arg to reset form data\n  // ------------------------------------------------\n  const resetForm = () => {\n    resetFormData()\n    nextTick(() => {\n      resetObserver()\n    })\n  }\n\n  // ------------------------------------------------\n  // clearForm\n  // ! This function is coupled with veeValidate\n  // * This uses clearFormData arg to reset form data\n  // ------------------------------------------------\n  const clearForm = () => {\n    clearFormData()\n    nextTick(() => {\n      resetObserver()\n    })\n  }\n\n  return {\n    refFormObserver,\n    resetObserver,\n    getValidationState,\n    resetForm,\n    clearForm,\n  }\n}\n","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue, mergeData } from '../../vue';\nimport { NAME_IMG } from '../../constants/components';\nimport { PROP_TYPE_ARRAY_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { concat } from '../../utils/array';\nimport { identity } from '../../utils/identity';\nimport { isString } from '../../utils/inspect';\nimport { toInteger } from '../../utils/number';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { toString } from '../../utils/string'; // --- Constants --\n// Blank image with fill template\n\nvar BLANK_TEMPLATE = '<svg width=\"%{w}\" height=\"%{h}\" ' + 'xmlns=\"http://www.w3.org/2000/svg\" ' + 'viewBox=\"0 0 %{w} %{h}\" preserveAspectRatio=\"none\">' + '<rect width=\"100%\" height=\"100%\" style=\"fill:%{f};\"></rect>' + '</svg>'; // --- Helper methods ---\n\nvar makeBlankImgSrc = function makeBlankImgSrc(width, height, color) {\n  var src = encodeURIComponent(BLANK_TEMPLATE.replace('%{w}', toString(width)).replace('%{h}', toString(height)).replace('%{f}', color));\n  return \"data:image/svg+xml;charset=UTF-8,\".concat(src);\n}; // --- Props ---\n\n\nexport var props = makePropsConfigurable({\n  alt: makeProp(PROP_TYPE_STRING),\n  blank: makeProp(PROP_TYPE_BOOLEAN, false),\n  blankColor: makeProp(PROP_TYPE_STRING, 'transparent'),\n  block: makeProp(PROP_TYPE_BOOLEAN, false),\n  center: makeProp(PROP_TYPE_BOOLEAN, false),\n  fluid: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Gives fluid images class `w-100` to make them grow to fit container\n  fluidGrow: makeProp(PROP_TYPE_BOOLEAN, false),\n  height: makeProp(PROP_TYPE_NUMBER_STRING),\n  left: makeProp(PROP_TYPE_BOOLEAN, false),\n  right: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Possible values:\n  //   `false`: no rounding of corners\n  //   `true`: slightly rounded corners\n  //   'top': top corners rounded\n  //   'right': right corners rounded\n  //   'bottom': bottom corners rounded\n  //   'left': left corners rounded\n  //   'circle': circle/oval\n  //   '0': force rounding off\n  rounded: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  sizes: makeProp(PROP_TYPE_ARRAY_STRING),\n  src: makeProp(PROP_TYPE_STRING),\n  srcset: makeProp(PROP_TYPE_ARRAY_STRING),\n  thumbnail: makeProp(PROP_TYPE_BOOLEAN, false),\n  width: makeProp(PROP_TYPE_NUMBER_STRING)\n}, NAME_IMG); // --- Main component ---\n// @vue/component\n\nexport var BImg = /*#__PURE__*/Vue.extend({\n  name: NAME_IMG,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var _class;\n\n    var props = _ref.props,\n        data = _ref.data;\n    var alt = props.alt,\n        src = props.src,\n        block = props.block,\n        fluidGrow = props.fluidGrow,\n        rounded = props.rounded;\n    var width = toInteger(props.width) || null;\n    var height = toInteger(props.height) || null;\n    var align = null;\n    var srcset = concat(props.srcset).filter(identity).join(',');\n    var sizes = concat(props.sizes).filter(identity).join(',');\n\n    if (props.blank) {\n      if (!height && width) {\n        height = width;\n      } else if (!width && height) {\n        width = height;\n      }\n\n      if (!width && !height) {\n        width = 1;\n        height = 1;\n      } // Make a blank SVG image\n\n\n      src = makeBlankImgSrc(width, height, props.blankColor || 'transparent'); // Disable srcset and sizes\n\n      srcset = null;\n      sizes = null;\n    }\n\n    if (props.left) {\n      align = 'float-left';\n    } else if (props.right) {\n      align = 'float-right';\n    } else if (props.center) {\n      align = 'mx-auto';\n      block = true;\n    }\n\n    return h('img', mergeData(data, {\n      attrs: {\n        src: src,\n        alt: alt,\n        width: width ? toString(width) : null,\n        height: height ? toString(height) : null,\n        srcset: srcset || null,\n        sizes: sizes || null\n      },\n      class: (_class = {\n        'img-thumbnail': props.thumbnail,\n        'img-fluid': props.fluid || fluidGrow,\n        'w-100': fluidGrow,\n        rounded: rounded === '' || rounded === true\n      }, _defineProperty(_class, \"rounded-\".concat(rounded), isString(rounded) && rounded !== ''), _defineProperty(_class, align, align), _defineProperty(_class, 'd-block', block), _class)\n    }));\n  }\n});","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&lang=scss&\"","export const HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport const defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: (err) => typeof console !== \"undefined\" && console.warn(err),\n    getWeek: (givenDate) => {\n        const date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","export const english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: (nth) => {\n        const s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","export const pad = (number, length = 2) => `000${number}`.slice(length * -1);\nexport const int = (bool) => (bool === true ? 1 : 0);\nexport function debounce(fn, wait) {\n    let t;\n    return function () {\n        clearTimeout(t);\n        t = setTimeout(() => fn.apply(this, arguments), wait);\n    };\n}\nexport const arrayify = (obj) => obj instanceof Array ? obj : [obj];\n","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    const e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    const wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (const key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            const path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","import { int, pad } from \"../utils\";\nconst doNothing = () => undefined;\nexport const monthToStr = (monthNumber, shorthand, locale) => locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber];\nexport const revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    H: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: (dateObj, amPM, locale) => {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: (dateObj, seconds) => {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: (_, unixSeconds) => new Date(parseFloat(unixSeconds) * 1000),\n    W: function (dateObj, weekNum, locale) {\n        const weekNumber = parseInt(weekNum);\n        const date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: (dateObj, year) => {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: (_, ISODate) => new Date(ISODate),\n    d: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    i: (dateObj, minutes) => {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: (dateObj, month) => {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: (dateObj, month) => {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: (dateObj, seconds) => {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: (_, unixMillSeconds) => new Date(parseFloat(unixMillSeconds)),\n    w: doNothing,\n    y: (dateObj, year) => {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport const tokenRegex = {\n    D: \"(\\\\w+)\",\n    F: \"(\\\\w+)\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"(\\\\w+)\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"(\\\\w+)\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport const formats = {\n    Z: (date) => date.toISOString(),\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: (date) => pad(date.getHours()),\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: (date, locale) => locale.amPM[int(date.getHours() > 11)],\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: (date) => pad(date.getSeconds()),\n    U: (date) => date.getTime() / 1000,\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: (date) => pad(date.getFullYear(), 4),\n    d: (date) => pad(date.getDate()),\n    h: (date) => (date.getHours() % 12 ? date.getHours() % 12 : 12),\n    i: (date) => pad(date.getMinutes()),\n    j: (date) => date.getDate(),\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: (date) => pad(date.getMonth() + 1),\n    n: (date) => date.getMonth() + 1,\n    s: (date) => date.getSeconds(),\n    u: (date) => date.getTime(),\n    w: (date) => date.getDay(),\n    y: (date) => String(date.getFullYear()).substring(2),\n};\n","import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport const createDateFormatter = ({ config = defaults, l10n = english, isMobile = false, }) => (dateObj, frmt, overrideLocale) => {\n    const locale = overrideLocale || l10n;\n    if (config.formatDate !== undefined && !isMobile) {\n        return config.formatDate(dateObj, frmt, locale);\n    }\n    return frmt\n        .split(\"\")\n        .map((c, i, arr) => formats[c] && arr[i - 1] !== \"\\\\\"\n        ? formats[c](dateObj, locale, config)\n        : c !== \"\\\\\"\n            ? c\n            : \"\")\n        .join(\"\");\n};\nexport const createDateParser = ({ config = defaults, l10n = english }) => (date, givenFormat, timeless, customLocale) => {\n    if (date !== 0 && !date)\n        return undefined;\n    const locale = customLocale || l10n;\n    let parsedDate;\n    const dateOrig = date;\n    if (date instanceof Date)\n        parsedDate = new Date(date.getTime());\n    else if (typeof date !== \"string\" &&\n        date.toFixed !== undefined)\n        parsedDate = new Date(date);\n    else if (typeof date === \"string\") {\n        const format = givenFormat || (config || defaults).dateFormat;\n        const datestr = String(date).trim();\n        if (datestr === \"today\") {\n            parsedDate = new Date();\n            timeless = true;\n        }\n        else if (/Z$/.test(datestr) ||\n            /GMT$/.test(datestr))\n            parsedDate = new Date(date);\n        else if (config && config.parseDate)\n            parsedDate = config.parseDate(date, format);\n        else {\n            parsedDate =\n                !config || !config.noCalendar\n                    ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                    : new Date(new Date().setHours(0, 0, 0, 0));\n            let matched, ops = [];\n            for (let i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                const token = format[i];\n                const isBackSlash = token === \"\\\\\";\n                const escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                if (tokenRegex[token] && !escaped) {\n                    regexStr += tokenRegex[token];\n                    const match = new RegExp(regexStr).exec(date);\n                    if (match && (matched = true)) {\n                        ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                            fn: revFormat[token],\n                            val: match[++matchIndex],\n                        });\n                    }\n                }\n                else if (!isBackSlash)\n                    regexStr += \".\";\n                ops.forEach(({ fn, val }) => (parsedDate = fn(parsedDate, val, locale) || parsedDate));\n            }\n            parsedDate = matched ? parsedDate : undefined;\n        }\n    }\n    if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n        config.errorHandler(new Error(`Invalid date provided: ${dateOrig}`));\n        return undefined;\n    }\n    if (timeless === true)\n        parsedDate.setHours(0, 0, 0, 0);\n    return parsedDate;\n};\nexport function compareDates(date1, date2, timeless = true) {\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport const isBetween = (ts, ts1, ts2) => {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport const duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    let hours = config.defaultHour;\n    let minutes = config.defaultMinute;\n    let seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        const minHour = config.minDate.getHours();\n        const minMinutes = config.minDate.getMinutes();\n        const minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        const maxHr = config.maxDate.getHours();\n        const maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours, minutes, seconds };\n}\n","import { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nconst DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    const self = {\n        config: Object.assign(Object.assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self._createElement = createElement;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth(month = self.currentMonth, yr = self.currentYear) {\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        const config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    const daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            const defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            const defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        const prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        let hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        const limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        const limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (limitMaxHours) {\n            const maxTime = self.config.maxTime !== undefined\n                ? self.config.maxTime\n                : self.config.maxDate;\n            hours = Math.min(hours, maxTime.getHours());\n            if (hours === maxTime.getHours())\n                minutes = Math.min(minutes, maxTime.getMinutes());\n            if (minutes === maxTime.getMinutes())\n                seconds = Math.min(seconds, maxTime.getSeconds());\n        }\n        if (limitMinHours) {\n            const minTime = self.config.minTime !== undefined\n                ? self.config.minTime\n                : self.config.minDate;\n            hours = Math.max(hours, minTime.getHours());\n            if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                minutes = minTime.getMinutes();\n            if (minutes === minTime.getMinutes())\n                seconds = Math.max(seconds, minTime.getSeconds());\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        const date = dateObj || self.latestSelectedDateObj;\n        if (date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        const eventTarget = getEventTarget(event);\n        const year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach((ev) => bind(element, ev, handler, options));\n        if (element instanceof Array)\n            return element.forEach((el) => bind(el, event, handler, options));\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: () => element.removeEventListener(event, handler),\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach((evt) => {\n                Array.prototype.forEach.call(self.element.querySelectorAll(`[data-${evt}]`), (el) => bind(el, \"click\", self[evt]));\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        const debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", (e) => {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(window.document.body, \"keydown\", onKeyDown);\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            const selText = (e) => getEventTarget(e).select();\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", () => self.secondElement && self.secondElement.select());\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", (e) => {\n                    updateTime(e);\n                    triggerChange();\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        const jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        const oldYear = self.currentYear;\n        const oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        const eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        const target = e && getEventTarget(e);\n        const input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        const event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        const fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                const { weekWrapper, weekNumbers } = buildWeeks();\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        const customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                const wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, dayNumber, i) {\n        const dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", \"flatpickr-day \" + className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            dayNumber % 7 === 1) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        const startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        const endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (let m = startMonth; m != endMonth; m += delta) {\n            const month = self.daysContainer.children[m];\n            const startIndex = delta > 0 ? 0 : month.children.length - 1;\n            const endIndex = delta > 0 ? month.children.length : -1;\n            for (let i = startIndex; i != endIndex; i += delta) {\n                const c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        const givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        const endMonth = delta > 0 ? self.config.showMonths : -1;\n        const loopDelta = delta > 0 ? 1 : -1;\n        for (let m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            const month = self.daysContainer.children[m];\n            const startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            const numMonthDays = month.children.length;\n            for (let i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                const c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        const dayFocused = isInView(document.activeElement || document.body);\n        const startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? document.activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        const firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        const prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        const daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        let dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (let dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        const dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        const frag = document.createDocumentFragment();\n        for (let i = 0; i < self.config.showMonths; i++) {\n            const d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        const shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (let i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            const month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        const container = createElement(\"div\", \"flatpickr-month\");\n        const monthNavFragment = window.document.createDocumentFragment();\n        let monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", (e) => {\n                const target = getEventTarget(e);\n                const selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        const yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        const yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        const currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container,\n            yearElement,\n            monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (let m = self.config.showMonths; m--;) {\n            const month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: () => self.__hidePrevMonthArrow,\n            set(bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: () => self.__hideNextMonthArrow,\n            set(bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        const defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        const separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        const hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        const minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            const secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (let i = self.config.showMonths; i--;) {\n            const container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        const firstDayOfWeek = self.l10n.firstDayOfWeek;\n        let weekdays = [...self.l10n.weekdays.shorthand];\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = [\n                ...weekdays.splice(firstDayOfWeek, weekdays.length),\n                ...weekdays.splice(0, firstDayOfWeek),\n            ];\n        }\n        for (let i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = `\n      <span class='flatpickr-weekday'>\n        ${weekdays.join(\"</span><span class='flatpickr-weekday'>\")}\n      </span>\n      `;\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        const weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        const weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper,\n            weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset = true) {\n        const delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent = true, toInitial = true) {\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            const { hours, minutes, seconds } = getDefaultHours(self.config);\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (let i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                const wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach((k) => {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        if (self.config.appendTo && self.config.appendTo.contains(elem))\n            return true;\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            const eventTarget = getEventTarget(e);\n            const isCalendarElement = isCalendarElem(eventTarget);\n            const isInput = eventTarget === self.input ||\n                eventTarget === self.altInput ||\n                self.element.contains(eventTarget) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            const lostFocus = e.type === \"blur\"\n                ? isInput &&\n                    e.relatedTarget &&\n                    !isCalendarElem(e.relatedTarget)\n                : !isInput &&\n                    !isCalendarElement &&\n                    !isCalendarElem(e.relatedTarget);\n            const isIgnored = !self.config.ignoredFocusElements.some((elem) => elem.contains(eventTarget));\n            if (lostFocus && isIgnored) {\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1) {\n                    self.clear(false);\n                    self.redraw();\n                }\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        const newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless = true) {\n        var _a;\n        const dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        const bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (let i = 0, d; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                const parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        const isInput = e.target === self._input;\n        if (isInput &&\n            (self.selectedDates.length > 0 || self._input.value.length > 0) &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        const eventTarget = getEventTarget(e);\n        const isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        const allowInput = self.config.allowInput;\n        const allowKeydown = self.isOpen && (!allowInput || !isInput);\n        const allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            const isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (document.activeElement && isInView(document.activeElement)))) {\n                            const delta = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    const delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        const elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter((x) => x);\n                        const i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            const target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem) {\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(\"flatpickr-day\") ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        const hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        let containsDisabled = false;\n        let minRange = 0, maxRange = 0;\n        for (let t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        for (let m = 0; m < self.config.showMonths; m++) {\n            const month = self.daysContainer.children[m];\n            for (let i = 0, l = month.children.length; i < l; i++) {\n                const dayElem = month.children[i], date = dayElem.dateObj;\n                const timestamp = date.getTime();\n                const outOfRange = (minRange > 0 && timestamp < minRange) ||\n                    (maxRange > 0 && timestamp > maxRange);\n                if (outOfRange) {\n                    dayElem.classList.add(\"notAllowed\");\n                    [\"inRange\", \"startRange\", \"endRange\"].forEach((c) => {\n                        dayElem.classList.remove(c);\n                    });\n                    continue;\n                }\n                else if (containsDisabled && !outOfRange)\n                    continue;\n                [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach((c) => {\n                    dayElem.classList.remove(c);\n                });\n                if (elem !== undefined) {\n                    elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                        ? \"startRange\"\n                        : \"endRange\");\n                    if (initialDate < hoverDate && timestamp === initialDate)\n                        dayElem.classList.add(\"startRange\");\n                    else if (initialDate > hoverDate && timestamp === initialDate)\n                        dayElem.classList.add(\"endRange\");\n                    if (timestamp >= minRange &&\n                        (maxRange === 0 || timestamp <= maxRange) &&\n                        isBetween(timestamp, initialDate, hoverDate))\n                        dayElem.classList.add(\"inRange\");\n                }\n            }\n        }\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement = self._positionElement) {\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                const eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        const wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(() => self.hourElement.select(), 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return (date) => {\n            const dateObj = (self.config[`_${type}Date`] = self.parseDate(date, self.config.dateFormat));\n            const inverseDateObj = self.config[`_${type === \"min\" ? \"max\" : \"min\"}Date`];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter((d) => isEnabled(d));\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        const boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        const userConfig = Object.assign(Object.assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        const formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: () => self.config._enable,\n            set: (dates) => {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: () => self.config._disable,\n            set: (dates) => {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        const timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            const defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            const defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + ` h:i${userConfig.enableSeconds ? \":S\" : \"\"} K`;\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: () => self.config._minDate,\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: () => self.config._maxDate,\n            set: minMaxDateSetter(\"max\"),\n        });\n        const minMaxTimeSetter = (type) => (val) => {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: () => self.config._minTime,\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: () => self.config._maxTime,\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (let i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter((hook) => self.config[hook] !== undefined).forEach((hook) => {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (let i = 0; i < self.config.plugins.length; i++) {\n            const pluginConf = self.config.plugins[i](self) || {};\n            for (const key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(`flatpickr: invalid locale ${self.config.locale}`));\n        self.l10n = Object.assign(Object.assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.K = `(${self.l10n.amPM[0]}|${self.l10n.amPM[1]}|${self.l10n.amPM[0].toLowerCase()}|${self.l10n.amPM[1].toLowerCase()})`;\n        const userConfig = Object.assign(Object.assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        const positionElement = customPositionElement || self._positionElement;\n        const calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, ((acc, child) => acc + child.offsetHeight), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        const top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        let left = window.pageXOffset + inputBounds.left;\n        let isCenter = false;\n        let isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        const right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        const rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        const centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = `${top}px`;\n        if (!rightMost) {\n            self.calendarContainer.style.left = `${left}px`;\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = `${right}px`;\n        }\n        else {\n            const doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            const bodyWidth = window.document.body.offsetWidth;\n            const centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            const centerBefore = \".flatpickr-calendar.centerMost:before\";\n            const centerAfter = \".flatpickr-calendar.centerMost:after\";\n            const centerIndex = doc.cssRules.length;\n            const centerStyle = `{left:${inputBounds.left}px;right:auto;}`;\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(`${centerBefore},${centerAfter}${centerStyle}`, centerIndex);\n            self.calendarContainer.style.left = `${centerLeft}px`;\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        let editableSheet = null;\n        for (let i = 0; i < document.styleSheets.length; i++) {\n            const sheet = document.styleSheets[i];\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        const style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const isSelectable = (day) => day.classList &&\n            day.classList.contains(\"flatpickr-day\") &&\n            !day.classList.contains(\"flatpickr-disabled\") &&\n            !day.classList.contains(\"notAllowed\");\n        const t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        const target = t;\n        const selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        const shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            const selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort((a, b) => a.getTime() - b.getTime());\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            const isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            const single = self.config.mode === \"single\" && !self.config.enableTime;\n            const range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    const CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        clickOpens: [\n            () => {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (const key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach((x) => x());\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach((x) => x());\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        let dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map((d) => self.parseDate(d, format));\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map((date) => self.parseDate(date, format));\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map((date) => self.parseDate(date, format));\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(`Invalid date supplied: ${JSON.stringify(inputDate)}`));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter((d) => d instanceof Date && isEnabled(d, false)));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort((a, b) => a.getTime() - b.getTime());\n    }\n    function setDate(date, triggerChange = false, format = self.config.dateFormat) {\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map((rule) => {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter((x) => x);\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        const preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        const inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", (e) => {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        const hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (let i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        const e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (let i = 0; i < self.selectedDates.length; i++) {\n            if (compareDates(self.selectedDates[i], date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach((yearElement, i) => {\n            const d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(format) {\n        return self.selectedDates\n            .map((dObj) => self.formatDate(dObj, format))\n            .filter((d, i, arr) => self.config.mode !== \"range\" ||\n            self.config.enableTime ||\n            arr.indexOf(d) === i)\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange = true) {\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        const eventTarget = getEventTarget(e);\n        const isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        const isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        const isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        const min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        let newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            const isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    const nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter((x) => x instanceof HTMLElement);\n    const instances = [];\n    for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: Object.assign({}, English),\n    default: Object.assign({}, English),\n};\nflatpickr.localize = (l10n) => {\n    flatpickr.l10ns.default = Object.assign(Object.assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = (config) => {\n    flatpickr.defaultConfig = Object.assign(Object.assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target, ...args) {\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        for (const source of args) {\n            if (source) {\n                Object.keys(source).forEach((key) => (target[key] = source[key]));\n            }\n        }\n        return target;\n    };\n}\n","module.exports = __webpack_public_path__ + \"img/calendar-illustration.fcb4640f.png\";","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_RADIO } from '../../constants/components';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { sortKeys } from '../../utils/object';\nimport { makePropsConfigurable } from '../../utils/props';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { MODEL_EVENT_NAME, formRadioCheckMixin, props as formRadioCheckProps } from '../../mixins/form-radio-check';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { idMixin, props as idProps } from '../../mixins/id'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), formControlProps), formRadioCheckProps), formSizeProps), formStateProps)), NAME_FORM_RADIO); // --- Main component ---\n// @vue/component\n\nexport var BFormRadio = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_RADIO,\n  mixins: [idMixin, formRadioCheckMixin, // Includes shared render function\n  formControlMixin, formSizeMixin, formStateMixin],\n  inject: {\n    bvGroup: {\n      from: 'bvRadioGroup',\n      default: false\n    }\n  },\n  props: props,\n  watch: {\n    computedLocalChecked: function computedLocalChecked(newValue, oldValue) {\n      if (!looseEqual(newValue, oldValue)) {\n        this.$emit(MODEL_EVENT_NAME, newValue);\n      }\n    }\n  }\n});","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-calendar overflow-hidden border\"},[_c('div',{staticClass:\"row no-gutters\"},[_c('div',{staticClass:\"col app-calendar-sidebar flex-grow-0 overflow-hidden d-flex flex-column\",class:{'show': _vm.isCalendarOverlaySidebarActive}},[_c('calendar-sidebar',{attrs:{\"is-event-handler-sidebar-active\":_vm.isEventHandlerSidebarActive},on:{\"update:isEventHandlerSidebarActive\":function($event){_vm.isEventHandlerSidebarActive=$event},\"update:is-event-handler-sidebar-active\":function($event){_vm.isEventHandlerSidebarActive=$event}}})],1),_c('div',{staticClass:\"col position-relative\"},[_c('div',{staticClass:\"card shadow-none border-0 mb-0 rounded-0\"},[_c('div',{staticClass:\"card-body pb-0\"},[_c('full-calendar',{ref:\"refCalendar\",staticClass:\"full-calendar\",attrs:{\"options\":_vm.calendarOptions}})],1)])]),_c('div',{staticClass:\"body-content-overlay\",class:{'show': _vm.isCalendarOverlaySidebarActive},on:{\"click\":function($event){_vm.isCalendarOverlaySidebarActive = false}}}),_c('calendar-event-handler',{attrs:{\"event\":_vm.event,\"clear-event-data\":_vm.clearEventData},on:{\"remove-event\":_vm.removeEvent,\"add-event\":_vm.addEvent,\"update-event\":_vm.updateEvent},model:{value:(_vm.isEventHandlerSidebarActive),callback:function ($$v) {_vm.isEventHandlerSidebarActive=$$v},expression:\"isEventHandlerSidebarActive\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","var n,l,u,i,t,r,o,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function h(n){var l=n.parentNode;l&&l.removeChild(n)}function v(l,u,i){var t,r,o,f={};for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return y(l,f,t,r,null)}function y(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function p(){return{current:null}}function d(n){return n.children}function _(n,l){this.props=n,this.context=l}function k(n,l){if(null==l)return n.__?k(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?k(n):null}function b(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return b(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,r,o;n.__d&&(r=(t=(l=n).__v).__e,(o=l.__P)&&(u=[],(i=a({},t)).__v=t.__v+1,j(o,t,i,l.__n,void 0!==o.ownerSVGElement,null!=t.__h?[r]:null,u,null==r?k(t):r,t.__h),z(u,t),t.__e!=r&&b(t)))})}function w(n,l,u,i,t,r,o,f,s,a){var h,v,p,_,b,m,g,w=i&&i.__k||c,A=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(_=u.__k[h]=null==(_=l[h])||\"boolean\"==typeof _?null:\"string\"==typeof _||\"number\"==typeof _||\"bigint\"==typeof _?y(null,_,null,null,_):Array.isArray(_)?y(d,{children:_},null,null,null):_.__b>0?y(_.type,_.props,_.key,null,_.__v):_)){if(_.__=u,_.__b=u.__b+1,null===(p=w[h])||p&&_.key==p.key&&_.type===p.type)w[h]=void 0;else for(v=0;v<A;v++){if((p=w[v])&&_.key==p.key&&_.type===p.type){w[v]=void 0;break}p=null}j(n,_,p=p||e,t,r,o,f,s,a),b=_.__e,(v=_.ref)&&p.ref!=v&&(g||(g=[]),p.ref&&g.push(p.ref,null,_),g.push(v,_.__c||b,_)),null!=b?(null==m&&(m=b),\"function\"==typeof _.type&&_.__k===p.__k?_.__d=s=x(_,s,n):s=P(n,_,p,w,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&p.__e==s&&s.parentNode!=n&&(s=k(p))}for(u.__e=m,h=A;h--;)null!=w[h]&&(\"function\"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=k(i,h+1)),N(w[h],w[h]));if(g)for(h=0;h<g.length;h++)M(g[h],g[++h],g[++h])}function x(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l=\"function\"==typeof i.type?x(i,l,u):P(u,i,i,t,i.__e,l));return l}function A(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){A(n,l)}):l.push(n)),l}function P(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function C(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||H(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||H(n,r,l[r],u[r],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||s.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var r;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])r=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?T:I,r):n.removeEventListener(l,r?T:I,r);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,r,o,f,e,c){var s,h,v,y,p,k,b,m,g,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof P){if(m=u.props,g=(s=P.contextType)&&t[s.__c],x=s?g?g.props.value:s.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in P&&P.prototype.render?u.__c=h=new P(m,x):(u.__c=h=new _(m,x),h.constructor=P,h.render=O),g&&g.sub(h),h.props=m,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=P.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=a({},h.__s)),a(h.__s,P.getDerivedStateFromProps(m,h.__s))),y=h.props,p=h.state,v)null==P.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==P.getDerivedStateFromProps&&m!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,x)||u.__v===i.__v){h.props=m,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,p,k)})}h.context=x,h.props=m,h.state=h.__s,(s=l.__r)&&s(u),h.__d=!1,h.__v=u,h.__P=n,s=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(t=a(a({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,p)),A=null!=s&&s.type===d&&null==s.key?s.props.children:s,w(n,Array.isArray(A)?A:[A],u,i,t,r,o,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,r,o,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,r,o,f,c){var s,a,v,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),o=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(o=o&&n.call(l.childNodes),a=(y=i.props||e).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(v||a)&&(v&&(a&&v.__html==a.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,r,c),v)u.__k=[];else if(_=u.props.children,w(l,Array.isArray(_)?_:[_],u,i,t,r&&\"foreignObject\"!==d,o,f,o?o[0]:i.__k&&k(i,0),c),null!=o)for(_=o.length;_--;)null!=o[_]&&h(o[_]);c||(\"value\"in p&&void 0!==(_=p.value)&&(_!==y.value||_!==l.value||\"progress\"===d&&!_)&&H(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&H(l,\"checked\",_,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,r;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&N(t[r],u,\"function\"!=typeof n.type);i||null==n.__e||h(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function S(u,i,t){var r,o,f;l.__&&l.__(u,i),o=(r=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],j(i,u=(!r&&t||i).__k=v(d,null,[u]),o||e,e,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),z(f,u)}function q(n,l){S(n,l,q)}function B(l,u,i){var t,r,o,f=a({},l.props);for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),y(l.type,f,t||l.key,r||l.ref,null)}function D(n,l){var u={__c:l=\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(m)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=c.slice,l={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},_.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(a({},u),this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),m(this))},_.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},_.prototype.render=d,t=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,f=0;export{S as render,q as hydrate,v as createElement,v as h,d as Fragment,p as createRef,i as isValidElement,_ as Component,B as cloneElement,D as createContext,A as toChildArray,l as options};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,u,r,o=0,i=[],c=n.__b,f=n.__r,e=n.diffed,a=n.__c,v=n.unmount;function m(t,r){n.__h&&n.__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function l(n){return o=1,p(w,n)}function p(n,r,o){var i=m(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):w(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function y(r,o){var i=m(t++,3);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function h(r,o){var i=m(t++,4);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function s(n){return o=5,d(function(){return{current:n}},[])}function _(n,t,u){o=6,h(function(){\"function\"==typeof n?n(t()):n&&(n.current=t())},null==u?u:u.concat(n))}function d(n,u){var r=m(t++,7);return k(r.__H,u)&&(r.__=n(),r.__H=u,r.__h=n),r.__}function A(n,t){return o=8,d(function(){return n},t)}function F(n){var r=u.context[n.__c],o=m(t++,9);return o.c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function T(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function q(n){var r=m(t++,10),o=l();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function x(){var t;for(i.sort(function(n,t){return n.__v.__b-t.__v.__b});t=i.pop();)if(t.__P)try{t.__H.__h.forEach(g),t.__H.__h.forEach(j),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}n.__b=function(n){u=null,c&&c(n)},n.__r=function(n){f&&f(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(g),r.__h.forEach(j),r.__h=[])},n.diffed=function(t){e&&e(t);var o=t.__c;o&&o.__H&&o.__H.__h.length&&(1!==i.push(o)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),b&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);b&&(t=requestAnimationFrame(u))})(x)),u=null},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(g),t.__h=t.__h.filter(function(n){return!n.__||j(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),a&&a(t,u)},n.unmount=function(t){v&&v(t);var u,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{g(n)}catch(n){u=n}}),u&&n.__e(u,r.__v))};var b=\"function\"==typeof requestAnimationFrame;function g(n){var t=u,r=n.__c;\"function\"==typeof r&&(n.__c=void 0,r()),u=t}function j(n){var t=u;n.__c=n.__(),u=t}function k(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function w(n,t){return\"function\"==typeof t?t(n):t}export{l as useState,p as useReducer,y as useEffect,h as useLayoutEffect,s as useRef,_ as useImperativeHandle,d as useMemo,A as useCallback,F as useContext,T as useDebugValue,q as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","import{useState as n,useReducer as t,useEffect as e,useLayoutEffect as r,useRef as u,useImperativeHandle as o,useMemo as i,useCallback as l,useContext as c,useDebugValue as f}from\"preact/hooks\";export*from\"preact/hooks\";import{Component as a,createElement as s,options as h,toChildArray as d,Fragment as v,render as p,hydrate as m,cloneElement as y,createRef as b,createContext as _}from\"preact\";export{createElement,createContext,createRef,Fragment,Component}from\"preact\";function S(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function g(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return!r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:C(this.props,n)}function r(t){return this.shouldComponentUpdate=e,s(n,t)}return r.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",r.prototype.isReactComponent=!0,r.__f=!0,r}(E.prototype=new a).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var w=h.__b;h.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function x(n){function t(t,e){var r=S({},t);return delete r.ref,n(r,(e=t.ref||e)&&(\"object\"!=typeof e||\"current\"in e)?e:null)}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var N=function(n,t){return null==n?null:d(d(n).map(t))},k={map:N,forEach:N,count:function(n){return n?d(n).length:0},only:function(n){var t=d(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:d},A=h.__e;h.__e=function(n,t,e){if(n.then)for(var r,u=t;u=u.__;)if((r=u.__c)&&r.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),r.__c(n,t);A(n,t,e)};var O=h.unmount;function L(){this.__u=0,this.t=null,this.__b=null}function U(n){var t=n.__.__c;return t&&t.__e&&t.__e(n)}function F(n){var t,e,r;function u(u){if(t||(t=n()).then(function(n){e=n.default||n},function(n){r=n}),r)throw r;if(!e)throw t;return s(e,u)}return u.displayName=\"Lazy\",u.__f=!0,u}function M(){this.u=null,this.o=null}h.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n)},(L.prototype=new a).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__e){var n=r.state.__e;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(i,i)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),t.__c.__H=null),null!=(t=S({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P)}this.__b=null}var u=t.__e&&s(v,null,n.fallback);return u&&(u.__h=null),[s(v,null,t.__e?null:n.children),u]};var T=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function D(n){return this.getChildContext=function(){return n.context},n.children}function I(n){var t=this,e=n.i;t.componentWillUnmount=function(){p(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),p(s(D,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount()}function W(n,t){return s(I,{__v:n,i:t})}(M.prototype=new a).__e=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),T(t,n,r)):u()};e?e(o):o()}},M.prototype.render=function(n){this.u=null,this.o=new Map;var t=d(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},M.prototype.componentDidUpdate=M.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){T(n,e,t)})};var j=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,V=\"undefined\"!=typeof document,z=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function B(n,t,e){return null==t.__k&&(t.textContent=\"\"),p(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function $(n,t,e){return m(n,t),\"function\"==typeof e&&e(),n?n.__c:null}a.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(a.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var H=h.event;function Z(){}function Y(){return this.cancelBubble}function q(){return this.defaultPrevented}h.event=function(n){return H&&(n=H(n)),n.persist=Z,n.isPropagationStopped=Y,n.isDefaultPrevented=q,n.nativeEvent=n};var G,J={configurable:!0,get:function(){return this.class}},K=h.vnode;h.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){var u=-1===t.indexOf(\"-\");for(var o in r={},e){var i=e[o];V&&\"children\"===o&&\"noscript\"===t||\"value\"===o&&\"defaultValue\"in e&&null==i||(\"defaultValue\"===o&&\"value\"in e&&null==e.value?o=\"value\":\"download\"===o&&!0===i?i=\"\":/ondoubleclick/i.test(o)?o=\"ondblclick\":/^onchange(textarea|input)/i.test(o+t)&&!z(e.type)?o=\"oninput\":/^onfocus$/i.test(o)?o=\"onfocusin\":/^onblur$/i.test(o)?o=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():u&&P.test(o)?o=o.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===i&&(i=void 0),r[o]=i)}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=d(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value)})),\"select\"==t&&null!=r.defaultValue&&(r.value=d(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value})),n.props=r,e.class!=e.className&&(J.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",J))}n.$$typeof=j,K&&K(n)};var Q=h.__r;h.__r=function(n){Q&&Q(n),G=n.__c};var X={ReactCurrentDispatcher:{current:{readContext:function(n){return G.__n[n.__c].props.value}}}},nn=\"17.0.2\";function tn(n){return s.bind(null,n)}function en(n){return!!n&&n.$$typeof===j}function rn(n){return en(n)?y.apply(null,arguments):n}function un(n){return!!n.__k&&(p(null,n),!0)}function on(n){return n&&(n.base||1===n.nodeType&&n)||null}var ln=function(n,t){return n(t)},cn=function(n,t){return n(t)},fn=v;export default{useState:n,useReducer:t,useEffect:e,useLayoutEffect:r,useRef:u,useImperativeHandle:o,useMemo:i,useCallback:l,useContext:c,useDebugValue:f,version:\"17.0.2\",Children:k,render:B,hydrate:$,unmountComponentAtNode:un,createPortal:W,createElement:s,createContext:_,createFactory:tn,cloneElement:rn,createRef:b,Fragment:v,isValidElement:en,findDOMNode:on,Component:a,PureComponent:E,memo:g,forwardRef:x,flushSync:cn,unstable_batchedUpdates:ln,StrictMode:v,Suspense:L,SuspenseList:M,lazy:F,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:X};export{nn as version,k as Children,B as render,$ as hydrate,un as unmountComponentAtNode,W as createPortal,tn as createFactory,rn as cloneElement,en as isValidElement,on as findDOMNode,E as PureComponent,g as memo,x as forwardRef,cn as flushSync,ln as unstable_batchedUpdates,fn as StrictMode,L as Suspense,M as SuspenseList,F as lazy,X as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED};\n//# sourceMappingURL=compat.module.js.map\n","import { __extends } from 'tslib';\nimport * as preact from 'preact';\nimport * as preactCompat from 'preact/compat';\n\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: preact.Component,\n        createElement: preact.createElement,\n        render: preact.render,\n        createRef: preact.createRef,\n        Fragment: preact.Fragment,\n        createContext: createContext,\n        createPortal: preactCompat.createPortal,\n        flushToDom: flushToDom,\n        unmountComponentAtNode: unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushToDom() {\n    var oldDebounceRendering = preact.options.debounceRendering; // orig\n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return preact.createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(preact.Component));\nfunction createContext(defaultValue) {\n    var ContextType = preact.createContext(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.forEach(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    preact.render(null, node);\n}\n","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar createPortal = FullCalendarVDom.createPortal;\nvar flushToDom = FullCalendarVDom.flushToDom;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n/* eslint-enable */\n\nexport { Component, Fragment, createContext, createElement, createPortal, createRef, flushToDom, render, unmountComponentAtNode };\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArray, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment, createPortal } from './vdom.js';\nexport * from './vdom.js';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"format\", {\n        get: function () {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i += 1) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i += 1) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j += 1) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + \"px\";\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n// Shadow DOM consuderations\n// ----------------------------------------------------------------------------------------------------------------\nfunction getElRoot(el) {\n    return el.getRootNode ? el.getRootNode() : document;\n}\n// Unique ID for DOM attribute\nvar guid$1 = 0;\nfunction getUniqueDomId() {\n    guid$1 += 1;\n    return 'fc-dom-' + guid$1;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n// ARIA workarounds\n// ----------------------------------------------------------------------------------------------------------------\nfunction createAriaClickAttrs(handler) {\n    return __assign({ onClick: handler }, createAriaKeyboardAttrs(handler));\n}\nfunction createAriaKeyboardAttrs(handler) {\n    return {\n        tabIndex: 0,\n        onKeyDown: function (ev) {\n            if (ev.key === 'Enter' || ev.key === ' ') {\n                handler(ev);\n                ev.preventDefault(); // if space, don't scroll down page\n            }\n        },\n    };\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\nfunction formatWithOrdinals(formatter, args, fallbackText) {\n    if (typeof formatter === 'function') {\n        return formatter.apply(void 0, args);\n    }\n    if (typeof formatter === 'string') { // non-blank string\n        return args.reduce(function (str, arg, index) { return (str.replace('$' + index, arg || '')); }, formatter);\n    }\n    return fallbackText;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i += 1) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i += 1) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    return null;\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n    }\n    return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(_this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(_this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(_this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(// used?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(_this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.weekTextLong, context.locale, extendedSettings.week)); };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += \" \" + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, weekTextLong, locale, display) {\n    var parts = [];\n    if (display === 'long') {\n        parts.push(weekTextLong);\n    }\n    else if (display === 'short' || display === 'narrow') {\n        parts.push(weekText);\n    }\n    if (display === 'long' || display === 'short') {\n        parts.push(' ');\n    }\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    weekTextLong: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    moreLinkHint: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    eventInteractive: Boolean,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    viewHint: identity,\n    navLinkHint: identity,\n    closeHint: String,\n    timeHint: String,\n    eventHint: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    buttonHints: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isBoolComplexEqual,\n    footerToolbar: isBoolComplexEqual,\n    buttonText: isBoolComplexEqual,\n    buttonHints: isBoolComplexEqual,\n    buttonIcons: isBoolComplexEqual,\n};\nfunction isBoolComplexEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n    ); });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n    interactive: Boolean,\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def: def, instance: null };\n    }\n    var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def: def, instance: instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        interactive: refined.interactive,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start, end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n    return objs.map(function (c) { return c._seg; });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    var wholeEventStart = eventInstance.range.start;\n    var wholeEventEnd = eventInstance.range.end;\n    var segStart = startOverride || seg.start || seg.eventRange.range.start;\n    var segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    var isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    var isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\nfunction getSegAnchorAttrs(seg, context) {\n    var _a = seg.eventRange, def = _a.def, instance = _a.instance;\n    var url = def.url;\n    if (url) {\n        return { href: url };\n    }\n    var emitter = context.emitter, options = context.options;\n    var eventInteractive = options.eventInteractive;\n    if (eventInteractive == null) {\n        eventInteractive = def.interactive;\n        if (eventInteractive == null) {\n            eventInteractive = Boolean(emitter.hasHandlers('eventClick'));\n        }\n    }\n    // mock what happens in EventClicking\n    if (eventInteractive) {\n        // only attach keyboard-related handlers because click handler is already done in EventClicking\n        return createAriaKeyboardAttrs(function (ev) {\n            emitter.trigger('eventClick', {\n                el: ev.target,\n                event: new EventApi(context, def, instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        });\n    }\n    return {};\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArray([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType,\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker,\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.header ? toolbarConfig.header.viewsWithButtons : [], toolbarConfig.footer ? toolbarConfig.footer.viewsWithButtons : []);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (var instanceId in instances) {\n                    var instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a),\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui },\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a),\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore_1 = context_1.getCurrentData().eventStore;\n            var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore: eventStore_1,\n                    });\n                },\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.weekTextLong = (settings.weekTextLong != null ? settings.weekTextLong : settings.locale.options.weekTextLong) || this.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar MINIMAL_RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    weekTextLong: 'Week',\n    closeHint: 'Close',\n    timeHint: 'Time',\n    eventHint: 'Event',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nvar RAW_EN_LOCALE = __assign(__assign({}, MINIMAL_RAW_EN_LOCALE), { \n    // Includes things we don't want other locales to inherit,\n    // things that derive from other translatable strings.\n    buttonHints: {\n        prev: 'Previous $0',\n        next: 'Next $0',\n        today: function (buttonText, unit) {\n            return (unit === 'day')\n                ? 'Today'\n                : \"This \" + buttonText;\n        },\n    }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint: function (eventCnt) {\n        return \"Show \" + eventCnt + \" more event\" + (eventCnt === 1 ? '' : 's');\n    } });\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i += 1) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j -= 1) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv$1(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    var dateEnv = buildDateEnv$1(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        \"fc-day-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        \"fc-slot-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nvar DAY_FORMAT = createFormatter({ year: 'numeric', month: 'long', day: 'numeric' });\nvar WEEK_FORMAT = createFormatter({ week: 'long' });\nfunction buildNavLinkAttrs(context, dateMarker, viewType, isTabbable) {\n    if (viewType === void 0) { viewType = 'day'; }\n    if (isTabbable === void 0) { isTabbable = true; }\n    var dateEnv = context.dateEnv, options = context.options, calendarApi = context.calendarApi;\n    var dateStr = dateEnv.format(dateMarker, viewType === 'week' ? WEEK_FORMAT : DAY_FORMAT);\n    if (options.navLinks) {\n        var zonedDate = dateEnv.toDate(dateMarker);\n        var handleInteraction = function (ev) {\n            var customAction = viewType === 'day' ? options.navLinkDayClick :\n                viewType === 'week' ? options.navLinkWeekClick : null;\n            if (typeof customAction === 'function') {\n                customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if (typeof customAction === 'string') {\n                    viewType = customAction;\n                }\n                calendarApi.zoomTo(dateMarker, viewType);\n            }\n        };\n        return __assign({ title: formatWithOrdinals(options.navLinkHint, [dateStr, zonedDate], dateStr), 'data-navlink': '' }, (isTabbable\n            ? createAriaClickAttrs(handleInteraction)\n            : { onClick: handleInteraction }));\n    }\n    return { 'aria-label': dateStr };\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    var clippingParents = getClippingParents(el);\n    var rect = el.getBoundingClientRect();\n    for (var _i = 0, clippingParents_1 = clippingParents; _i < clippingParents_1.length; _i++) {\n        var clippingParent = clippingParents_1[_i];\n        var intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return Boolean((this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]));\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) { return func !== handler; });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var _a = this, lefts = _a.lefts, rights = _a.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + \" \" + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime, scrollTimeReset) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentWillUnmount = function () {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var customContentInfo = this.customContentInfo; // only populated if using non-[p]react node(s)\n        var innerContent = this.getInnerContent();\n        var meta = this.getContentMeta(innerContent);\n        // initial run, or content-type changing? (from vue -> react for example)\n        if (!customContentInfo || customContentInfo.contentKey !== meta.contentKey) {\n            // clearing old value\n            if (customContentInfo) {\n                if (customContentInfo.destroy) {\n                    customContentInfo.destroy();\n                }\n                customContentInfo = this.customContentInfo = null;\n            }\n            // assigning new value\n            if (meta.contentKey) {\n                customContentInfo = this.customContentInfo = __assign({ contentKey: meta.contentKey, contentVal: innerContent[meta.contentKey] }, meta.buildLifecycleFuncs());\n            }\n            // updating\n        }\n        else if (customContentInfo) {\n            customContentInfo.contentVal = innerContent[meta.contentKey];\n        }\n        return customContentInfo\n            ? [] // signal that something was specified\n            : innerContent; // assume a [p]react vdom node. use it\n    };\n    ContentHookInner.prototype.getInnerContent = function () {\n        var props = this.props;\n        var innerContent = normalizeContent(props.content, props.hookProps);\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        return innerContent == null ? null : innerContent; // convert undefined to null (better for React)\n    };\n    ContentHookInner.prototype.getContentMeta = function (innerContent) {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var contentKey = '';\n        var buildLifecycleFuncs = null;\n        if (innerContent) { // allowed to be null, for convenience to caller\n            for (var searchKey in contentTypeHandlers) {\n                if (innerContent[searchKey] !== undefined) {\n                    contentKey = searchKey;\n                    buildLifecycleFuncs = contentTypeHandlers[searchKey];\n                    break;\n                }\n            }\n        }\n        return { contentKey: contentKey, buildLifecycleFuncs: buildLifecycleFuncs };\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) { // for non-[p]react\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions,\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n        var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n    })); })); };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    var queryButtonTitle = function (optionsSubset) {\n        var buttonHints = optionsSubset.buttonHints || {};\n        var buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n        if (buttonKey != null && buttonHints[buttonKey] != null) {\n            return buttonHints[buttonKey];\n        }\n        if (buttonHints[viewDef.type] != null) {\n            return buttonHints[viewDef.type];\n        }\n        if (buttonHints[singleUnit] != null) {\n            return buttonHints[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n        // not DRY\n        buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n            queryButtonTitle(optionOverrides) ||\n            viewDef.overrides.buttonHint,\n        buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n            viewDef.defaults.buttonHint ||\n            queryButtonTitle(BASE_OPTION_DEFAULTS),\n        // will eventually fall back to buttonText\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start, end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start, end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        isRefetch: isRefetch,\n        context: context,\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents,\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error,\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n            ); });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return __assign(__assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n    };\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    var footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    return { header: header, footer: footer };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var sectionWidgets = {};\n    var viewsWithButtons = [];\n    var hasTitle = false;\n    for (var sectionName in sectionStrHash) {\n        var sectionStr = sectionStrHash[sectionName];\n        var sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n        sectionWidgets[sectionName] = sectionRes.widgets;\n        viewsWithButtons.push.apply(viewsWithButtons, sectionRes.viewsWithButtons);\n        hasTitle = hasTitle || sectionRes.hasTitle;\n    }\n    return { sectionWidgets: sectionWidgets, viewsWithButtons: viewsWithButtons, hasTitle: hasTitle };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\ncalendarOptionOverrides, // overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n    var calendarButtonHints = calendarOptions.buttonHints || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    var viewsWithButtons = [];\n    var hasTitle = false;\n    var widgets = sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n        if (buttonName === 'title') {\n            hasTitle = true;\n            return { buttonName: buttonName };\n        }\n        var customButtonProps;\n        var viewSpec;\n        var buttonClick;\n        var buttonIcon; // only one of these will be set\n        var buttonText; // \"\n        var buttonHint;\n        // ^ for the title=\"\" attribute, for accessibility\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n            buttonHint = customButtonProps.hint || customButtonProps.text;\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = function () {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n            var textFallback = viewSpec.buttonTextOverride ||\n                viewSpec.buttonTextDefault;\n            buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                viewSpec.buttonTitleDefault ||\n                calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n            textFallback);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = function () {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n            if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                var prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                    calendarButtonHints[prevOrNext], [\n                    calendarButtonText.year || 'year',\n                    'year',\n                ], calendarButtonText[buttonName]);\n            }\n            else {\n                buttonHint = function (navUnit) { return formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                    calendarButtonHints[buttonName], [\n                    calendarButtonText[navUnit] || navUnit,\n                    navUnit,\n                ], calendarButtonText[buttonName]); };\n            }\n        }\n        return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText, buttonHint: buttonHint };\n    })); });\n    return { widgets: widgets, viewsWithButtons: viewsWithButtons, hasTitle: hasTitle };\n}\n\nvar eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nvar eventSourceDef = {\n    parseMeta: function (refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    },\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            function (state) { return computeEventSourcesLoading(state.eventSources); },\n        ],\n        contentTypeHandlers: {\n            html: buildHtmlRenderer,\n            domNodes: buildDomNodeRenderer,\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction buildHtmlRenderer() {\n    var currentEl = null;\n    var currentHtml = '';\n    function render(el, html) {\n        if (el !== currentEl || html !== currentHtml) {\n            el.innerHTML = html;\n        }\n        currentEl = el;\n        currentHtml = html;\n    }\n    function destroy() {\n        currentEl.innerHTML = '';\n        currentEl = null;\n        currentHtml = '';\n    }\n    return { render: render, destroy: destroy };\n}\nfunction buildDomNodeRenderer() {\n    var currentEl = null;\n    var currentDomNodes = [];\n    function render(el, domNodes) {\n        var newDomNodes = Array.prototype.slice.call(domNodes);\n        if (el !== currentEl || !isArraysEqual(currentDomNodes, newDomNodes)) {\n            // append first, remove second (for scroll resetting)\n            for (var _i = 0, newDomNodes_1 = newDomNodes; _i < newDomNodes_1.length; _i++) {\n                var newNode = newDomNodes_1[_i];\n                el.appendChild(newNode);\n            }\n            destroy();\n        }\n        currentEl = el;\n        currentDomNodes = newDomNodes;\n    }\n    function destroy() {\n        currentDomNodes.forEach(removeElement);\n        currentDomNodes = [];\n        currentEl = null;\n    }\n    return { render: render, destroy: destroy };\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                var depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\n\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () { return _this.data; };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        var currentDate = state.currentDate, dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        var wasLoading = computeIsLoading(state, calendarContext);\n        var isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra,\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName]) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName]) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra,\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n        var isLoadingFunc = _a[_i];\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar SegHierarchy = /** @class */ (function () {\n    function SegHierarchy() {\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    SegHierarchy.prototype.addSegs = function (inputs) {\n        var hiddenEntries = [];\n        for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n            var input = inputs_1[_i];\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    };\n    SegHierarchy.prototype.insertEntry = function (entry, hiddenEntries) {\n        var insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    };\n    SegHierarchy.prototype.isInsertionValid = function (insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    };\n    // returns number of new entries inserted\n    SegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.splitEntry = function (entry, barrier, hiddenEntries) {\n        var partCnt = 0;\n        var splitHiddenEntries = [];\n        var entrySpan = entry.span;\n        var barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, splitHiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push.apply(hiddenEntries, __spreadArray([{\n                    index: entry.index,\n                    thickness: entry.thickness,\n                    span: intersectSpans(barrierSpan, entrySpan), // guaranteed to intersect\n                }], splitHiddenEntries));\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.insertEntryAt = function (entry, insertion) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        if (insertion.lateral === -1) {\n            // create a new level\n            insertAt(levelCoords, insertion.level, insertion.levelCoord);\n            insertAt(entriesByLevel, insertion.level, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    };\n    SegHierarchy.prototype.findInsertion = function (newEntry) {\n        var _a = this, levelCoords = _a.levelCoords, entriesByLevel = _a.entriesByLevel, strictOrder = _a.strictOrder, stackCnts = _a.stackCnts;\n        var levelCnt = levelCoords.length;\n        var candidateCoord = 0;\n        var touchingLevel = -1;\n        var touchingLateral = -1;\n        var touchingEntry = null;\n        var stackCnt = 0;\n        for (var trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n            var trackingCoord = levelCoords[trackingLevel];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && trackingCoord >= candidateCoord + newEntry.thickness) {\n                break;\n            }\n            var trackingEntries = entriesByLevel[trackingLevel];\n            var trackingEntry = void 0;\n            var searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n            var lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            while ( // loop through entries that horizontally intersect\n            (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                var trackingEntryBottom = trackingCoord + trackingEntry.thickness;\n                // intersects into the top of the candidate?\n                if (trackingEntryBottom > candidateCoord) {\n                    candidateCoord = trackingEntryBottom;\n                    touchingEntry = trackingEntry;\n                    touchingLevel = trackingLevel;\n                    touchingLateral = lateralIndex;\n                }\n                // butts up against top of candidate? (will happen if just intersected as well)\n                if (trackingEntryBottom === candidateCoord) {\n                    // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                    stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                }\n                lateralIndex += 1;\n            }\n        }\n        // the destination level will be after touchingEntry's level. find it\n        var destLevel = 0;\n        if (touchingEntry) {\n            destLevel = touchingLevel + 1;\n            while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                destLevel += 1;\n            }\n        }\n        // if adding to an existing level, find where to insert\n        var destLateral = -1;\n        if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n            destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n        }\n        return {\n            touchingLevel: touchingLevel,\n            touchingLateral: touchingLateral,\n            touchingEntry: touchingEntry,\n            stackCnt: stackCnt,\n            levelCoord: candidateCoord,\n            level: destLevel,\n            lateral: destLateral,\n        };\n    };\n    // sorted by levelCoord (lowest to highest)\n    SegHierarchy.prototype.toRects = function () {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        var levelCnt = entriesByLevel.length;\n        var rects = [];\n        for (var level = 0; level < levelCnt; level += 1) {\n            var entries = entriesByLevel[level];\n            var levelCoord = levelCoords[level];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                rects.push(__assign(__assign({}, entry), { levelCoord: levelCoord }));\n            }\n        }\n        return rects;\n    };\n    return SegHierarchy;\n}());\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    var merges = [];\n    for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n        var entry = entries_2[_i];\n        var filteredMerges = [];\n        var hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (var _a = 0, merges_1 = merges; _a < merges_1.length; _a++) {\n            var merge = merges_1[_a];\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    var start = Math.max(span0.start, span1.start);\n    var end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start: start, end: end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    var startIndex = 0;\n    var endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        var middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        var middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArray(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon, buttonHint = widget.buttonHint;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n            }\n            else {\n                var isPressed = buttonName === props.activeButton;\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                if (isPressed) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArray(['div', { className: groupClassName }], children));\n        }\n        return children[0];\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent;\n        var endContent;\n        var sectionWidgets = model.sectionWidgets;\n        var centerContent = sectionWidgets.center;\n        if (sectionWidgets.left) {\n            forceLtr = true;\n            startContent = sectionWidgets.left;\n        }\n        else {\n            startContent = sectionWidgets.start;\n        }\n        if (sectionWidgets.right) {\n            forceLtr = true;\n            endContent = sectionWidgets.right;\n        }\n        else {\n            endContent = sectionWidgets.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n    };\n    return Toolbar;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null,\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // eslint-disable-next-line\n        _this.state = {\n            viewLabelId: getUniqueDomId(),\n        };\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            for (var _i = 0, _a = _this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n                var listener = _a[_i];\n                listener.destroy();\n            }\n            delete _this.interactionsStore[component.uid];\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        var viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n            ? this.state.viewLabelId\n            : '';\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.header && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footer && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        navUnit: viewSpec.singleUnit,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (TheClass) { return new TheClass(); });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false,\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            \"fc-direction-\" + options.direction,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(hookProps) {\n    return hookProps.text;\n}\n\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (!dayMeta.isDisabled && props.colCnt > 1)\n            ? buildNavLinkAttrs(this.context, date)\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, role: \"columnheader\", className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent))))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\n\nvar WEEKDAY_FORMAT = createFormatter({ weekday: 'long' });\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, role: \"columnheader\", className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { \"aria-label\": dateEnv.format(date, WEEKDAY_FORMAT), className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs,\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", { role: \"row\" },\n            renderIntro && renderIntro('day'),\n            dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row += 1) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date,\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArray([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArray([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArray([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArray([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArray([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArray([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArray([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArray([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArray([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    var instances = interaction.mutatedEvents.instances;\n    for (var instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete _this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg, isHeader) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            role: 'presentation',\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement(isHeader ? 'thead' : 'tbody', {\n            role: 'presentation',\n        }, typeof chunkConfig.rowContent === 'function'\n            ? chunkConfig.rowContent(arg)\n            : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArray(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        \"fc-scrollgrid-section-\" + sectionConfig.type,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        _this.renderMicroColGroup = memoize(renderMicroColGroup);\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.setState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode, false));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        var roleAttrs = { role: 'rowgroup' };\n        return createElement('table', {\n            role: 'grid',\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArray(['thead', roleAttrs], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArray(['tbody', roleAttrs], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArray(['tfoot', roleAttrs], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArray(__spreadArray(__spreadArray(['tbody', roleAttrs], headSectionNodes), bodySectionNodes), footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode, isHeader) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, role: \"presentation\", className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk, isHeader)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig, isHeader) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var sectionKey = sectionConfig.key;\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { },\n        }, isHeader);\n        return createElement(isHeader ? 'th' : 'td', {\n            ref: chunkConfig.elRef,\n            role: 'presentation',\n        }, createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n            createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                : true }, content)));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionKey in scrollerRefs.currentMap) {\n            var scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n            var section = _b[_i];\n            var sectionKey = section.key;\n            var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n        var section = sections_1[_i];\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent$1, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg, context)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineDayCellHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent)); })); };\nfunction renderInnerContent(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            titleId: getUniqueDomId(),\n        };\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMouseDown = function (ev) {\n            // only hide the popover if the click happened outside the popover\n            var target = getEventTargetViaRoot(ev);\n            if (!_this.rootEl.contains(target)) {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleDocumentKeyDown = function (ev) {\n            if (ev.key === 'Escape') {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var _b = this, props = _b.props, state = _b.state;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", __assign({ id: props.id, className: classNames.join(' '), \"aria-labelledby\": state.titleId }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\", id: state.titleId }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), title: options.closeHint, onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMouseDown);\n        document.addEventListener('keydown', this.handleDocumentKeyDown);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMouseDown);\n        document.removeEventListener('keydown', this.handleDocumentKeyDown);\n    };\n    Popover.prototype.updateSize = function () {\n        var isRtl = this.context.isRtl;\n        var _a = this.props, alignmentEl = _a.alignmentEl, alignGridTop = _a.alignGridTop;\n        var rootEl = this.rootEl;\n        var alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            var popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            var popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            var popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            var origin_1 = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin_1.top,\n                left: popoverLeft - origin_1.left,\n            });\n        }\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var startDate = props.startDate, todayRange = props.todayRange, dateProfile = props.dateProfile;\n        var title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: startDate, dateProfile: dateProfile, todayRange: todayRange, elRef: this.handleRootEl }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, id: props.id, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            createElement(DayCellContent, { date: startDate, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n            props.children)); }));\n    };\n    MorePopover.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var _a = this, rootEl = _a.rootEl, props = _a.props;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: __assign({ allDay: true, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar MoreLinkRoot = /** @class */ (function (_super) {\n    __extends(MoreLinkRoot, _super);\n    function MoreLinkRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.linkElRef = createRef();\n        _this.state = {\n            isPopoverOpen: false,\n            popoverId: getUniqueDomId(),\n        };\n        _this.handleClick = function (ev) {\n            var _a = _this, props = _a.props, context = _a.context;\n            var moreLinkClick = context.options.moreLinkClick;\n            var date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date: date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                _this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        _this.handlePopoverClose = function () {\n            _this.setState({ isPopoverOpen: false });\n        };\n        return _this;\n    }\n    MoreLinkRoot.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(ViewContextType.Consumer, null, function (context) {\n            var viewApi = context.viewApi, options = context.options, calendarApi = context.calendarApi;\n            var moreLinkText = options.moreLinkText;\n            var moreCnt = props.moreCnt;\n            var range = computeRange(props);\n            var text = typeof moreLinkText === 'function' // TODO: eventually use formatWithOrdinals\n                ? moreLinkText.call(calendarApi, moreCnt)\n                : \"+\" + moreCnt + \" \" + moreLinkText;\n            var title = formatWithOrdinals(options.moreLinkHint, [moreCnt], text);\n            var hookProps = {\n                num: moreCnt,\n                shortText: \"+\" + moreCnt,\n                text: text,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(RenderHook, { elRef: _this.linkElRef, hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: props.defaultContent || renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, ['fc-more-link'].concat(customClassNames), innerElRef, innerContent, _this.handleClick, title, state.isPopoverOpen, state.isPopoverOpen ? state.popoverId : ''); })),\n                state.isPopoverOpen && (createElement(MorePopover, { id: state.popoverId, startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: _this.parentEl, alignmentEl: props.alignmentElRef.current, alignGridTop: props.alignGridTop, onClose: _this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    };\n    MoreLinkRoot.prototype.componentDidMount = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.componentDidUpdate = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.updateParentEl = function () {\n        if (this.linkElRef.current) {\n            this.parentEl = elementClosest(this.linkElRef.current, '.fc-view-harness');\n        }\n    };\n    return MoreLinkRoot;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    var hiddenSegs = props.hiddenSegs;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.10.1'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MoreLinkRoot, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SegHierarchy, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, binarySearch, buildClassNameNormalizer, buildEntryKey, buildEventApis, buildEventRangeKey, buildHashFromArray, buildIsoString, buildNavLinkAttrs, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEarliestSegStart, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createAriaClickAttrs, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElRoot, getElSeg, getEntrySpanEnd, getEventClassNames, getEventTargetViaRoot, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegAnchorAttrs, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, getUniqueDomId, globalLocales, globalPlugins, greatestDurationDenominator, groupIntersectingEntries, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, intersectSpans, isArraysEqual, isColPropsEqual, isDateSelectionValid, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, joinSpans, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, flushToDom, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                    _this.setClassNames(classNames);\n                    _this.setHeight(height);\n                    return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                        createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                }), _this.el);\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                unmountComponentAtNode(_this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n            flushToDom();\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        _super.prototype.updateSize.call(this);\n        flushToDom();\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n//# sourceMappingURL=main.js.map\n","export var OPTION_IS_COMPLEX = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n//# sourceMappingURL=options.js.map","// TODO: add types!\nimport { __assign } from \"tslib\";\n/*\nworks with objects and arrays\n*/\nexport function shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = __assign({}, val);\n        }\n    }\n    return val;\n}\nexport function mapHash(input, func) {\n    var output = {};\n    for (var key in input) {\n        if (input.hasOwnProperty(key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n//# sourceMappingURL=utils.js.map","import Vue from 'vue';\nimport { createPlugin } from '@fullcalendar/core';\n/*\nwrap it in an object with a `vue` key, which the custom content-type handler system will look for\n*/\nexport function wrapVDomGenerator(vDomGenerator) {\n    return function (props) {\n        return { vue: vDomGenerator(props) };\n    };\n}\nexport function createVueContentTypePlugin(parent) {\n    return createPlugin({\n        contentTypeHandlers: {\n            vue: function () { return buildVDomHandler(parent); }, // looks for the `vue` key\n        }\n    });\n}\nfunction buildVDomHandler(parent) {\n    var currentEl;\n    var v; // the Vue instance\n    function render(el, vDomContent) {\n        if (currentEl !== el) {\n            if (currentEl && v) { // if changing elements, recreate the vue\n                v.$destroy();\n            }\n            currentEl = el;\n        }\n        if (!v) {\n            v = initVue(vDomContent, parent);\n            // vue's mount method *replaces* the given element. create an artificial inner el\n            var innerEl = document.createElement('span');\n            el.appendChild(innerEl);\n            v.$mount(innerEl);\n        }\n        else {\n            v.content = vDomContent;\n        }\n    }\n    function destroy() {\n        if (v) { // needed?\n            v.$destroy();\n        }\n    }\n    return { render: render, destroy: destroy };\n}\nfunction initVue(initialContent, parent) {\n    return new Vue({\n        parent: parent,\n        data: {\n            content: initialContent,\n        },\n        render: function (h) {\n            var content = this.content;\n            // the slot result can be an array, but the returned value of a vue component's\n            // render method must be a single node.\n            if (content.length === 1) {\n                return content[0];\n            }\n            else {\n                return h('span', {}, content);\n            }\n        }\n    });\n}\n//# sourceMappingURL=custom-content-type.js.map","import { __assign } from \"tslib\";\nimport Vue from 'vue';\nimport { Calendar } from '@fullcalendar/core';\nimport { OPTION_IS_COMPLEX } from './options';\nimport { shallowCopy, mapHash } from './utils';\nimport { wrapVDomGenerator, createVueContentTypePlugin } from './custom-content-type';\nvar FullCalendar = Vue.extend({\n    props: {\n        options: Object\n    },\n    data: initData,\n    render: function (createElement) {\n        return createElement('div', {\n            // when renderId is changed, Vue will trigger a real-DOM async rerender, calling beforeUpdate/updated\n            attrs: { 'data-fc-render-id': this.renderId }\n        });\n    },\n    mounted: function () {\n        var internal = this.$options;\n        internal.scopedSlotOptions = mapHash(this.$scopedSlots, wrapVDomGenerator); // needed for buildOptions\n        var calendar = new Calendar(this.$el, this.buildOptions(this.options, this));\n        internal.calendar = calendar;\n        calendar.render();\n    },\n    methods: {\n        getApi: getApi,\n        buildOptions: buildOptions,\n    },\n    beforeUpdate: function () {\n        this.getApi().resumeRendering(); // the watcher handlers paused it\n    },\n    beforeDestroy: function () {\n        this.getApi().destroy();\n    },\n    watch: buildWatchers()\n});\nfunction initData() {\n    return {\n        renderId: 0\n    };\n}\nfunction buildOptions(suppliedOptions, parent) {\n    var internal = this.$options;\n    suppliedOptions = suppliedOptions || {};\n    return __assign(__assign(__assign({}, internal.scopedSlotOptions), suppliedOptions), { plugins: (suppliedOptions.plugins || []).concat([\n            createVueContentTypePlugin(parent)\n        ]) });\n}\nfunction getApi() {\n    var internal = this.$options;\n    return internal.calendar;\n}\nfunction buildWatchers() {\n    var watchers = {\n        // watches changes of ALL options and their nested objects,\n        // but this is only a means to be notified of top-level non-complex options changes.\n        options: {\n            deep: true,\n            handler: function (options) {\n                var calendar = this.getApi();\n                calendar.pauseRendering();\n                calendar.resetOptions(this.buildOptions(options, this));\n                this.renderId++; // will queue a rerender\n            }\n        }\n    };\n    var _loop_1 = function (complexOptionName) {\n        // handlers called when nested objects change\n        watchers[\"options.\" + complexOptionName] = {\n            deep: true,\n            handler: function (val) {\n                var _a;\n                // unfortunately the handler is called with undefined if new props were set, but the complex one wasn't ever set\n                if (val !== undefined) {\n                    var calendar = this.getApi();\n                    calendar.pauseRendering();\n                    calendar.resetOptions((_a = {},\n                        // the only reason we shallow-copy is to trick FC into knowing there's a nested change.\n                        // TODO: future versions of FC will more gracefully handle event option-changes that are same-reference.\n                        _a[complexOptionName] = shallowCopy(val),\n                        _a), true);\n                    this.renderId++; // will queue a rerender\n                }\n            }\n        };\n    };\n    for (var complexOptionName in OPTION_IS_COMPLEX) {\n        _loop_1(complexOptionName);\n    }\n    return watchers;\n}\nexport default FullCalendar;\n//# sourceMappingURL=FullCalendar.js.map","import FullCalendarComponent from './FullCalendar';\n/*\nRegisters the component globally if appropriate.\nThis modules exposes the component AND an install function.\n\nDerived from:\nhttps://vuejs.org/v2/cookbook/packaging-sfc-for-npm.html\n*/\nvar installed = false;\n// declare install function executed by Vue.use()\nexport function install(Vue) {\n    if (!installed) {\n        installed = true;\n        Vue.component('FullCalendar', FullCalendarComponent);\n    }\n}\n// detect a globally availble version of Vue (eg. in browser via <script> tag)\nvar GlobalVue;\nif (typeof globalThis !== 'undefined') {\n    GlobalVue = globalThis.Vue;\n}\nelse {\n    GlobalVue = window.Vue;\n}\n// auto-install if possible\nif (GlobalVue) {\n    GlobalVue.use({\n        install: install\n    });\n}\n// to allow use as module (npm/webpack/etc.) export component\nexport default FullCalendarComponent;\n// so can access any of the utils/types from this lib\nexport * from '@fullcalendar/core';\n//# sourceMappingURL=main.js.map","import axios from '@axios'\n\nexport default {\n  namespaced: true,\n  state: {\n    calendarOptions: [\n      {\n        color: 'danger',\n        label: 'Personal',\n      },\n      {\n        color: 'primary',\n        label: 'Business',\n      },\n      {\n        color: 'warning',\n        label: 'Family',\n      },\n      {\n        color: 'success',\n        label: 'Holiday',\n      },\n      {\n        color: 'info',\n        label: 'ETC',\n      },\n    ],\n    selectedCalendars: ['Personal', 'Business', 'Family', 'Holiday', 'ETC'],\n  },\n  getters: {},\n  mutations: {\n    SET_SELECTED_EVENTS(state, val) {\n      state.selectedCalendars = val\n    },\n  },\n  actions: {\n    fetchEvents(ctx, { calendars }) {\n      return new Promise((resolve, reject) => {\n        axios\n          .get('/apps/calendar/events', {\n            params: {\n              calendars: calendars.join(','),\n            },\n          })\n          .then(response => resolve(response))\n          .catch(error => reject(error))\n      })\n    },\n    addEvent(ctx, { event }) {\n      return new Promise((resolve, reject) => {\n        axios\n          .post('/apps/calendar/events', { event })\n          .then(response => resolve(response))\n          .catch(error => reject(error))\n      })\n    },\n    updateEvent(ctx, { event }) {\n      return new Promise((resolve, reject) => {\n        axios\n          .post(`/apps/calendar/events/${event.id}`, { event })\n          .then(response => resolve(response))\n          .catch(error => reject(error))\n      })\n    },\n    removeEvent(ctx, { id }) {\n      return new Promise((resolve, reject) => {\n        axios\n          .delete(`/apps/calendar/events/${id}`)\n          .then(response => resolve(response))\n          .catch(error => reject(error))\n      })\n    },\n  },\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sidebar-wrapper d-flex justify-content-between flex-column flex-grow-1\"},[_c('div',{staticClass:\"p-2\"},[_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(255, 255, 255, 0.15)'),expression:\"'rgba(255, 255, 255, 0.15)'\",modifiers:{\"400\":true}}],attrs:{\"aria-controls\":\"sidebar-add-new-event\",\"aria-expanded\":String(_vm.isEventHandlerSidebarActive),\"variant\":\"primary\",\"block\":\"\"},on:{\"click\":function($event){return _vm.$emit('update:isEventHandlerSidebarActive', true)}}},[_vm._v(\" Add Event \")]),_c('div',{staticClass:\"mt-3\"},[_vm._m(0),_c('b-form-checkbox',{staticClass:\"mb-1\",model:{value:(_vm.checkAll),callback:function ($$v) {_vm.checkAll=$$v},expression:\"checkAll\"}},[_vm._v(\" View All \")]),_c('b-form-group',[_c('b-form-checkbox-group',{attrs:{\"name\":\"event-filter\",\"stacked\":\"\"},model:{value:(_vm.selectedCalendars),callback:function ($$v) {_vm.selectedCalendars=$$v},expression:\"selectedCalendars\"}},_vm._l((_vm.calendarOptions),function(item){return _c('b-form-checkbox',{key:item.label,staticClass:\"mb-1\",class:(\"custom-control-\" + (item.color)),attrs:{\"name\":\"event-filter\",\"value\":item.label}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])}),1)],1)],1)],1),_c('b-img',{attrs:{\"src\":require('@/assets/images/pages/calendar-illustration.png')}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h5',{staticClass:\"app-label section-label mb-1\"},[_c('span',{staticClass:\"align-middle\"},[_vm._v(\"Calendars\")])])}]\n\nexport { render, staticRenderFns }","import store from '@/store'\n\nimport { computed } from '@vue/composition-api'\n\nexport default function useCalendarSidebar() {\n  // ------------------------------------------------\n  // calendarOptions\n  // ------------------------------------------------\n  const calendarOptions = computed(() => store.state.calendar.calendarOptions)\n\n  // ------------------------------------------------\n  // selectedCalendars\n  // ------------------------------------------------\n  const selectedCalendars = computed({\n    get: () => store.state.calendar.selectedCalendars,\n    set: val => {\n      store.commit('calendar/SET_SELECTED_EVENTS', val)\n    },\n  })\n\n  // ------------------------------------------------\n  // checkAll\n  // ------------------------------------------------\n  const checkAll = computed({\n    /*\n      GET: Return boolean `true` => if length of options matches length of selected filters => Length matches when all events are selected\n      SET: If value is `true` => then add all available options in selected filters => Select All\n           Else if => all filters are selected (by checking length of both array) => Empty Selected array  => Deselect All\n    */\n    get: () => selectedCalendars.value.length === calendarOptions.value.length,\n    set: val => {\n      if (val) {\n        selectedCalendars.value = calendarOptions.value.map(i => i.label)\n      } else if (selectedCalendars.value.length === calendarOptions.value.length) {\n        selectedCalendars.value = []\n      }\n    },\n  })\n\n  return {\n    calendarOptions,\n    selectedCalendars,\n    checkAll,\n  }\n}\n","<template>\n  <div class=\"sidebar-wrapper d-flex justify-content-between flex-column flex-grow-1\">\n    <div class=\"p-2\">\n      <b-button\n        v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n        aria-controls=\"sidebar-add-new-event\"\n        :aria-expanded=\"String(isEventHandlerSidebarActive)\"\n        variant=\"primary\"\n        block\n        @click=\"$emit('update:isEventHandlerSidebarActive', true)\"\n      >\n        Add Event\n      </b-button>\n      <div class=\"mt-3\">\n        <h5 class=\"app-label section-label mb-1\">\n          <span class=\"align-middle\">Calendars</span>\n        </h5>\n        <b-form-checkbox\n          v-model=\"checkAll\"\n          class=\"mb-1\"\n        >\n          View All\n        </b-form-checkbox>\n        <b-form-group>\n          <b-form-checkbox-group\n            v-model=\"selectedCalendars\"\n            name=\"event-filter\"\n            stacked\n          >\n            <b-form-checkbox\n              v-for=\"item in calendarOptions\"\n              :key=\"item.label\"\n              name=\"event-filter\"\n              :value=\"item.label\"\n              class=\"mb-1\"\n              :class=\"`custom-control-${item.color}`\"\n            >\n              {{ item.label }}\n            </b-form-checkbox>\n          </b-form-checkbox-group>\n        </b-form-group>\n      </div>\n    </div>\n    <b-img :src=\"require('@/assets/images/pages/calendar-illustration.png')\" />\n  </div>\n</template>\n\n<script>\nimport {\n  BButton, BFormGroup, BFormCheckboxGroup, BFormCheckbox, BImg,\n} from 'bootstrap-vue'\nimport Ripple from 'vue-ripple-directive'\nimport useCalendarSidebar from './useCalendarSidebar'\n\nexport default {\n  directives: {\n    Ripple,\n  },\n  components: {\n    BButton,\n    BImg,\n    BFormCheckbox,\n    BFormGroup,\n    BFormCheckboxGroup,\n  },\n  props: {\n    isEventHandlerSidebarActive: {\n      type: Boolean,\n      require: true,\n    },\n  },\n  setup() {\n    const {\n      calendarOptions,\n      selectedCalendars,\n      checkAll,\n    } = useCalendarSidebar()\n\n    return {\n      calendarOptions,\n      selectedCalendars,\n      checkAll,\n    }\n  },\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CalendarSidebar.vue?vue&type=template&id=b9db0c82&\"\nimport script from \"./CalendarSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./CalendarSidebar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-sidebar',{attrs:{\"id\":\"sidebar-add-new-event\",\"sidebar-class\":\"sidebar-lg\",\"visible\":_vm.isEventHandlerSidebarActive,\"bg-variant\":\"white\",\"shadow\":\"\",\"backdrop\":\"\",\"no-header\":\"\",\"right\":\"\"},on:{\"change\":function (val) { return _vm.$emit('update:is-event-handler-sidebar-active', val); }},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hide = ref.hide;\nreturn [_c('div',{staticClass:\"d-flex justify-content-between align-items-center content-sidebar-header px-2 py-1\"},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm.eventLocal.id ? 'Update': 'Add')+\" Event \")]),_c('div',[(_vm.eventLocal.id)?_c('feather-icon',{staticClass:\"cursor-pointer\",attrs:{\"icon\":\"TrashIcon\"},on:{\"click\":function($event){_vm.$emit('remove-event'); hide();}}}):_vm._e(),_c('feather-icon',{staticClass:\"ml-1 cursor-pointer\",attrs:{\"icon\":\"XIcon\",\"size\":\"16\"},on:{\"click\":hide}})],1)]),_c('validation-observer',{ref:\"refFormObserver\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('b-form',{staticClass:\"p-2\",on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.onSubmit)},\"reset\":function($event){$event.preventDefault();return _vm.resetForm.apply(null, arguments)}}},[_c('validation-provider',{attrs:{\"name\":\"Title\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Title\",\"label-for\":\"event-title\"}},[_c('b-form-input',{attrs:{\"id\":\"event-title\",\"autofocus\":\"\",\"state\":_vm.getValidationState(validationContext),\"trim\":\"\",\"placeholder\":\"Event Title\"},model:{value:(_vm.eventLocal.title),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"title\", $$v)},expression:\"eventLocal.title\"}}),_c('b-form-invalid-feedback',[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('validation-provider',{attrs:{\"name\":\"Calendar\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Calendar\",\"label-for\":\"calendar\",\"state\":_vm.getValidationState(validationContext)}},[_c('v-select',{attrs:{\"dir\":_vm.$store.state.appConfig.isRTL ? 'rtl' : 'ltr',\"options\":_vm.calendarOptions,\"label\":\"label\",\"reduce\":function (calendar) { return calendar.label; },\"input-id\":\"calendar\"},scopedSlots:_vm._u([{key:\"option\",fn:function(ref){\nvar color = ref.color;\nvar label = ref.label;\nreturn [_c('div',{staticClass:\"rounded-circle d-inline-block mr-50\",class:(\"bg-\" + color),staticStyle:{\"height\":\"10px\",\"width\":\"10px\"}}),_c('span',[_vm._v(\" \"+_vm._s(label))])]}},{key:\"selected-option\",fn:function(ref){\nvar color = ref.color;\nvar label = ref.label;\nreturn [_c('div',{staticClass:\"rounded-circle d-inline-block mr-50\",class:(\"bg-\" + color),staticStyle:{\"height\":\"10px\",\"width\":\"10px\"}}),_c('span',[_vm._v(\" \"+_vm._s(label))])]}}],null,true),model:{value:(_vm.eventLocal.extendedProps.calendar),callback:function ($$v) {_vm.$set(_vm.eventLocal.extendedProps, \"calendar\", $$v)},expression:\"eventLocal.extendedProps.calendar\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('validation-provider',{attrs:{\"name\":\"Start Date\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Start Date\",\"label-for\":\"start-date\",\"state\":_vm.getValidationState(validationContext)}},[_c('flat-pickr',{staticClass:\"form-control\",attrs:{\"config\":{ enableTime: true, dateFormat: 'Y-m-d H:i'}},model:{value:(_vm.eventLocal.start),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"start\", $$v)},expression:\"eventLocal.start\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('validation-provider',{attrs:{\"name\":\"End Date\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"End Date\",\"label-for\":\"end-date\",\"state\":_vm.getValidationState(validationContext)}},[_c('flat-pickr',{staticClass:\"form-control\",attrs:{\"config\":{ enableTime: true, dateFormat: 'Y-m-d H:i'}},model:{value:(_vm.eventLocal.end),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"end\", $$v)},expression:\"eventLocal.end\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('b-form-group',[_c('b-form-checkbox',{attrs:{\"name\":\"check-button\",\"switch\":\"\",\"inline\":\"\"},model:{value:(_vm.eventLocal.allDay),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"allDay\", $$v)},expression:\"eventLocal.allDay\"}},[_vm._v(\" All Day \")])],1),_c('validation-provider',{attrs:{\"name\":\"Event URL\",\"rules\":\"url\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Event URL\",\"label-for\":\"event-url\"}},[_c('b-form-input',{attrs:{\"id\":\"event-url\",\"type\":\"url\",\"state\":_vm.getValidationState(validationContext),\"placeholder\":\"htttps://www.google.com\",\"trim\":\"\"},model:{value:(_vm.eventLocal.eventUrl),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"eventUrl\", $$v)},expression:\"eventLocal.eventUrl\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('b-form-group',{attrs:{\"label\":\"Add Guests\",\"label-for\":\"add-guests\"}},[_c('v-select',{attrs:{\"dir\":_vm.$store.state.appConfig.isRTL ? 'rtl' : 'ltr',\"multiple\":\"\",\"close-on-select\":false,\"options\":_vm.guestsOptions,\"label\":\"name\",\"input-id\":\"add-guests\"},scopedSlots:_vm._u([{key:\"option\",fn:function(ref){\nvar avatar = ref.avatar;\nvar name = ref.name;\nreturn [_c('b-avatar',{attrs:{\"size\":\"sm\",\"src\":avatar}}),_c('span',{staticClass:\"ml-50 align-middle\"},[_vm._v(\" \"+_vm._s(name))])]}},{key:\"selected-option\",fn:function(ref){\nvar avatar = ref.avatar;\nvar name = ref.name;\nreturn [_c('b-avatar',{staticClass:\"border border-white\",attrs:{\"size\":\"sm\",\"src\":avatar}}),_c('span',{staticClass:\"ml-50 align-middle\"},[_vm._v(\" \"+_vm._s(name))])]}}],null,true),model:{value:(_vm.eventLocal.extendedProps.guests),callback:function ($$v) {_vm.$set(_vm.eventLocal.extendedProps, \"guests\", $$v)},expression:\"eventLocal.extendedProps.guests\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Location\",\"label-for\":\"event-location\"}},[_c('b-form-input',{attrs:{\"id\":\"event-location\",\"trim\":\"\",\"placeholder\":\"Event Location\"},model:{value:(_vm.eventLocal.extendedProps.location),callback:function ($$v) {_vm.$set(_vm.eventLocal.extendedProps, \"location\", $$v)},expression:\"eventLocal.extendedProps.location\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Description\",\"label-for\":\"event-description\"}},[_c('b-form-textarea',{attrs:{\"id\":\"event-description\"},model:{value:(_vm.eventLocal.extendedProps.description),callback:function ($$v) {_vm.$set(_vm.eventLocal.extendedProps, \"description\", $$v)},expression:\"eventLocal.extendedProps.description\"}})],1),_c('div',{staticClass:\"d-flex mt-2\"},[_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(255, 255, 255, 0.15)'),expression:\"'rgba(255, 255, 255, 0.15)'\",modifiers:{\"400\":true}}],staticClass:\"mr-2\",attrs:{\"variant\":\"primary\",\"type\":\"submit\"}},[_vm._v(\" \"+_vm._s(_vm.eventLocal.id ? 'Update' : 'Add ')+\" \")]),_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(186, 191, 199, 0.15)'),expression:\"'rgba(186, 191, 199, 0.15)'\",modifiers:{\"400\":true}}],attrs:{\"type\":\"reset\",\"variant\":\"outline-secondary\"}},[_vm._v(\" Reset \")])],1)],1)]}}],null,true)})]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { ref, computed, watch } from '@vue/composition-api'\nimport store from '@/store'\n\nexport default function useCalendarEventHandler(props, clearForm, emit) {\n  // ------------------------------------------------\n  // eventLocal\n  // ------------------------------------------------\n  const eventLocal = ref(JSON.parse(JSON.stringify(props.event.value)))\n  const resetEventLocal = () => {\n    eventLocal.value = JSON.parse(JSON.stringify(props.event.value))\n  }\n  watch(props.event, () => {\n    resetEventLocal()\n  })\n\n  // ------------------------------------------------\n  // isEventHandlerSidebarActive\n  // * Clear form if sidebar is closed\n  // ------------------------------------------------\n  watch(props.isEventHandlerSidebarActive, val => {\n    // ? Don't reset event till transition is finished\n    if (!val) {\n      setTimeout(() => {\n        clearForm.value()\n      }, 350)\n    }\n  })\n  // ------------------------------------------------\n  // calendarOptions\n  // ------------------------------------------------\n  const calendarOptions = computed(() => store.state.calendar.calendarOptions)\n\n  const onSubmit = () => {\n    const eventData = JSON.parse(JSON.stringify(eventLocal))\n\n    // * If event has id => Edit Event\n    // Emit event for add/update event\n    if (props.event.value.id) emit('update-event', eventData.value)\n    else emit('add-event', eventData.value)\n\n    // Close sidebar\n    emit('update:is-event-handler-sidebar-active', false)\n  }\n\n  // *===============================================---*\n  // *--------- UI ---------------------------------------*\n  // *===============================================---*\n\n  // ------------------------------------------------\n  // guestOptions\n  // ------------------------------------------------\n\n  /* eslint-disable global-require */\n  const guestsOptions = [\n    { avatar: require('@/assets/images/avatars/1-small.png'), name: 'Jane Foster' },\n    { avatar: require('@/assets/images/avatars/3-small.png'), name: 'Donna Frank' },\n    { avatar: require('@/assets/images/avatars/5-small.png'), name: 'Gabrielle Robertson' },\n    { avatar: require('@/assets/images/avatars/7-small.png'), name: 'Lori Spears' },\n    { avatar: require('@/assets/images/avatars/9-small.png'), name: 'Sandy Vega' },\n    { avatar: require('@/assets/images/avatars/11-small.png'), name: 'Cheryl May' },\n  ]\n  /* eslint-enable global-require */\n\n  return {\n    eventLocal,\n    resetEventLocal,\n    calendarOptions,\n\n    // UI\n    guestsOptions,\n    onSubmit,\n  }\n}\n","<template>\n  <div>\n    <b-sidebar\n      id=\"sidebar-add-new-event\"\n      sidebar-class=\"sidebar-lg\"\n      :visible=\"isEventHandlerSidebarActive\"\n      bg-variant=\"white\"\n      shadow\n      backdrop\n      no-header\n      right\n      @change=\"(val) => $emit('update:is-event-handler-sidebar-active', val)\"\n    >\n      <template #default=\"{ hide }\">\n        <!-- Header -->\n        <div class=\"d-flex justify-content-between align-items-center content-sidebar-header px-2 py-1\">\n          <h5 class=\"mb-0\">\n            {{ eventLocal.id ? 'Update': 'Add' }} Event\n          </h5>\n          <div>\n            <feather-icon\n              v-if=\"eventLocal.id\"\n              icon=\"TrashIcon\"\n              class=\"cursor-pointer\"\n              @click=\"$emit('remove-event'); hide();\"\n            />\n            <feather-icon\n              class=\"ml-1 cursor-pointer\"\n              icon=\"XIcon\"\n              size=\"16\"\n              @click=\"hide\"\n            />\n          </div>\n        </div>\n\n        <!-- Body -->\n        <validation-observer\n          #default=\"{ handleSubmit }\"\n          ref=\"refFormObserver\"\n        >\n\n          <!-- Form -->\n          <b-form\n            class=\"p-2\"\n            @submit.prevent=\"handleSubmit(onSubmit)\"\n            @reset.prevent=\"resetForm\"\n          >\n\n            <!-- Title -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"Title\"\n              rules=\"required\"\n            >\n              <b-form-group\n                label=\"Title\"\n                label-for=\"event-title\"\n              >\n                <b-form-input\n                  id=\"event-title\"\n                  v-model=\"eventLocal.title\"\n                  autofocus\n                  :state=\"getValidationState(validationContext)\"\n                  trim\n                  placeholder=\"Event Title\"\n                />\n\n                <b-form-invalid-feedback>\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- Calendar -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"Calendar\"\n              rules=\"required\"\n            >\n\n              <b-form-group\n                label=\"Calendar\"\n                label-for=\"calendar\"\n                :state=\"getValidationState(validationContext)\"\n              >\n                <v-select\n                  v-model=\"eventLocal.extendedProps.calendar\"\n                  :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n                  :options=\"calendarOptions\"\n                  label=\"label\"\n                  :reduce=\"calendar => calendar.label\"\n                  input-id=\"calendar\"\n                >\n\n                  <template #option=\"{ color, label }\">\n                    <div\n                      class=\"rounded-circle d-inline-block mr-50\"\n                      :class=\"`bg-${color}`\"\n                      style=\"height:10px;width:10px\"\n                    />\n                    <span> {{ label }}</span>\n                  </template>\n\n                  <template #selected-option=\"{ color, label }\">\n                    <div\n                      class=\"rounded-circle d-inline-block mr-50\"\n                      :class=\"`bg-${color}`\"\n                      style=\"height:10px;width:10px\"\n                    />\n                    <span> {{ label }}</span>\n                  </template>\n                </v-select>\n\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- Start Date -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"Start Date\"\n              rules=\"required\"\n            >\n\n              <b-form-group\n                label=\"Start Date\"\n                label-for=\"start-date\"\n                :state=\"getValidationState(validationContext)\"\n              >\n                <flat-pickr\n                  v-model=\"eventLocal.start\"\n                  class=\"form-control\"\n                  :config=\"{ enableTime: true, dateFormat: 'Y-m-d H:i'}\"\n                />\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- End Date -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"End Date\"\n              rules=\"required\"\n            >\n\n              <b-form-group\n                label=\"End Date\"\n                label-for=\"end-date\"\n                :state=\"getValidationState(validationContext)\"\n              >\n                <flat-pickr\n                  v-model=\"eventLocal.end\"\n                  class=\"form-control\"\n                  :config=\"{ enableTime: true, dateFormat: 'Y-m-d H:i'}\"\n                />\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- All Day -->\n            <b-form-group>\n              <b-form-checkbox\n                v-model=\"eventLocal.allDay\"\n                name=\"check-button\"\n                switch\n                inline\n              >\n                All Day\n              </b-form-checkbox>\n            </b-form-group>\n\n            <!-- Event URL -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"Event URL\"\n              rules=\"url\"\n            >\n\n              <b-form-group\n                label=\"Event URL\"\n                label-for=\"event-url\"\n              >\n                <b-form-input\n                  id=\"event-url\"\n                  v-model=\"eventLocal.eventUrl\"\n                  type=\"url\"\n                  :state=\"getValidationState(validationContext)\"\n                  placeholder=\"htttps://www.google.com\"\n                  trim\n                />\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- Guests -->\n            <b-form-group\n              label=\"Add Guests\"\n              label-for=\"add-guests\"\n            >\n              <v-select\n                v-model=\"eventLocal.extendedProps.guests\"\n                :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n                multiple\n                :close-on-select=\"false\"\n                :options=\"guestsOptions\"\n                label=\"name\"\n                input-id=\"add-guests\"\n              >\n\n                <template #option=\"{ avatar, name }\">\n                  <b-avatar\n                    size=\"sm\"\n                    :src=\"avatar\"\n                  />\n                  <span class=\"ml-50 align-middle\"> {{ name }}</span>\n                </template>\n\n                <template #selected-option=\"{ avatar, name }\">\n                  <b-avatar\n                    size=\"sm\"\n                    class=\"border border-white\"\n                    :src=\"avatar\"\n                  />\n                  <span class=\"ml-50 align-middle\"> {{ name }}</span>\n                </template>\n              </v-select>\n            </b-form-group>\n\n            <!-- Location -->\n            <b-form-group\n              label=\"Location\"\n              label-for=\"event-location\"\n            >\n              <b-form-input\n                id=\"event-location\"\n                v-model=\"eventLocal.extendedProps.location\"\n                trim\n                placeholder=\"Event Location\"\n              />\n            </b-form-group>\n\n            <!-- Textarea -->\n            <b-form-group\n              label=\"Description\"\n              label-for=\"event-description\"\n            >\n              <b-form-textarea\n                id=\"event-description\"\n                v-model=\"eventLocal.extendedProps.description\"\n              />\n            </b-form-group>\n\n            <!-- Form Actions -->\n            <div class=\"d-flex mt-2\">\n              <b-button\n                v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                variant=\"primary\"\n                class=\"mr-2\"\n                type=\"submit\"\n              >\n                {{ eventLocal.id ? 'Update' : 'Add ' }}\n              </b-button>\n              <b-button\n                v-ripple.400=\"'rgba(186, 191, 199, 0.15)'\"\n                type=\"reset\"\n                variant=\"outline-secondary\"\n              >\n                Reset\n              </b-button>\n            </div>\n          </b-form>\n        </validation-observer>\n      </template>\n    </b-sidebar>\n  </div>\n</template>\n\n<script>\nimport {\n  BSidebar, BForm, BFormGroup, BFormInput, BFormCheckbox, BAvatar, BFormTextarea, BButton, BFormInvalidFeedback,\n} from 'bootstrap-vue'\nimport vSelect from 'vue-select'\nimport flatPickr from 'vue-flatpickr-component'\nimport Ripple from 'vue-ripple-directive'\nimport { ValidationProvider, ValidationObserver } from 'vee-validate'\nimport { required, email, url } from '@validations'\nimport formValidation from '@core/comp-functions/forms/form-validation'\nimport { ref, toRefs } from '@vue/composition-api'\nimport useCalendarEventHandler from './useCalendarEventHandler'\n\nexport default {\n  components: {\n    BButton,\n    BSidebar,\n    BForm,\n    BFormGroup,\n    BFormInput,\n    BFormCheckbox,\n    BFormTextarea,\n    BAvatar,\n    vSelect,\n    flatPickr,\n    ValidationProvider,\n    BFormInvalidFeedback,\n    ValidationObserver,\n  },\n  directives: {\n    Ripple,\n  },\n  model: {\n    prop: 'isEventHandlerSidebarActive',\n    event: 'update:is-event-handler-sidebar-active',\n  },\n  props: {\n    isEventHandlerSidebarActive: {\n      type: Boolean,\n      required: true,\n    },\n    event: {\n      type: Object,\n      required: true,\n    },\n    clearEventData: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      required,\n      email,\n      url,\n    }\n  },\n  setup(props, { emit }) {\n    /*\n     ? This is handled quite differently in SFC due to deadlock of `useFormValidation` and this composition function.\n     ? If we don't handle it the way it is being handled then either of two composition function used by this SFC get undefined as one of it's argument.\n     * The Trick:\n\n     * We created reactive property `clearFormData` and set to null so we can get `resetEventLocal` from `useCalendarEventHandler` composition function.\n     * Once we get `resetEventLocal` function which is required by `useFormValidation` we will pass it to `useFormValidation` and in return we will get `clearForm` function which shall be original value of `clearFormData`.\n     * Later we just assign `clearForm` to `clearFormData` and can resolve the deadlock. 😎\n\n     ? Behind The Scene\n     ? When we passed it to `useCalendarEventHandler` for first time it will be null but right after it we are getting correct value (which is `clearForm`) and assigning that correct value.\n     ? As `clearFormData` is reactive it is being changed from `null` to corrent value and thanks to reactivity it is also update in `useCalendarEventHandler` composition function and it is getting correct value in second time and can work w/o any issues.\n    */\n    const clearFormData = ref(null)\n\n    const {\n      eventLocal,\n      resetEventLocal,\n      calendarOptions,\n\n      // UI\n      onSubmit,\n      guestsOptions,\n    } = useCalendarEventHandler(toRefs(props), clearFormData, emit)\n\n    const {\n      refFormObserver,\n      getValidationState,\n      resetForm,\n      clearForm,\n    } = formValidation(resetEventLocal, props.clearEventData)\n\n    clearFormData.value = clearForm\n\n    return {\n      // Add New Event\n      eventLocal,\n      calendarOptions,\n      onSubmit,\n      guestsOptions,\n\n      // Form Validation\n      resetForm,\n      refFormObserver,\n      getValidationState,\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n@import '@core/scss/vue/libs/vue-select.scss';\n@import '@core/scss/vue/libs/vue-flatpicker.scss';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarEventHandler.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarEventHandler.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CalendarEventHandler.vue?vue&type=template&id=56a81a94&\"\nimport script from \"./CalendarEventHandler.vue?vue&type=script&lang=js&\"\nexport * from \"./CalendarEventHandler.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CalendarEventHandler.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DateComponent, buildNavLinkAttrs, DayCellContent, Fragment, BaseComponent, createFormatter, StandardEvent, buildSegTimeText, EventRoot, getSegAnchorAttrs, memoize, MoreLinkRoot, getSegMeta, createAriaClickAttrs, getUniqueDomId, setRef, DayCellRoot, WeekNumberRoot, buildEntryKey, intersectSpans, SegHierarchy, intersectRanges, addDays, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArray } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = buildNavLinkAttrs(this.context, props.date);\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", __assign({ id: props.dayNumberId, className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg, context)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\n\nvar TableCellMoreLink = /** @class */ (function (_super) {\n    __extends(TableCellMoreLink, _super);\n    function TableCellMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.compileSegs = memoize(compileSegs);\n        return _this;\n    }\n    TableCellMoreLink.prototype.render = function () {\n        var props = this.props;\n        var _a = this.compileSegs(props.singlePlacements), allSegs = _a.allSegs, invisibleSegs = _a.invisibleSegs;\n        return (createElement(MoreLinkRoot, { dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: function () {\n                var isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map(function (seg) {\n                    var instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick, title, isExpanded, popoverId) { return (createElement(\"a\", __assign({ ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), title: title, \"aria-expanded\": isExpanded, \"aria-controls\": popoverId }, createAriaClickAttrs(handleClick)), innerContent)); }));\n    };\n    return TableCellMoreLink;\n}(BaseComponent));\nfunction compileSegs(singlePlacements) {\n    var allSegs = [];\n    var invisibleSegs = [];\n    for (var _i = 0, singlePlacements_1 = singlePlacements; _i < singlePlacements_1.length; _i++) {\n        var placement = singlePlacements_1[_i];\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs: allSegs, invisibleSegs: invisibleSegs };\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.state = {\n            dayNumberId: getUniqueDomId(),\n        };\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _a = this, context = _a.context, props = _a.props, state = _a.state, rootElRef = _a.rootElRef;\n        var date = props.date, dateProfile = props.dateProfile;\n        var navLinkAttrs = buildNavLinkAttrs(context, date, 'week');\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, role: \"gridcell\", className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs, (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, dayNumberId: state.dayNumberId, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                    props.fgContent,\n                    createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    var hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    var segInputs = [];\n    var unknownHeightSegs = [];\n    for (var i = 0; i < segs.length; i += 1) {\n        var seg = segs[i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                thickness: eventHeight,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var segRects = hierarchy.toRects();\n    var _a = placeRects(segRects, segs, cells), singleColPlacements = _a.singleColPlacements, multiColPlacements = _a.multiColPlacements, leftoverMargins = _a.leftoverMargins;\n    var moreCnts = [];\n    var moreMarginTops = [];\n    // add segs with unknown heights\n    for (var _i = 0, unknownHeightSegs_1 = unknownHeightSegs; _i < unknownHeightSegs_1.length; _i++) {\n        var seg = unknownHeightSegs_1[_i];\n        multiColPlacements[seg.firstCol].push({\n            seg: seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (var col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (var _b = 0, hiddenEntries_1 = hiddenEntries; _b < hiddenEntries_1.length; _b++) {\n        var hiddenEntry = hiddenEntries_1[_b];\n        var seg = segs[hiddenEntry.index];\n        var hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (var col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, moreCnts: moreCnts, moreMarginTops: moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    var singleColPlacements = [];\n    var multiColPlacements = [];\n    var leftoverMargins = [];\n    for (var col = 0; col < cells.length; col += 1) {\n        var rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        var singlePlacements = [];\n        var currentHeight = 0;\n        var currentMarginTop = 0;\n        for (var _i = 0, rects_1 = rects; _i < rects_1.length; _i++) {\n            var rect = rects_1[_i];\n            var seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        var multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (var _a = 0, rects_2 = rects; _a < rects_2.length; _a++) {\n            var rect = rects_2[_a];\n            var seg = segs[rect.index];\n            var isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            var isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, leftoverMargins: leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    var rectsByEachCol = [];\n    for (var col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (var _i = 0, rects_3 = rects; _i < rects_3.length; _i++) {\n        var rect = rects_3[_i];\n        for (var col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    var eventRange = seg.eventRange;\n    var origRange = eventRange.range;\n    var slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return __assign(__assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nvar DayGridSegHierarchy = /** @class */ (function (_super) {\n    __extends(DayGridSegHierarchy, _super);\n    function DayGridSegHierarchy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // config\n        _this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        _this.forceHidden = {};\n        return _this;\n    }\n    DayGridSegHierarchy.prototype.addSegs = function (segInputs) {\n        var _this = this;\n        var hiddenSegs = _super.prototype.addSegs.call(this, segInputs);\n        var entriesByLevel = this.entriesByLevel;\n        var excludeHidden = function (entry) { return !_this.forceHidden[buildEntryKey(entry)]; };\n        // remove the forced-hidden segs\n        for (var level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    };\n    DayGridSegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, forceHidden = _a.forceHidden;\n        var touchingEntry = insertion.touchingEntry, touchingLevel = insertion.touchingLevel, touchingLateral = insertion.touchingLateral;\n        if (this.hiddenConsumes && touchingEntry) {\n            var touchingEntryId = buildEntryKey(touchingEntry);\n            // if not already hidden\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    var placeholderEntry = __assign(__assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    var placeholderEntryId = buildEntryKey(placeholderEntry);\n                    forceHidden[placeholderEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\n                    this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        return _super.prototype.handleInvalidInsertion.call(this, insertion, entry, hiddenEntries);\n    };\n    return DayGridSegHierarchy;\n}(SegHierarchy));\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var options = context.options;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells), singleColPlacements = _b.singleColPlacements, multiColPlacements = _b.multiColPlacements, moreCnts = _b.moreCnts, moreMarginTops = _b.moreMarginTops;\n        var isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                var mirrorFgNodes = _this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    };\n    TableRow.prototype.renderFgSegs = function (col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segPlacements_1 = segPlacements; _i < segPlacements_1.length; _i++) {\n                var placement = segPlacements_1[_i];\n                var seg = placement.seg;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var key = instanceId + ':' + col;\n                var isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                var isAbsolute = placement.isAbsolute;\n                var left = '';\n                var right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left: left,\n                        right: right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            var oldInstanceHeights = this.state.eventInstanceHeights;\n            var newInstanceHeights = this.queryEventInstanceHeights();\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.setState({\n                // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n                // Essentially, once you compute an element's height, never null-out.\n                // TODO: always display all events, as visibility:hidden?\n                eventInstanceHeights: __assign(__assign({}, oldInstanceHeights), newInstanceHeights),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    };\n    TableRow.prototype.queryEventInstanceHeights = function () {\n        var segElMap = this.segHarnessRefs.currentMap;\n        var eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (var key in segElMap) {\n            var height = Math.round(segElMap[key].getBoundingClientRect().height);\n            var instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    var topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map(function (seg) { return ({\n        seg: seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }); });\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    var topsByInstanceId = {};\n    for (var _i = 0, colPlacements_1 = colPlacements; _i < colPlacements_1.length; _i++) {\n        var placements = colPlacements_1[_i];\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.rowRefs = new RefMap();\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", { role: \"presentation\" }, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })); }))))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(positionLeft);\n        var row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            var cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: __assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    return DayTable;\n}(DateComponent));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { hasBgRendering, Splitter, createFormatter, createElement, ViewContextType, RenderHook, BaseComponent, createRef, diffDays, buildNavLinkAttrs, WeekNumberRoot, getStickyHeaderDates, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorRoot, renderScrollShim, DateComponent, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkRoot, setRef, SegHierarchy, groupIntersectingEntries, buildEntryKey, binarySearch, getEntrySpanEnd, StandardEvent, DayCellContent, Fragment, getSegMeta, memoize, sortEventSegs, DayCellRoot, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, intersectRanges, Slicer, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\nimport { DayTable } from '@fullcalendar/daygrid';\n\nvar AllDaySplitter = /** @class */ (function (_super) {\n    __extends(AllDaySplitter, _super);\n    function AllDaySplitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AllDaySplitter.prototype.getKeyInfo = function () {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    };\n    AllDaySplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    };\n    AllDaySplitter.prototype.getKeysForEventDef = function (eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    };\n    return AllDaySplitter;\n}(Splitter));\n\nvar DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    var classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, function (context) {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        var dateEnv = context.dateEnv, options = context.options, viewApi = context.viewApi;\n        var labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        var hookProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLabelClassNames, content: options.slotLabelContent, defaultContent: renderInnerContent, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": props.isoTimeStr },\n            createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion\", ref: innerElRef }, innerContent)))); }));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nvar TimeBodyAxis = /** @class */ (function (_super) {\n    __extends(TimeBodyAxis, _super);\n    function TimeBodyAxis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeBodyAxis.prototype.render = function () {\n        return this.props.slatMetas.map(function (slatMeta) { return (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, __assign({}, slatMeta)))); });\n    };\n    return TimeBodyAxis;\n}(BaseComponent));\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nvar AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nvar TimeColsView = /** @class */ (function (_super) {\n    __extends(TimeColsView, _super);\n    function TimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        _this.headerElRef = createRef();\n        _this.rootElRef = createRef();\n        _this.scrollerElRef = createRef();\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleScrollTopRequest = function (scrollTop) {\n            var scrollerEl = _this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        _this.renderHeadAxis = function (rowKey, frameHeight) {\n            if (frameHeight === void 0) { frameHeight = ''; }\n            var options = _this.context.options;\n            var dateProfile = _this.props.dateProfile;\n            var range = dateProfile.renderRange;\n            var dayCnt = diffDays(range.start, range.end);\n            var navLinkAttrs = (dayCnt === 1) // only do in day views (to avoid doing in week views that dont need it)\n                ? buildNavLinkAttrs(_this.context, range.start, 'week')\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberRoot, { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"th\", { ref: rootElRef, \"aria-hidden\": true, className: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ].concat(classNames).join(' ') },\n                    createElement(\"div\", { className: \"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid\", style: { height: frameHeight } },\n                        createElement(\"a\", __assign({ ref: innerElRef, className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\" }, navLinkAttrs), innerContent)))); }));\n            }\n            return (createElement(\"th\", { \"aria-hidden\": true, className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        _this.renderTableRowAxis = function (rowHeight) {\n            var _a = _this.context, options = _a.options, viewApi = _a.viewApi;\n            var hookProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, \"aria-hidden\": true, className: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ].concat(classNames).join(' ') },\n                createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : ''), style: { height: rowHeight } },\n                    createElement(\"span\", { className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\", ref: innerElRef }, innerContent)))); }));\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n        };\n        return _this;\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    TimeColsView.prototype.renderSimpleLayout = function (headerRowContent, allDayContent, timeContent) {\n        var _a = this, context = _a.context, props = _a.props;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections }))); }));\n    };\n    TimeColsView.prototype.renderHScrollLayout = function (headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        var _this = this;\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, context = _a.context, props = _a.props;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (arg) { return (createElement(\"tr\", { role: \"presentation\" }, _this.renderHeadAxis('day', arg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (contentArg) { return (createElement(\"tr\", { role: \"presentation\" }, _this.renderTableRowAxis(contentArg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        var isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: function (arg) { return (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { \"aria-hidden\": true, style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, function (nowDate) {\n                                var nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorRoot, { isAxis: true, date: nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); }));\n                                }\n                                return null;\n                            })))); },\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections }))); }));\n    };\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    TimeColsView.prototype.getAllDayMaxEventProps = function () {\n        var _a = this.context.options, dayMaxEvents = _a.dayMaxEvents, dayMaxEventRows = _a.dayMaxEventRows;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows };\n    };\n    return TimeColsView;\n}(DateComponent));\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\nvar TimeColsSlatsCoords = /** @class */ (function () {\n    function TimeColsSlatsCoords(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    TimeColsSlatsCoords.prototype.safeComputeTop = function (date) {\n        var dateProfile = this.dateProfile;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            var startOfDayDate = startOfDay(date);\n            var timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    TimeColsSlatsCoords.prototype.computeDateTop = function (when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    TimeColsSlatsCoords.prototype.computeTimeTop = function (duration) {\n        var _a = this, positions = _a.positions, dateProfile = _a.dateProfile;\n        var len = positions.els.length;\n        // floating-point value of # of slots covered\n        var slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        var slatIndex;\n        var slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    };\n    return TimeColsSlatsCoords;\n}());\n\nvar TimeColsSlatsBody = /** @class */ (function (_super) {\n    __extends(TimeColsSlatsBody, _super);\n    function TimeColsSlatsBody() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColsSlatsBody.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var slatElRefs = props.slatElRefs;\n        return (createElement(\"tbody\", null, props.slatMetas.map(function (slatMeta, i) {\n            var hookProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            var classNames = [\n                'fc-timegrid-slot',\n                'fc-timegrid-slot-lane',\n                slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor',\n            ];\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, __assign({}, slatMeta))),\n                createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": slatMeta.isoTimeStr }, innerContent)); })));\n        })));\n    };\n    return TimeColsSlatsBody;\n}(BaseComponent));\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nvar TimeColsSlats = /** @class */ (function (_super) {\n    __extends(TimeColsSlats, _super);\n    function TimeColsSlats() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.slatElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsSlats.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(\"div\", { ref: this.rootElRef, className: \"fc-timegrid-slots\" },\n            createElement(\"table\", { \"aria-hidden\": true, className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    };\n    TimeColsSlats.prototype.componentDidMount = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentDidUpdate = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentWillUnmount = function () {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    };\n    TimeColsSlats.prototype.updateSizing = function () {\n        var _a = this, context = _a.context, props = _a.props;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            var rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    };\n    return TimeColsSlats;\n}(BaseComponent));\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map(function (slatMeta) { return elMap[slatMeta.key]; });\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    var segsByCol = [];\n    var i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TimeColMoreLink = /** @class */ (function (_super) {\n    __extends(TimeColMoreLink, _super);\n    function TimeColMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        return _this;\n    }\n    TimeColMoreLink.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(MoreLinkRoot, { allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, alignmentElRef: this.rootElRef, defaultContent: renderMoreLinkInner, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: function () { return renderPlainFgSegs(props.hiddenSegs, props); } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick, title, isExpanded, popoverId) { return (createElement(\"a\", { ref: function (el) {\n                setRef(rootElRef, el);\n                setRef(_this.rootElRef, el);\n            }, className: ['fc-timegrid-more-link'].concat(classNames).join(' '), style: { top: props.top, bottom: props.bottom }, onClick: handleClick, title: title, \"aria-expanded\": isExpanded, \"aria-controls\": popoverId },\n            createElement(\"div\", { ref: innerElRef, className: \"fc-timegrid-more-link-inner fc-sticky\" }, innerContent))); }));\n    };\n    return TimeColMoreLink;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\n    var hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    var web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    var segRects = webToRects(web);\n    return { segRects: segRects, hiddenGroups: hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    var entriesByLevel = hierarchy.entriesByLevel;\n    var buildNode = cacheable(function (level, lateral) { return level + ':' + lateral; }, function (level, lateral) {\n        var siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        var nextLevelRes = buildNodes(siblingRange, buildNode);\n        var entry = entriesByLevel[level][lateral];\n        return [\n            __assign(__assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    var level = siblingRange.level, lateralStart = siblingRange.lateralStart, lateralEnd = siblingRange.lateralEnd;\n    var lateral = lateralStart;\n    var pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    var levelCoords = hierarchy.levelCoords, entriesByLevel = hierarchy.entriesByLevel;\n    var subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    var afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    var levelCnt = levelCoords.length;\n    var level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        var entries = entriesByLevel[level];\n        var entry = void 0;\n        var searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n        var lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        var lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.span.start < subjectEntry.span.end) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level: level, lateralStart: lateralStart, lateralEnd: lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    var stretchNode = cacheable(function (node, startCoord, prevThickness) { return buildEntryKey(node); }, function (node, startCoord, prevThickness) {\n        var nextLevelNodes = node.nextLevelNodes, thickness = node.thickness;\n        var allThickness = thickness + prevThickness;\n        var thicknessFraction = thickness / allThickness;\n        var endCoord;\n        var newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (var _i = 0, nextLevelNodes_1 = nextLevelNodes; _i < nextLevelNodes_1.length; _i++) {\n                var childNode = nextLevelNodes_1[_i];\n                if (endCoord === undefined) {\n                    var res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    var res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        var newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, __assign(__assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map(function (node) { return stretchNode(node, 0, 0)[1]; });\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    var rects = [];\n    var processNode = cacheable(function (node, levelCoord, stackDepth) { return buildEntryKey(node); }, function (node, levelCoord, stackDepth) {\n        var rect = __assign(__assign({}, node), { levelCoord: levelCoord,\n            stackDepth: stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        var stackForward = 0;\n        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n            var node = nodes_1[_i];\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    var cache = {};\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var key = keyFunc.apply(void 0, args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc.apply(void 0, args));\n    };\n}\n\nfunction computeSegVCoords(segs, colDate, slatCoords, eventMinHeight) {\n    if (slatCoords === void 0) { slatCoords = null; }\n    if (eventMinHeight === void 0) { eventMinHeight = 0; }\n    var vcoords = [];\n    if (slatCoords) {\n        for (var i = 0; i < segs.length; i += 1) {\n            var seg = segs[i];\n            var spanStart = slatCoords.computeDateTop(seg.start, colDate);\n            var spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n            slatCoords.computeDateTop(seg.end, colDate));\n            vcoords.push({\n                start: Math.round(spanStart),\n                end: Math.round(spanEnd), //\n            });\n        }\n    }\n    return vcoords;\n}\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\neventOrderStrict, eventMaxStack) {\n    var segInputs = [];\n    var dumbSegs = []; // segs without coords\n    for (var i = 0; i < segs.length; i += 1) {\n        var vcoords = segVCoords[i];\n        if (vcoords) {\n            segInputs.push({\n                index: i,\n                thickness: 1,\n                span: vcoords,\n            });\n        }\n        else {\n            dumbSegs.push(segs[i]);\n        }\n    }\n    var _a = buildPositioning(segInputs, eventOrderStrict, eventMaxStack), segRects = _a.segRects, hiddenGroups = _a.hiddenGroups;\n    var segPlacements = [];\n    for (var _i = 0, segRects_1 = segRects; _i < segRects_1.length; _i++) {\n        var segRect = segRects_1[_i];\n        segPlacements.push({\n            seg: segs[segRect.index],\n            rect: segRect,\n        });\n    }\n    for (var _b = 0, dumbSegs_1 = dumbSegs; _b < dumbSegs_1.length; _b++) {\n        var dumbSeg = dumbSegs_1[_b];\n        segPlacements.push({ seg: dumbSeg, rect: null });\n    }\n    return { segPlacements: segPlacements, hiddenGroups: hiddenGroups };\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nvar TimeColEvent = /** @class */ (function (_super) {\n    __extends(TimeColEvent, _super);\n    function TimeColEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColEvent.prototype.render = function () {\n        var classNames = [\n            'fc-timegrid-event',\n            'fc-v-event',\n        ];\n        if (this.props.isShort) {\n            classNames.push('fc-timegrid-event-short');\n        }\n        return (createElement(StandardEvent, __assign({}, this.props, { defaultTimeFormat: DEFAULT_TIME_FORMAT, extraClassNames: classNames })));\n    };\n    return TimeColEvent;\n}(BaseComponent));\n\nvar TimeColMisc = /** @class */ (function (_super) {\n    __extends(TimeColMisc, _super);\n    function TimeColMisc() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColMisc.prototype.render = function () {\n        var props = this.props;\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (innerElRef, innerContent) { return (innerContent &&\n            createElement(\"div\", { className: \"fc-timegrid-col-misc\", ref: innerElRef }, innerContent)); }));\n    };\n    return TimeColMisc;\n}(BaseComponent));\n\nvar TimeCol = /** @class */ (function (_super) {\n    __extends(TimeCol, _super);\n    function TimeCol() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.sortEventSegs = memoize(sortEventSegs);\n        return _this;\n    }\n    // TODO: memoize event-placement?\n    TimeCol.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var isSelectMirror = context.options.selectMirror;\n        var mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        var interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        var sortedFgSegs = this.sortEventSegs(props.fgEventSegs, context.options.eventOrder);\n        return (createElement(DayCellRoot, { elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (rootElRef, classNames, dataAttrs) { return (createElement(\"td\", __assign({ ref: rootElRef, role: \"gridcell\", className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join(' ') }, dataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                    _this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                    _this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                    _this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\n                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, _this.renderNowIndicator(props.nowIndicatorSegs)),\n                createElement(TimeColMisc, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps })))); }));\n    };\n    TimeCol.prototype.renderFgSegs = function (sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var props = this.props;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n    };\n    TimeCol.prototype.renderPositionedFgSegs = function (segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var _this = this;\n        var _a = this.context.options, eventMaxStack = _a.eventMaxStack, eventShortHeight = _a.eventShortHeight, eventOrderStrict = _a.eventOrderStrict, eventMinHeight = _a.eventMinHeight;\n        var _b = this.props, date = _b.date, slatCoords = _b.slatCoords, eventSelection = _b.eventSelection, todayRange = _b.todayRange, nowDate = _b.nowDate;\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n        var _c = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack), segPlacements = _c.segPlacements, hiddenGroups = _c.hiddenGroups;\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segPlacements.map(function (segPlacement) {\n                var seg = segPlacement.seg, rect = segPlacement.rect;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                var vStyle = computeSegVStyle(rect && rect.span);\n                var hStyle = (!isMirror && rect) ? _this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                var isInset = Boolean(rect) && rect.stackForward > 0;\n                var isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: __assign(__assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                    createElement(TimeColEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    };\n    // will already have eventMinHeight applied because segInputs already had it\n    TimeCol.prototype.renderHiddenGroups = function (hiddenGroups, segs) {\n        var _a = this.props, extraDateSpan = _a.extraDateSpan, dateProfile = _a.dateProfile, todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n        return (createElement(Fragment, null, hiddenGroups.map(function (hiddenGroup) {\n            var positionCss = computeSegVStyle(hiddenGroup.span);\n            var hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    };\n    TimeCol.prototype.renderFillSegs = function (segs, fillType) {\n        var _a = this, props = _a.props, context = _a.context;\n        var segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n        var children = segVCoords.map(function (vcoords, i) {\n            var seg = segs[i];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    };\n    TimeCol.prototype.renderNowIndicator = function (segs) {\n        var _a = this.props, slatCoords = _a.slatCoords, date = _a.date;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map(function (seg, i) { return (createElement(NowIndicatorRoot, { isAxis: false, date: date, \n            // key doesn't matter. will only ever be one\n            key: i }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join(' '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent)); })); });\n    };\n    TimeCol.prototype.computeSegHStyle = function (segHCoords) {\n        var _a = this.context, isRtl = _a.isRtl, options = _a.options;\n        var shouldOverlap = options.slotEventOverlap;\n        var nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        var farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n        var left; // amount of space from left edge, a fraction of the total width\n        var right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        var props = {\n            zIndex: segHCoords.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segHCoords.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    };\n    return TimeCol;\n}(BaseComponent));\nfunction renderPlainFgSegs(sortedFgSegs, _a) {\n    var todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n    var hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map(function (seg) {\n        var instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction computeSegVStyle(segVCoords) {\n    if (!segVCoords) {\n        return { top: '', bottom: '' };\n    }\n    return {\n        top: segVCoords.start,\n        bottom: -segVCoords.end,\n    };\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map(function (segEntry) { return allSegs[segEntry.index]; });\n}\n\nvar TimeColsContent = /** @class */ (function (_super) {\n    __extends(TimeColsContent, _super);\n    function TimeColsContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitFgEventSegs = memoize(splitSegsByCol);\n        _this.splitBgEventSegs = memoize(splitSegsByCol);\n        _this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        _this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        _this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        _this.splitEventDrag = memoize(splitInteractionByCol);\n        _this.splitEventResize = memoize(splitInteractionByCol);\n        _this.rootElRef = createRef();\n        _this.cellElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsContent.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        var colCnt = props.cells.length;\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        var nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { role: \"presentation\", style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(\"tr\", { role: \"row\" },\n                        props.axis && (createElement(\"td\", { \"aria-hidden\": true, className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); })))))),\n                        props.cells.map(function (cell, i) { return (createElement(TimeCol, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint })); }))))));\n    };\n    TimeColsContent.prototype.componentDidMount = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.componentDidUpdate = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.updateCoords = function () {\n        var props = this.props;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    };\n    return TimeColsContent;\n}(BaseComponent));\nfunction collectCellEls(elMap, cells) {\n    return cells.map(function (cell) { return elMap[cell.key]; });\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nvar TimeCols = /** @class */ (function (_super) {\n    __extends(TimeCols, _super);\n    function TimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processSlotOptions = memoize(processSlotOptions);\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleRootEl = function (el) {\n            if (el) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: el,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        _this.handleScrollRequest = function (request) {\n            var onScrollTopRequest = _this.props.onScrollTopRequest;\n            var slatCoords = _this.state.slatCoords;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    var top_1 = slatCoords.computeTimeTop(request.time);\n                    top_1 = Math.ceil(top_1); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top_1) {\n                        top_1 += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top_1);\n                }\n                return true;\n            }\n            return false;\n        };\n        _this.handleColCoords = function (colCoords) {\n            _this.colCoords = colCoords;\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n            if (_this.props.onSlatCoords) {\n                _this.props.onSlatCoords(slatCoords);\n            }\n        };\n        return _this;\n    }\n    TimeCols.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    };\n    TimeCols.prototype.componentDidMount = function () {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    };\n    TimeCols.prototype.componentDidUpdate = function (prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    };\n    TimeCols.prototype.componentWillUnmount = function () {\n        this.scrollResponder.detach();\n    };\n    TimeCols.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n        var colCoords = this.colCoords;\n        var dateProfile = this.props.dateProfile;\n        var slatCoords = this.state.slatCoords;\n        var _b = this.processSlotOptions(this.props.slotDuration, options.snapDuration), snapDuration = _b.snapDuration, snapsPerSlot = _b.snapsPerSlot;\n        var colIndex = colCoords.leftToIndex(positionLeft);\n        var slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            var cell = this.props.cells[colIndex];\n            var slatTop = slatCoords.positions.tops[slatIndex];\n            var slatHeight = slatCoords.positions.getHeight(slatIndex);\n            var partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            var dayDate = this.props.cells[colIndex].date;\n            var time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            var start = dateEnv.add(dayDate, time);\n            var end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile: dateProfile,\n                dateSpan: __assign({ range: { start: start, end: end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    return TimeCols;\n}(DateComponent));\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    var snapDuration = snapDurationOverride || slotDuration;\n    var snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration: snapDuration, snapsPerSlot: snapsPerSlot };\n}\n\nvar DayTimeColsSlicer = /** @class */ (function (_super) {\n    __extends(DayTimeColsSlicer, _super);\n    function DayTimeColsSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayTimeColsSlicer.prototype.sliceRange = function (range, dayRanges) {\n        var segs = [];\n        for (var col = 0; col < dayRanges.length; col += 1) {\n            var segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col: col,\n                });\n            }\n        }\n        return segs;\n    };\n    return DayTimeColsSlicer;\n}(Slicer));\n\nvar DayTimeCols = /** @class */ (function (_super) {\n    __extends(DayTimeCols, _super);\n    function DayTimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayRanges = memoize(buildDayRanges);\n        _this.slicer = new DayTimeColsSlicer();\n        _this.timeColsRef = createRef();\n        return _this;\n    }\n    DayTimeCols.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var dateProfile = props.dateProfile, dayTableModel = props.dayTableModel;\n        var isNowIndicator = context.options.nowIndicator;\n        var dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, function (nowDate, todayRange) { return (createElement(TimeCols, __assign({ ref: _this.timeColsRef }, _this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && _this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords }))); }));\n    };\n    return DayTimeCols;\n}(DateComponent));\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    var ranges = [];\n    for (var _i = 0, _a = dayTableModel.headerDates; _i < _a.length; _i++) {\n        var date = _a[_i];\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nvar STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    var dayStart = new Date(0);\n    var slatTime = slotMinTime;\n    var slatIterator = createDuration(0);\n    var labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    var metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        var date = dateEnv.add(dayStart, slatTime);\n        var isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date: date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled: isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    var i;\n    var labelInterval;\n    var slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nvar DayTimeColsView = /** @class */ (function (_super) {\n    __extends(DayTimeColsView, _super);\n    function DayTimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildTimeColsModel = memoize(buildTimeColsModel);\n        _this.buildSlatMetas = memoize(buildSlatMetas);\n        return _this;\n    }\n    DayTimeColsView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dateProfile = props.dateProfile;\n        var dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        var splitProps = this.allDaySplitter.splitProps(props);\n        var slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        var dayMinWidth = options.dayMinWidth;\n        var hasAttachedAxis = !dayMinWidth;\n        var hasDetachedAxis = dayMinWidth;\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        var allDayContent = (options.allDaySlot !== false) && (function (contentArg) { return (createElement(DayTable, __assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? _this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, _this.getAllDayMaxEventProps()))); });\n        var timeGridContent = function (contentArg) { return (createElement(DayTimeCols, __assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: _this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: _this.handleScrollTopRequest }))); };\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    };\n    return DayTimeColsView;\n}(TimeColsView));\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar main = createPlugin({\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport default main;\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { getUniqueDomId, getDateMeta, buildNavLinkAttrs, getDayClassNames, createElement, RenderHook, formatDayString, BaseComponent, Fragment, createFormatter, EventRoot, getSegAnchorAttrs, isMultiDayRange, buildSegTimeText, memoize, ViewRoot, Scroller, NowTimer, sortEventSegs, getSegMeta, sliceEventStore, intersectRanges, DateComponent, startOfDay, addDays, identity, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nvar ListViewHeaderRow = /** @class */ (function (_super) {\n    __extends(ListViewHeaderRow, _super);\n    function ListViewHeaderRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            textId: getUniqueDomId(),\n        };\n        return _this;\n    }\n    ListViewHeaderRow.prototype.render = function () {\n        var _a = this.context, theme = _a.theme, dateEnv = _a.dateEnv, options = _a.options, viewApi = _a.viewApi;\n        var _b = this.props, cellId = _b.cellId, dayDate = _b.dayDate, todayRange = _b.todayRange;\n        var textId = this.state.textId;\n        var dayMeta = getDateMeta(dayDate, todayRange);\n        // will ever be falsy?\n        var text = options.listDayFormat ? dateEnv.format(dayDate, options.listDayFormat) : '';\n        // will ever be falsy? also, BAD NAME \"alt\"\n        var sideText = options.listDaySideFormat ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n        var hookProps = __assign({ date: dateEnv.toDate(dayDate), view: viewApi, textId: textId,\n            text: text,\n            sideText: sideText, navLinkAttrs: buildNavLinkAttrs(this.context, dayDate), sideNavLinkAttrs: buildNavLinkAttrs(this.context, dayDate, 'day', false) }, dayMeta);\n        var classNames = ['fc-list-day'].concat(getDayClassNames(dayMeta, theme));\n        // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid too)\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInnerContent, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"tr\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": formatDayString(dayDate) },\n            createElement(\"th\", { scope: \"colgroup\", colSpan: 3, id: cellId, \"aria-labelledby\": textId },\n                createElement(\"div\", { className: 'fc-list-day-cushion ' + theme.getClass('tableCellShaded'), ref: innerElRef }, innerContent)))); }));\n    };\n    return ListViewHeaderRow;\n}(BaseComponent));\nfunction renderInnerContent(props) {\n    return (createElement(Fragment, null,\n        props.text && (createElement(\"a\", __assign({ id: props.textId, className: \"fc-list-day-text\" }, props.navLinkAttrs), props.text)),\n        props.sideText && ( /* not keyboard tabbable */createElement(\"a\", __assign({ \"aria-hidden\": true, className: \"fc-list-day-side-text\" }, props.sideNavLinkAttrs), props.sideText))));\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: 'short',\n});\nvar ListViewEventRow = /** @class */ (function (_super) {\n    __extends(ListViewEventRow, _super);\n    function ListViewEventRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListViewEventRow.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg, timeHeaderId = props.timeHeaderId, eventHeaderId = props.eventHeaderId, dateHeaderId = props.dateHeaderId;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TIME_FORMAT;\n        return (createElement(EventRoot, { seg: seg, timeText: \"\" // BAD. because of all-day content\n            , disableDragging: true, disableResizing: true, defaultContent: function () { return renderEventInnerContent(seg, context); } /* weird */, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, isSelected: props.isSelected, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"tr\", { className: ['fc-list-event', hookProps.event.url ? 'fc-event-forced-url' : ''].concat(classNames).join(' '), ref: rootElRef },\n            buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId),\n            createElement(\"td\", { \"aria-hidden\": true, className: \"fc-list-event-graphic\" },\n                createElement(\"span\", { className: \"fc-list-event-dot\", style: { borderColor: hookProps.borderColor || hookProps.backgroundColor } })),\n            createElement(\"td\", { ref: innerElRef, headers: eventHeaderId + \" \" + dateHeaderId, className: \"fc-list-event-title\" }, innerContent))); }));\n    };\n    return ListViewEventRow;\n}(BaseComponent));\nfunction renderEventInnerContent(seg, context) {\n    var interactiveAttrs = getSegAnchorAttrs(seg, context);\n    return (createElement(\"a\", __assign({}, interactiveAttrs), seg.eventRange.def.title));\n}\nfunction buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId) {\n    var options = context.options;\n    if (options.displayEventTime !== false) {\n        var eventDef = seg.eventRange.def;\n        var eventInstance = seg.eventRange.instance;\n        var doAllDay = false;\n        var timeText = void 0;\n        if (eventDef.allDay) {\n            doAllDay = true;\n        }\n        else if (isMultiDayRange(seg.eventRange.range)) { // TODO: use (!isStart || !isEnd) instead?\n            if (seg.isStart) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, eventInstance.range.start, seg.end);\n            }\n            else if (seg.isEnd) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, seg.start, eventInstance.range.end);\n            }\n            else {\n                doAllDay = true;\n            }\n        }\n        else {\n            timeText = buildSegTimeText(seg, timeFormat, context);\n        }\n        if (doAllDay) {\n            var hookProps = {\n                text: context.options.allDayText,\n                view: context.viewApi,\n            };\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, headers: timeHeaderId + \" \" + dateHeaderId, className: ['fc-list-event-time'].concat(classNames).join(' ') }, innerContent)); }));\n        }\n        return (createElement(\"td\", { className: \"fc-list-event-time\" }, timeText));\n    }\n    return null;\n}\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\n/*\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\n*/\nvar ListView = /** @class */ (function (_super) {\n    __extends(ListView, _super);\n    function ListView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.computeDateVars = memoize(computeDateVars);\n        _this.eventStoreToSegs = memoize(_this._eventStoreToSegs);\n        _this.state = {\n            timeHeaderId: getUniqueDomId(),\n            eventHeaderId: getUniqueDomId(),\n            dateHeaderIdRoot: getUniqueDomId(),\n        };\n        _this.setRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    ListView.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var extraClassNames = [\n            'fc-list',\n            context.theme.getClass('table'),\n            context.options.stickyHeaderDates !== false ? 'fc-list-sticky' : '',\n        ];\n        var _b = this.computeDateVars(props.dateProfile), dayDates = _b.dayDates, dayRanges = _b.dayRanges;\n        var eventSegs = this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.setRootEl }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: extraClassNames.concat(classNames).join(' ') },\n            createElement(Scroller, { liquid: !props.isHeightAuto, overflowX: props.isHeightAuto ? 'visible' : 'hidden', overflowY: props.isHeightAuto ? 'visible' : 'auto' }, eventSegs.length > 0 ?\n                _this.renderSegList(eventSegs, dayDates) :\n                _this.renderEmptyMessage()))); }));\n    };\n    ListView.prototype.renderEmptyMessage = function () {\n        var _a = this.context, options = _a.options, viewApi = _a.viewApi;\n        var hookProps = {\n            text: options.noEventsText,\n            view: viewApi,\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.noEventsClassNames, content: options.noEventsContent, defaultContent: renderNoEventsInner, didMount: options.noEventsDidMount, willUnmount: options.noEventsWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { className: ['fc-list-empty'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(\"div\", { className: \"fc-list-empty-cushion\", ref: innerElRef }, innerContent))); }));\n    };\n    ListView.prototype.renderSegList = function (allSegs, dayDates) {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var _b = this.state, timeHeaderId = _b.timeHeaderId, eventHeaderId = _b.eventHeaderId, dateHeaderIdRoot = _b.dateHeaderIdRoot;\n        var segsByDay = groupSegsByDay(allSegs); // sparse array\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) {\n            var innerNodes = [];\n            for (var dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n                var daySegs = segsByDay[dayIndex];\n                if (daySegs) { // sparse array, so might be undefined\n                    var dayStr = formatDayString(dayDates[dayIndex]);\n                    var dateHeaderId = dateHeaderIdRoot + '-' + dayStr;\n                    // append a day header\n                    innerNodes.push(createElement(ListViewHeaderRow, { key: dayStr, cellId: dateHeaderId, dayDate: dayDates[dayIndex], todayRange: todayRange }));\n                    daySegs = sortEventSegs(daySegs, options.eventOrder);\n                    for (var _i = 0, daySegs_1 = daySegs; _i < daySegs_1.length; _i++) {\n                        var seg = daySegs_1[_i];\n                        innerNodes.push(createElement(ListViewEventRow, __assign({ key: dayStr + ':' + seg.eventRange.instance.instanceId /* are multiple segs for an instanceId */, seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, timeHeaderId: timeHeaderId, eventHeaderId: eventHeaderId, dateHeaderId: dateHeaderId }, getSegMeta(seg, todayRange, nowDate))));\n                    }\n                }\n            }\n            return (createElement(\"table\", { className: 'fc-list-table ' + theme.getClass('table') },\n                createElement(\"thead\", null,\n                    createElement(\"tr\", null,\n                        createElement(\"th\", { scope: \"col\", id: timeHeaderId }, options.timeHint),\n                        createElement(\"th\", { scope: \"col\", \"aria-hidden\": true }),\n                        createElement(\"th\", { scope: \"col\", id: eventHeaderId }, options.eventHint))),\n                createElement(\"tbody\", null, innerNodes)));\n        }));\n    };\n    ListView.prototype._eventStoreToSegs = function (eventStore, eventUiBases, dayRanges) {\n        return this.eventRangesToSegs(sliceEventStore(eventStore, eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg, dayRanges);\n    };\n    ListView.prototype.eventRangesToSegs = function (eventRanges, dayRanges) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.eventRangeToSegs(eventRange, dayRanges));\n        }\n        return segs;\n    };\n    ListView.prototype.eventRangeToSegs = function (eventRange, dayRanges) {\n        var dateEnv = this.context.dateEnv;\n        var nextDayThreshold = this.context.options.nextDayThreshold;\n        var range = eventRange.range;\n        var allDay = eventRange.def.allDay;\n        var dayIndex;\n        var segRange;\n        var seg;\n        var segs = [];\n        for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex += 1) {\n            segRange = intersectRanges(range, dayRanges[dayIndex]);\n            if (segRange) {\n                seg = {\n                    component: this,\n                    eventRange: eventRange,\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n                    dayIndex: dayIndex,\n                };\n                segs.push(seg);\n                // detect when range won't go fully into the next day,\n                // and mutate the latest seg to the be the end.\n                if (!seg.isEnd && !allDay &&\n                    dayIndex + 1 < dayRanges.length &&\n                    range.end <\n                        dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold)) {\n                    seg.end = range.end;\n                    seg.isEnd = true;\n                    break;\n                }\n            }\n        }\n        return segs;\n    };\n    return ListView;\n}(DateComponent));\nfunction renderNoEventsInner(hookProps) {\n    return hookProps.text;\n}\nfunction computeDateVars(dateProfile) {\n    var dayStart = startOfDay(dateProfile.renderRange.start);\n    var viewEnd = dateProfile.renderRange.end;\n    var dayDates = [];\n    var dayRanges = [];\n    while (dayStart < viewEnd) {\n        dayDates.push(dayStart);\n        dayRanges.push({\n            start: dayStart,\n            end: addDays(dayStart, 1),\n        });\n        dayStart = addDays(dayStart, 1);\n    }\n    return { dayDates: dayDates, dayRanges: dayRanges };\n}\n// Returns a sparse array of arrays, segs grouped by their dayIndex\nfunction groupSegsByDay(segs) {\n    var segsByDay = []; // sparse array\n    var i;\n    var seg;\n    for (i = 0; i < segs.length; i += 1) {\n        seg = segs[i];\n        (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\n            .push(seg);\n    }\n    return segsByDay;\n}\n\nvar OPTION_REFINERS = {\n    listDayFormat: createFalsableFormatter,\n    listDaySideFormat: createFalsableFormatter,\n    noEventsClassNames: identity,\n    noEventsContent: identity,\n    noEventsDidMount: identity,\n    noEventsWillUnmount: identity,\n    // noEventsText is defined in base options\n};\nfunction createFalsableFormatter(input) {\n    return input === false ? null : createFormatter(input);\n}\n\nvar main = createPlugin({\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        list: {\n            component: ListView,\n            buttonTextKey: 'list',\n            listDayFormat: { month: 'long', day: 'numeric', year: 'numeric' }, // like \"January 1, 2016\"\n        },\n        listDay: {\n            type: 'list',\n            duration: { days: 1 },\n            listDayFormat: { weekday: 'long' }, // day-of-week is all we need. full date is probably in headerToolbar\n        },\n        listWeek: {\n            type: 'list',\n            duration: { weeks: 1 },\n            listDayFormat: { weekday: 'long' },\n            listDaySideFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n        },\n        listMonth: {\n            type: 'list',\n            duration: { month: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n        listYear: {\n            type: 'list',\n            duration: { year: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n    },\n});\n\nexport default main;\nexport { ListView };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, getElRoot, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nvar PointerDragging = /** @class */ (function () {\n    function PointerDragging(containerEl) {\n        var _this = this;\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = function (ev) {\n            if (!_this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                _this.tryStart(ev)) {\n                var pev = _this.createEventFromMouse(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                if (!_this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', _this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', _this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = function (ev) {\n            var pev = _this.createEventFromMouse(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = function (ev) {\n            document.removeEventListener('mousemove', _this.handleMouseMove);\n            document.removeEventListener('mouseup', _this.handleMouseUp);\n            _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n            _this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = function (ev) {\n            if (_this.tryStart(ev)) {\n                _this.isTouchDragging = true;\n                var pev = _this.createEventFromTouch(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                var targetEl = ev.target;\n                if (!_this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', _this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = function (ev) {\n            var pev = _this.createEventFromTouch(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = function (ev) {\n            if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                var targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n                _this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = function () {\n            _this.wasTouchScroll = true;\n        };\n        this.handleScroll = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                _this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: _this.isTouchDragging,\n                    subjectEl: _this.subjectEl,\n                    pageX: pageX,\n                    pageY: pageY,\n                    deltaX: pageX - _this.origPageX,\n                    deltaY: pageY - _this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    PointerDragging.prototype.destroy = function () {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    };\n    PointerDragging.prototype.tryStart = function (ev) {\n        var subjectEl = this.querySubjectEl(ev);\n        var downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    };\n    PointerDragging.prototype.cleanup = function () {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    };\n    PointerDragging.prototype.querySubjectEl = function (ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    };\n    PointerDragging.prototype.shouldIgnoreMouse = function () {\n        return ignoreMouseDepth || this.isTouchDragging;\n    };\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    PointerDragging.prototype.cancelTouchScroll = function () {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    };\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.initScrollWatch = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    };\n    PointerDragging.prototype.recordCoords = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    };\n    PointerDragging.prototype.destroyScrollWatch = function () {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    };\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n        var deltaX = 0;\n        var deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n        var touches = ev.touches;\n        var pageX;\n        var pageY;\n        var deltaX = 0;\n        var deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX: pageX,\n            pageY: pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    return PointerDragging;\n}());\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(function () {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nvar ElementMirror = /** @class */ (function () {\n    function ElementMirror() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    };\n    ElementMirror.prototype.handleMove = function (pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    };\n    // can be called before start\n    ElementMirror.prototype.setIsVisible = function (bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    };\n    // always async\n    ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n        var _this = this;\n        var done = function () {\n            _this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    };\n    ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n        var mirrorEl = this.mirrorEl;\n        var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, function () {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    };\n    ElementMirror.prototype.cleanup = function () {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    };\n    ElementMirror.prototype.updateElPosition = function () {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    };\n    ElementMirror.prototype.getMirrorEl = function () {\n        var sourceElRect = this.sourceElRect;\n        var mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    };\n    return ElementMirror;\n}());\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nvar ScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ScrollGeomCache, _super);\n    function ScrollGeomCache(scrollController, doesListening) {\n        var _this = _super.call(this) || this;\n        _this.handleScroll = function () {\n            _this.scrollTop = _this.scrollController.getScrollTop();\n            _this.scrollLeft = _this.scrollController.getScrollLeft();\n            _this.handleScrollChange();\n        };\n        _this.scrollController = scrollController;\n        _this.doesListening = doesListening;\n        _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n        _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n        _this.scrollWidth = scrollController.getScrollWidth();\n        _this.scrollHeight = scrollController.getScrollHeight();\n        _this.clientWidth = scrollController.getClientWidth();\n        _this.clientHeight = scrollController.getClientHeight();\n        _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n        if (_this.doesListening) {\n            _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n        }\n        return _this;\n    }\n    ScrollGeomCache.prototype.destroy = function () {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    };\n    ScrollGeomCache.prototype.getScrollTop = function () {\n        return this.scrollTop;\n    };\n    ScrollGeomCache.prototype.getScrollLeft = function () {\n        return this.scrollLeft;\n    };\n    ScrollGeomCache.prototype.setScrollTop = function (top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.setScrollLeft = function (top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.getClientWidth = function () {\n        return this.clientWidth;\n    };\n    ScrollGeomCache.prototype.getClientHeight = function () {\n        return this.clientHeight;\n    };\n    ScrollGeomCache.prototype.getScrollWidth = function () {\n        return this.scrollWidth;\n    };\n    ScrollGeomCache.prototype.getScrollHeight = function () {\n        return this.scrollHeight;\n    };\n    ScrollGeomCache.prototype.handleScrollChange = function () {\n    };\n    return ScrollGeomCache;\n}(ScrollController));\n\nvar ElementScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ElementScrollGeomCache, _super);\n    function ElementScrollGeomCache(el, doesListening) {\n        return _super.call(this, new ElementScrollController(el), doesListening) || this;\n    }\n    ElementScrollGeomCache.prototype.getEventTarget = function () {\n        return this.scrollController.el;\n    };\n    ElementScrollGeomCache.prototype.computeClientRect = function () {\n        return computeInnerRect(this.scrollController.el);\n    };\n    return ElementScrollGeomCache;\n}(ScrollGeomCache));\n\nvar WindowScrollGeomCache = /** @class */ (function (_super) {\n    __extends(WindowScrollGeomCache, _super);\n    function WindowScrollGeomCache(doesListening) {\n        return _super.call(this, new WindowScrollController(), doesListening) || this;\n    }\n    WindowScrollGeomCache.prototype.getEventTarget = function () {\n        return window;\n    };\n    WindowScrollGeomCache.prototype.computeClientRect = function () {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    };\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    WindowScrollGeomCache.prototype.handleScrollChange = function () {\n        this.clientRect = this.computeClientRect();\n    };\n    return WindowScrollGeomCache;\n}(ScrollGeomCache));\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nvar AutoScroller = /** @class */ (function () {\n    function AutoScroller() {\n        var _this = this;\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = function () {\n            if (_this.isAnimating) { // wasn't cancelled between animation calls\n                var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    var now = getTime();\n                    _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                    _this.requestAnimation(now);\n                }\n                else {\n                    _this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    AutoScroller.prototype.start = function (pageX, pageY, scrollStartEl) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches(scrollStartEl);\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    };\n    AutoScroller.prototype.handleMove = function (pageX, pageY) {\n        if (this.isEnabled) {\n            var pointerScreenX = pageX - window.pageXOffset;\n            var pointerScreenY = pageY - window.pageYOffset;\n            var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    };\n    AutoScroller.prototype.stop = function () {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    };\n    AutoScroller.prototype.requestAnimation = function (now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    };\n    AutoScroller.prototype.handleSide = function (edge, seconds) {\n        var scrollCache = edge.scrollCache;\n        var edgeThreshold = this.edgeThreshold;\n        var invDistance = edgeThreshold - edge.distance;\n        var velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        var sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    };\n    // left/top are relative to document topleft\n    AutoScroller.prototype.computeBestEdge = function (left, top) {\n        var edgeThreshold = this.edgeThreshold;\n        var bestSide = null;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            var rect = scrollCache.clientRect;\n            var leftDist = left - rect.left;\n            var rightDist = rect.right - left;\n            var topDist = top - rect.top;\n            var bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    };\n    AutoScroller.prototype.buildCaches = function (scrollStartEl) {\n        return this.queryScrollEls(scrollStartEl).map(function (el) {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    };\n    AutoScroller.prototype.queryScrollEls = function (scrollStartEl) {\n        var els = [];\n        for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n            var query = _a[_i];\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push.apply(els, Array.prototype.slice.call(getElRoot(scrollStartEl).querySelectorAll(query)));\n            }\n        }\n        return els;\n    };\n    return AutoScroller;\n}());\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nvar FeaturefulElementDragging = /** @class */ (function (_super) {\n    __extends(FeaturefulElementDragging, _super);\n    function FeaturefulElementDragging(containerEl, selector) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.containerEl = containerEl;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        _this.delay = null;\n        _this.minDistance = 0;\n        _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        _this.mirrorNeedsRevert = false;\n        _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        _this.delayTimeoutId = null;\n        _this.onPointerDown = function (ev) {\n            if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                _this.isInteracting = true;\n                _this.isDelayEnded = false;\n                _this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                _this.emitter.trigger('pointerdown', ev);\n                if (_this.isInteracting && // not destroyed via pointerdown handler\n                    !_this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    _this.startDelay(ev);\n                    if (!_this.minDistance) {\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        _this.onPointerMove = function (ev) {\n            if (_this.isInteracting) {\n                _this.emitter.trigger('pointermove', ev);\n                if (!_this.isDistanceSurpassed) {\n                    var minDistance = _this.minDistance;\n                    var distanceSq = void 0; // current distance from the origin, squared\n                    var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (_this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        _this.mirror.handleMove(ev.pageX, ev.pageY);\n                        _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        _this.onPointerUp = function (ev) {\n            if (_this.isInteracting) {\n                _this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (_this.isDragging) {\n                    _this.autoScroller.stop();\n                    _this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (_this.delayTimeoutId) {\n                    clearTimeout(_this.delayTimeoutId);\n                    _this.delayTimeoutId = null;\n                }\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.onPointerDown);\n        pointer.emitter.on('pointermove', _this.onPointerMove);\n        pointer.emitter.on('pointerup', _this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        _this.mirror = new ElementMirror();\n        _this.autoScroller = new AutoScroller();\n        return _this;\n    }\n    FeaturefulElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    };\n    FeaturefulElementDragging.prototype.startDelay = function (ev) {\n        var _this = this;\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(function () {\n                _this.delayTimeoutId = null;\n                _this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    };\n    FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    };\n    FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    };\n    FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    };\n    // fill in the implementations...\n    FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    };\n    FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        this.mirror.setIsVisible(bool);\n    };\n    FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        this.mirrorNeedsRevert = bool;\n    };\n    FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        this.autoScroller.isEnabled = bool;\n    };\n    return FeaturefulElementDragging;\n}(ElementDragging));\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nvar OffsetTracker = /** @class */ (function () {\n    function OffsetTracker(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl, true); });\n    }\n    OffsetTracker.prototype.destroy = function () {\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            scrollCache.destroy();\n        }\n    };\n    OffsetTracker.prototype.computeLeft = function () {\n        var left = this.origRect.left;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    };\n    OffsetTracker.prototype.computeTop = function () {\n        var top = this.origRect.top;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    };\n    OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n        var point = { left: pageX, top: pageY };\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OffsetTracker;\n}());\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    var tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nvar HitDragging = /** @class */ (function () {\n    function HitDragging(dragging, droppableStore) {\n        var _this = this;\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            _this.initialHit = null;\n            _this.movingHit = null;\n            _this.finalHit = null;\n            _this.prepareHits();\n            _this.processFirstCoord(ev);\n            if (_this.initialHit || !_this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                _this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = function (ev) {\n            _this.emitter.trigger('dragstart', ev);\n            _this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = function (ev) {\n            _this.emitter.trigger('dragmove', ev);\n            _this.handleMove(ev);\n        };\n        this.handlePointerUp = function (ev) {\n            _this.releaseHits();\n            _this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = function (ev) {\n            if (_this.movingHit) {\n                _this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            _this.finalHit = _this.movingHit;\n            _this.movingHit = null;\n            _this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    HitDragging.prototype.processFirstCoord = function (ev) {\n        var origPoint = { left: ev.pageX, top: ev.pageY };\n        var adjustedPoint = origPoint;\n        var subjectEl = ev.subjectEl;\n        var subjectRect;\n        if (subjectEl instanceof HTMLElement) { // i.e. not a Document/ShadowRoot\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    };\n    HitDragging.prototype.handleMove = function (ev, forceHandle) {\n        var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    };\n    HitDragging.prototype.prepareHits = function () {\n        this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    };\n    HitDragging.prototype.releaseHits = function () {\n        var offsetTrackers = this.offsetTrackers;\n        for (var id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    };\n    HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n        var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n        var bestHit = null;\n        for (var id in droppableStore) {\n            var component = droppableStore[id].component;\n            var offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                var originLeft = offsetTracker.computeLeft();\n                var originTop = offsetTracker.computeTop();\n                var positionLeft = offsetLeft - originLeft;\n                var positionTop = offsetTop - originTop;\n                var origRect = offsetTracker.origRect;\n                var width = origRect.right - origRect.left;\n                var height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    var hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    };\n    return HitDragging;\n}());\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nvar DateClicking = /** @class */ (function (_super) {\n    __extends(DateClicking, _super);\n    function DateClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handlePointerDown = function (pev) {\n            var dragging = _this.dragging;\n            var downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        _this.handleDragEnd = function (ev) {\n            var component = _this.component;\n            var pointer = _this.dragging.pointer;\n            if (!pointer.wasTouchScroll) {\n                var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    var context = component.context;\n                    var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        _this.dragging = new FeaturefulElementDragging(settings.el);\n        _this.dragging.autoScroller.isEnabled = false;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    DateClicking.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateClicking;\n}(Interaction));\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nvar DateSelecting = /** @class */ (function (_super) {\n    __extends(DateSelecting, _super);\n    function DateSelecting(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.dragSelection = null;\n        _this.handlePointerDown = function (ev) {\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var options = component.context.options;\n            var canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        _this.handleDragStart = function (ev) {\n            _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            var context = _this.component.context;\n            var dragSelection = null;\n            var isInvalid = false;\n            if (hit) {\n                var initialHit = _this.hitDragging.initialHit;\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        _this.handlePointerUp = function (pev) {\n            if (_this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                _this.dragSelection = null;\n            }\n        };\n        var component = settings.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    DateSelecting.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateSelecting;\n}(Interaction));\nfunction getComponentTouchDelay$1(component) {\n    var options = component.context.options;\n    var delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    var props = {};\n    for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n        var transformer = dateSelectionTransformers_1[_i];\n        var res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nvar EventDragging = /** @class */ (function (_super) {\n    __extends(EventDragging, _super);\n    function EventDragging(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.subjectEl = null;\n        _this.subjectSeg = null; // the seg being selected/dragged\n        _this.isDragging = false;\n        _this.eventRange = null;\n        _this.relevantEvents = null; // the events being dragged\n        _this.receivingContext = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var origTarget = ev.origEvent.target;\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var mirror = dragging.mirror;\n            var options = component.context.options;\n            var initialContext = component.context;\n            _this.subjectEl = ev.subjectEl;\n            var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n            var eventRange = _this.eventRange = subjectSeg.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            var isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            _this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        _this.handleDragStart = function (ev) {\n            var initialContext = _this.component.context;\n            var eventRange = _this.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== _this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (_this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: _this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            if (!_this.isDragging) {\n                return;\n            }\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var initialContext = _this.component.context;\n            // states based on new hit\n            var receivingContext = null;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                var receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                _this.dragging.setMirrorIsVisible(!hit || !getElRoot(_this.subjectEl).querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                _this.receivingContext = receivingContext;\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handlePointerUp = function () {\n            if (!_this.isDragging) {\n                _this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            if (_this.isDragging) {\n                var initialContext_1 = _this.component.context;\n                var initialView = initialContext_1.viewApi;\n                var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                var relevantEvents_1 = _this.relevantEvents;\n                var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                var finalHit = _this.hitDragging.finalHit;\n                _this.clearDrag(); // must happen after revert animation\n                initialContext_1.emitter.trigger('eventDragStop', {\n                    el: _this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext_1 === initialContext_1) {\n                        var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                        initialContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1, // the pre-change data\n                                });\n                            },\n                        };\n                        var transformed = {};\n                        for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                            var transformer = _b[_i];\n                            __assign(transformed, transformer(validMutation, initialContext_1));\n                        }\n                        initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext_1) {\n                        var eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext_1.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents_1,\n                        });\n                        initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                        var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                        var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                        var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                        receivingContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                            revert: function () {\n                                receivingContext_1.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents_1,\n                                });\n                            },\n                        };\n                        receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext_1.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext_1.emitter.trigger('_noEventDrop');\n                }\n            }\n            _this.cleanup();\n        };\n        var component = _this.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventDragging.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    // render a drag state on the next receivingCalendar\n    EventDragging.prototype.displayDrag = function (nextContext, state) {\n        var initialContext = this.component.context;\n        var prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    EventDragging.prototype.clearDrag = function () {\n        var initialCalendar = this.component.context;\n        var receivingContext = this.receivingContext;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    EventDragging.prototype.cleanup = function () {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    };\n    // TODO: test this in IE11\n    // QUESTION: why do we need it on the resizable???\n    EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n    return EventDragging;\n}(Interaction));\nfunction computeEventMutation(hit0, hit1, massagers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var date0 = dateSpan0.range.start;\n    var date1 = dateSpan1.range.start;\n    var standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    var delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    var mutation = {\n        datesDelta: delta,\n        standardProps: standardProps,\n    };\n    for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n        var massager = massagers_1[_i];\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    var options = component.context.options;\n    var delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nvar EventResizing = /** @class */ (function (_super) {\n    __extends(EventResizing, _super);\n    function EventResizing(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.draggingSegEl = null;\n        _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        _this.eventRange = null;\n        _this.relevantEvents = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var component = _this.component;\n            var segEl = _this.querySegEl(ev);\n            var seg = getElSeg(segEl);\n            var eventRange = _this.eventRange = seg.eventRange;\n            _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        _this.handleDragStart = function (ev) {\n            var context = _this.component.context;\n            var eventRange = _this.eventRange;\n            _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n            var segEl = _this.querySegEl(ev);\n            _this.draggingSegEl = segEl;\n            _this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        _this.handleHitUpdate = function (hit, isFinal, ev) {\n            var context = _this.component.context;\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var eventInstance = _this.eventRange.instance;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            var context = _this.component.context;\n            var eventDef = _this.eventRange.def;\n            var eventInstance = _this.eventRange.instance;\n            var eventApi = new EventApi(context, eventDef, eventInstance);\n            var relevantEvents = _this.relevantEvents;\n            var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: _this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (_this.validMutation) {\n                var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                var eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert: function () {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            _this.draggingSeg = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        var component = settings.component;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventResizing.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    EventResizing.prototype.querySegEl = function (ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    };\n    return EventResizing;\n}(Interaction));\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    var dateEnv = hit0.context.dateEnv;\n    var date0 = hit0.dateSpan.range.start;\n    var date1 = hit1.dateSpan.range.start;\n    var delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nvar UnselectAuto = /** @class */ (function () {\n    function UnselectAuto(context) {\n        var _this = this;\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = function (selectInfo) {\n            if (selectInfo.jsEvent) {\n                _this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = function (pev) {\n            var unselectCancel = _this.context.options.unselectCancel;\n            var downEl = getEventTargetViaRoot(pev.origEvent);\n            _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = function (pev) {\n            var context = _this.context;\n            var documentPointer = _this.documentPointer;\n            var calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    var unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !_this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            _this.isRecentPointerDateSelect = false;\n        };\n        var documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    UnselectAuto.prototype.destroy = function () {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    };\n    return UnselectAuto;\n}());\n\nvar OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nvar LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nvar ExternalElementDragging = /** @class */ (function () {\n    function ExternalElementDragging(dragging, suppliedDragMeta) {\n        var _this = this;\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = function (ev) {\n            _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = function (hit, isFinal, ev) {\n            var dragging = _this.hitDragging.dragging;\n            var receivingContext = null;\n            var droppableEvent = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: _this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                _this.receivingContext = receivingContext;\n                _this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = function (pev) {\n            var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n            _this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                var finalHit = _this.hitDragging.finalHit;\n                var finalView = finalHit.context.viewApi;\n                var dragMeta = _this.dragMeta;\n                receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    var addingEvents_1 = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents_1,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert: function () {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents_1,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            _this.receivingContext = null;\n            _this.droppableEvent = null;\n        };\n        var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    };\n    ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n        var prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    ExternalElementDragging.prototype.clearDrag = function () {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n        var dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    };\n    return ExternalElementDragging;\n}());\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    var defProps = __assign({}, dragMeta.leftoverProps);\n    for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n    var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    var start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    var end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    var instance = createEventInstance(def.defId, { start: start, end: end });\n    return { def: def, instance: instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    var str = getEmbeddedElData(el, 'event');\n    var obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    var prefix = config.dataAttrPrefix;\n    var prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nvar ExternalDraggable = /** @class */ (function () {\n    function ExternalDraggable(el, settings) {\n        var _this = this;\n        if (settings === void 0) { settings = {}; }\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = function (ev) {\n            if (ev.isTouch &&\n                _this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        var dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ExternalDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ExternalDraggable;\n}());\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nvar InferredElementDragging = /** @class */ (function (_super) {\n    __extends(InferredElementDragging, _super);\n    function InferredElementDragging(containerEl) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.shouldIgnoreMove = false;\n        _this.mirrorSelector = '';\n        _this.currentMirrorEl = null;\n        _this.handlePointerDown = function (ev) {\n            _this.emitter.trigger('pointerdown', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                _this.emitter.trigger('dragstart', ev);\n            }\n        };\n        _this.handlePointerMove = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                _this.emitter.trigger('dragmove', ev);\n            }\n        };\n        _this.handlePointerUp = function (ev) {\n            _this.emitter.trigger('pointerup', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                _this.emitter.trigger('dragend', ev);\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.handlePointerDown);\n        pointer.emitter.on('pointermove', _this.handlePointerMove);\n        pointer.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    InferredElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n    };\n    InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.shouldIgnoreMove = bool;\n    };\n    InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            var mirrorEl = this.mirrorSelector\n                // TODO: somehow query FullCalendars WITHIN shadow-roots\n                ? document.querySelector(this.mirrorSelector)\n                : null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    };\n    return InferredElementDragging;\n}(ElementDragging));\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nvar ThirdPartyDraggable = /** @class */ (function () {\n    function ThirdPartyDraggable(containerOrSettings, settings) {\n        var containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        var dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ThirdPartyDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ThirdPartyDraggable;\n}());\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n//# sourceMappingURL=main.js.map\n","// Full Calendar Plugins\nimport dayGridPlugin from '@fullcalendar/daygrid'\nimport timeGridPlugin from '@fullcalendar/timegrid'\nimport listPlugin from '@fullcalendar/list'\nimport interactionPlugin from '@fullcalendar/interaction'\n\n// Notification\nimport { useToast } from 'vue-toastification/composition'\nimport ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\n\n// eslint-disable-next-line object-curly-newline\nimport { ref, computed, watch, onMounted } from '@vue/composition-api'\nimport store from '@/store'\n\nexport default function userCalendar() {\n  // Use toast\n  const toast = useToast()\n  // ------------------------------------------------\n  // refCalendar\n  // ------------------------------------------------\n  const refCalendar = ref(null)\n\n  // ------------------------------------------------\n  // calendarApi\n  // ------------------------------------------------\n  let calendarApi = null\n  onMounted(() => {\n    calendarApi = refCalendar.value.getApi()\n  })\n\n  // ------------------------------------------------\n  // calendars\n  // ------------------------------------------------\n  const calendarsColor = {\n    Business: 'primary',\n    Holiday: 'success',\n    Personal: 'danger',\n    Family: 'warning',\n    ETC: 'info',\n  }\n\n  // ------------------------------------------------\n  // event\n  // ------------------------------------------------\n  const blankEvent = {\n    title: '',\n    start: '',\n    end: '',\n    allDay: false,\n    url: '',\n    extendedProps: {\n      calendar: '',\n      guests: [],\n      location: '',\n      description: '',\n    },\n  }\n  const event = ref(JSON.parse(JSON.stringify(blankEvent)))\n  const clearEventData = () => {\n    event.value = JSON.parse(JSON.stringify(blankEvent))\n  }\n\n  // *===========================================================================---*\n  // *--------- Calendar API Function/Utils --------------------------------------------*\n  // Template Future Update: We might move this utils function in its own file\n  // *===========================================================================---*\n\n  // ------------------------------------------------\n  // (UI) addEventInCalendar\n  // ? This is useless because this just add event in calendar and not in our data\n  // * If we try to call it on new event then callback & try to toggle from calendar we get two events => One from UI and one from data\n  // ------------------------------------------------\n  // const addEventInCalendar = eventData => {\n  //   toast({\n  //     component: ToastificationContent,\n  //     position: 'bottom-right',\n  //     props: {\n  //       title: 'Event Added',\n  //       icon: 'CheckIcon',\n  //       variant: 'success',\n  //     },\n  //   })\n  //   calendarApi.addEvent(eventData)\n  // }\n\n  // ------------------------------------------------\n  // (UI) updateEventInCalendar\n  // ------------------------------------------------\n  const updateEventInCalendar = (updatedEventData, propsToUpdate, extendedPropsToUpdate) => {\n    toast({\n      component: ToastificationContent,\n      props: {\n        title: 'Event Updated',\n        icon: 'CheckIcon',\n        variant: 'success',\n      },\n    })\n\n    const existingEvent = calendarApi.getEventById(updatedEventData.id)\n\n    // --- Set event properties except date related ----- //\n    // ? Docs: https://fullcalendar.io/docs/Event-setProp\n    // dateRelatedProps => ['start', 'end', 'allDay']\n    // eslint-disable-next-line no-plusplus\n    for (let index = 0; index < propsToUpdate.length; index++) {\n      const propName = propsToUpdate[index]\n      existingEvent.setProp(propName, updatedEventData[propName])\n    }\n\n    // --- Set date related props ----- //\n    // ? Docs: https://fullcalendar.io/docs/Event-setDates\n    existingEvent.setDates(updatedEventData.start, updatedEventData.end, { allDay: updatedEventData.allDay })\n\n    // --- Set event's extendedProps ----- //\n    // ? Docs: https://fullcalendar.io/docs/Event-setExtendedProp\n    // eslint-disable-next-line no-plusplus\n    for (let index = 0; index < extendedPropsToUpdate.length; index++) {\n      const propName = extendedPropsToUpdate[index]\n      existingEvent.setExtendedProp(propName, updatedEventData.extendedProps[propName])\n    }\n  }\n\n  // ------------------------------------------------\n  // (UI) removeEventInCalendar\n  // ------------------------------------------------\n  const removeEventInCalendar = eventId => {\n    toast({\n      component: ToastificationContent,\n      props: {\n        title: 'Event Removed',\n        icon: 'TrashIcon',\n        variant: 'danger',\n      },\n    })\n    calendarApi.getEventById(eventId).remove()\n  }\n\n  // ------------------------------------------------\n  // grabEventDataFromEventApi\n  // ? It will return just event data from fullCalendar's EventApi which is not required for event mutations and other tasks\n  // ! You need to update below function as per your extendedProps\n  // ------------------------------------------------\n  const grabEventDataFromEventApi = eventApi => {\n    const {\n      id,\n      title,\n      start,\n      end,\n      // eslint-disable-next-line object-curly-newline\n      extendedProps: { calendar, guests, location, description },\n      allDay,\n    } = eventApi\n\n    return {\n      id,\n      title,\n      start,\n      end,\n      extendedProps: {\n        calendar,\n        guests,\n        location,\n        description,\n      },\n      allDay,\n    }\n  }\n\n  // ------------------------------------------------\n  // addEvent\n  // ------------------------------------------------\n  const addEvent = eventData => {\n    store.dispatch('calendar/addEvent', { event: eventData }).then(() => {\n      // eslint-disable-next-line no-use-before-define\n      refetchEvents()\n    })\n  }\n\n  // ------------------------------------------------\n  // updateEvent\n  // ------------------------------------------------\n  const updateEvent = eventData => {\n    store.dispatch('calendar/updateEvent', { event: eventData }).then(response => {\n      const updatedEvent = response.data.event\n\n      const propsToUpdate = ['id', 'title', 'url']\n      const extendedPropsToUpdate = ['calendar', 'guests', 'location', 'description']\n\n      updateEventInCalendar(updatedEvent, propsToUpdate, extendedPropsToUpdate)\n    })\n  }\n\n  // ------------------------------------------------\n  // removeEvent\n  // ------------------------------------------------\n  const removeEvent = () => {\n    const eventId = event.value.id\n    store.dispatch('calendar/removeEvent', { id: eventId }).then(() => {\n      removeEventInCalendar(eventId)\n    })\n  }\n\n  // ------------------------------------------------\n  // refetchEvents\n  // ------------------------------------------------\n  const refetchEvents = () => {\n    calendarApi.refetchEvents()\n  }\n\n  // ------------------------------------------------\n  // selectedCalendars\n  // ------------------------------------------------\n  const selectedCalendars = computed(() => store.state.calendar.selectedCalendars)\n\n  watch(selectedCalendars, () => {\n    refetchEvents()\n  })\n\n  // --------------------------------------------------------------------------------------------------\n  // AXIOS: fetchEvents\n  // * This will be called by fullCalendar to fetch events. Also this can be used to refetch events.\n  // --------------------------------------------------------------------------------------------------\n  const fetchEvents = (info, successCallback) => {\n    // If there's no info => Don't make useless API call\n    if (!info) return\n\n    // Fetch Events from API endpoint\n    store\n      .dispatch('calendar/fetchEvents', {\n        calendars: selectedCalendars.value,\n      })\n      .then(response => {\n        successCallback(response.data)\n      })\n      .catch(() => {\n        toast({\n          component: ToastificationContent,\n          props: {\n            title: 'Error fetching calendar events',\n            icon: 'AlertTriangleIcon',\n            variant: 'danger',\n          },\n        })\n      })\n  }\n\n  // ------------------------------------------------------------------------\n  // calendarOptions\n  // * This isn't considered in UI because this is the core of calendar app\n  // ------------------------------------------------------------------------\n  const calendarOptions = ref({\n    plugins: [dayGridPlugin, interactionPlugin, timeGridPlugin, listPlugin],\n    initialView: 'dayGridMonth',\n    headerToolbar: {\n      start: 'sidebarToggle, prev,next, title',\n      end: 'dayGridMonth,timeGridWeek,timeGridDay,listMonth',\n    },\n    events: fetchEvents,\n\n    /*\n      Enable dragging and resizing event\n      ? Docs: https://fullcalendar.io/docs/editable\n    */\n    editable: true,\n\n    /*\n      Enable resizing event from start\n      ? Docs: https://fullcalendar.io/docs/eventResizableFromStart\n    */\n    eventResizableFromStart: true,\n\n    /*\n      Automatically scroll the scroll-containers during event drag-and-drop and date selecting\n      ? Docs: https://fullcalendar.io/docs/dragScroll\n    */\n    dragScroll: true,\n\n    /*\n      Max number of events within a given day\n      ? Docs: https://fullcalendar.io/docs/dayMaxEvents\n    */\n    dayMaxEvents: 2,\n\n    /*\n      Determines if day names and week names are clickable\n      ? Docs: https://fullcalendar.io/docs/navLinks\n    */\n    navLinks: true,\n\n    eventClassNames({ event: calendarEvent }) {\n      // eslint-disable-next-line no-underscore-dangle\n      const colorName = calendarsColor[calendarEvent._def.extendedProps.calendar]\n\n      return [\n        // Background Color\n        `bg-light-${colorName}`,\n      ]\n    },\n    eventClick({ event: clickedEvent }) {\n      // * Only grab required field otherwise it goes in infinity loop\n      // ! Always grab all fields rendered by form (even if it get `undefined`) otherwise due to Vue3/Composition API you might get: \"object is not extensible\"\n      event.value = grabEventDataFromEventApi(clickedEvent)\n\n      // eslint-disable-next-line no-use-before-define\n      isEventHandlerSidebarActive.value = true\n    },\n\n    customButtons: {\n      sidebarToggle: {\n        // --- This dummy text actual icon rendering is handled using SCSS ----- //\n        text: 'sidebar',\n        click() {\n          // eslint-disable-next-line no-use-before-define\n          isCalendarOverlaySidebarActive.value = !isCalendarOverlaySidebarActive.value\n        },\n      },\n    },\n\n    dateClick(info) {\n      /*\n        ! Vue3 Change\n        Using Vue.set isn't working for now so we will try to check reactivity in Vue 3 as it can handle this automatically\n        ```\n        event.value.start = info.date\n        ```\n      */\n      event.value = JSON.parse(JSON.stringify(Object.assign(event.value, { start: info.date })))\n      // eslint-disable-next-line no-use-before-define\n      isEventHandlerSidebarActive.value = true\n    },\n\n    /*\n      Handle event drop (Also include dragged event)\n      ? Docs: https://fullcalendar.io/docs/eventDrop\n      ? We can use `eventDragStop` but it doesn't return updated event so we have to use `eventDrop` which returns updated event\n    */\n    eventDrop({ event: droppedEvent }) {\n      updateEvent(grabEventDataFromEventApi(droppedEvent))\n    },\n\n    /*\n      Handle event resize\n      ? Docs: https://fullcalendar.io/docs/eventResize\n    */\n    eventResize({ event: resizedEvent }) {\n      updateEvent(grabEventDataFromEventApi(resizedEvent))\n    },\n\n    // Get direction from app state (store)\n    direction: computed(() => (store.state.appConfig.isRTL ? 'rtl' : 'ltr')),\n    rerenderDelay: 350,\n  })\n\n  // ------------------------------------------------------------------------\n\n  // *===============================================---*\n  // *--------- UI ---------------------------------------*\n  // *===============================================---*\n\n  const isEventHandlerSidebarActive = ref(false)\n\n  const isCalendarOverlaySidebarActive = ref(false)\n\n  return {\n    refCalendar,\n    isCalendarOverlaySidebarActive,\n    calendarOptions,\n    event,\n    clearEventData,\n    addEvent,\n    updateEvent,\n    removeEvent,\n    refetchEvents,\n    fetchEvents,\n\n    // ----- UI ----- //\n    isEventHandlerSidebarActive,\n  }\n}\n","<template>\n  <div class=\"app-calendar overflow-hidden border\">\n    <div class=\"row no-gutters\">\n      <!-- Sidebar -->\n      <div\n        class=\"col app-calendar-sidebar flex-grow-0 overflow-hidden d-flex flex-column\"\n        :class=\"{'show': isCalendarOverlaySidebarActive}\"\n      >\n        <calendar-sidebar :is-event-handler-sidebar-active.sync=\"isEventHandlerSidebarActive\" />\n      </div>\n\n      <!-- Calendar -->\n      <div class=\"col position-relative\">\n        <div class=\"card shadow-none border-0 mb-0 rounded-0\">\n          <div class=\"card-body pb-0\">\n            <full-calendar\n              ref=\"refCalendar\"\n              :options=\"calendarOptions\"\n              class=\"full-calendar\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <!-- Sidebar Overlay -->\n      <div\n        class=\"body-content-overlay\"\n        :class=\"{'show': isCalendarOverlaySidebarActive}\"\n        @click=\"isCalendarOverlaySidebarActive = false\"\n      />\n      <calendar-event-handler\n        v-model=\"isEventHandlerSidebarActive\"\n        :event=\"event\"\n        :clear-event-data=\"clearEventData\"\n        @remove-event=\"removeEvent\"\n        @add-event=\"addEvent\"\n        @update-event=\"updateEvent\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport FullCalendar from '@fullcalendar/vue'\nimport store from '@/store'\nimport { onUnmounted } from '@vue/composition-api'\nimport calendarStoreModule from './calendarStoreModule'\nimport CalendarSidebar from './calendar-sidebar/CalendarSidebar.vue'\nimport CalendarEventHandler from './calendar-event-handler/CalendarEventHandler.vue'\nimport useCalendar from './useCalendar'\n\nexport default {\n  components: {\n    FullCalendar, // make the <FullCalendar> tag available\n    CalendarSidebar,\n    CalendarEventHandler,\n  },\n  setup() {\n    const CALENDAR_APP_STORE_MODULE_NAME = 'calendar'\n\n    // Register module\n    if (!store.hasModule(CALENDAR_APP_STORE_MODULE_NAME)) store.registerModule(CALENDAR_APP_STORE_MODULE_NAME, calendarStoreModule)\n\n    // UnRegister on leave\n    onUnmounted(() => {\n      if (store.hasModule(CALENDAR_APP_STORE_MODULE_NAME)) store.unregisterModule(CALENDAR_APP_STORE_MODULE_NAME)\n    })\n\n    const {\n      refCalendar,\n      isCalendarOverlaySidebarActive,\n      event,\n      clearEventData,\n      addEvent,\n      updateEvent,\n      removeEvent,\n      fetchEvents,\n      refetchEvents,\n      calendarOptions,\n\n      // ----- UI ----- //\n      isEventHandlerSidebarActive,\n    } = useCalendar()\n\n    fetchEvents()\n\n    return {\n      refCalendar,\n      isCalendarOverlaySidebarActive,\n      event,\n      clearEventData,\n      addEvent,\n      updateEvent,\n      removeEvent,\n      refetchEvents,\n      calendarOptions,\n\n      // ----- UI ----- //\n      isEventHandlerSidebarActive,\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n@import \"@core/scss/vue/apps/calendar.scss\";\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Calendar.vue?vue&type=template&id=3c333a1e&\"\nimport script from \"./Calendar.vue?vue&type=script&lang=js&\"\nexport * from \"./Calendar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Calendar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Vue } from '../vue';\nimport { PROP_TYPE_BOOLEAN } from '../constants/props';\nimport { makeProp, makePropsConfigurable } from '../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  plain: makeProp(PROP_TYPE_BOOLEAN, false)\n}, 'formControls'); // --- Mixin ---\n// @vue/component\n\nexport var formCustomMixin = Vue.extend({\n  props: props,\n  computed: {\n    custom: function custom() {\n      return !this.plain;\n    }\n  }\n});","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToastificationContent.vue?vue&type=style&index=0&id=55dd3057&lang=scss&scoped=true&\"","var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_COLLAPSE, NAME_SIDEBAR } from '../../constants/components';\nimport { IS_BROWSER } from '../../constants/env';\nimport { EVENT_NAME_CHANGE, EVENT_NAME_HIDDEN, EVENT_NAME_SHOWN } from '../../constants/events';\nimport { CODE_ESC } from '../../constants/key-codes';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_DEFAULT, SLOT_NAME_FOOTER, SLOT_NAME_HEADER, SLOT_NAME_HEADER_CLOSE, SLOT_NAME_TITLE } from '../../constants/slots';\nimport { attemptFocus, contains, getActiveElement, getTabables } from '../../utils/dom';\nimport { getRootActionEventName, getRootEventName } from '../../utils/events';\nimport { makeModelMixin } from '../../utils/model';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { BIconX } from '../../icons/icons';\nimport { BButtonClose } from '../button/button-close';\nimport { BVTransition } from '../transition/bv-transition'; // --- Constants ---\n\nvar CLASS_NAME = 'b-sidebar';\nvar ROOT_ACTION_EVENT_NAME_REQUEST_STATE = getRootActionEventName(NAME_COLLAPSE, 'request-state');\nvar ROOT_ACTION_EVENT_NAME_TOGGLE = getRootActionEventName(NAME_COLLAPSE, 'toggle');\nvar ROOT_EVENT_NAME_STATE = getRootEventName(NAME_COLLAPSE, 'state');\nvar ROOT_EVENT_NAME_SYNC_STATE = getRootEventName(NAME_COLLAPSE, 'sync-state');\n\nvar _makeModelMixin = makeModelMixin('visible', {\n  type: PROP_TYPE_BOOLEAN,\n  defaultValue: false,\n  event: EVENT_NAME_CHANGE\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event; // --- Props ---\n\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), {}, {\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  ariaLabelledby: makeProp(PROP_TYPE_STRING),\n  // If `true`, shows a basic backdrop\n  backdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  backdropVariant: makeProp(PROP_TYPE_STRING, 'dark'),\n  bgVariant: makeProp(PROP_TYPE_STRING, 'light'),\n  bodyClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  // `aria-label` for close button\n  closeLabel: makeProp(PROP_TYPE_STRING),\n  footerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  headerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  lazy: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnEsc: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnRouteChange: makeProp(PROP_TYPE_BOOLEAN, false),\n  noEnforceFocus: makeProp(PROP_TYPE_BOOLEAN, false),\n  noHeader: makeProp(PROP_TYPE_BOOLEAN, false),\n  noHeaderClose: makeProp(PROP_TYPE_BOOLEAN, false),\n  noSlide: makeProp(PROP_TYPE_BOOLEAN, false),\n  right: makeProp(PROP_TYPE_BOOLEAN, false),\n  shadow: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  sidebarClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  tag: makeProp(PROP_TYPE_STRING, 'div'),\n  textVariant: makeProp(PROP_TYPE_STRING, 'dark'),\n  title: makeProp(PROP_TYPE_STRING),\n  width: makeProp(PROP_TYPE_STRING),\n  zIndex: makeProp(PROP_TYPE_NUMBER_STRING)\n})), NAME_SIDEBAR); // --- Render methods ---\n\nvar renderHeaderTitle = function renderHeaderTitle(h, ctx) {\n  // Render a empty `<span>` when to title was provided\n  var title = ctx.normalizeSlot(SLOT_NAME_TITLE, ctx.slotScope) || ctx.title;\n\n  if (!title) {\n    return h('span');\n  }\n\n  return h('strong', {\n    attrs: {\n      id: ctx.safeId('__title__')\n    }\n  }, [title]);\n};\n\nvar renderHeaderClose = function renderHeaderClose(h, ctx) {\n  if (ctx.noHeaderClose) {\n    return h();\n  }\n\n  var closeLabel = ctx.closeLabel,\n      textVariant = ctx.textVariant,\n      hide = ctx.hide;\n  return h(BButtonClose, {\n    props: {\n      ariaLabel: closeLabel,\n      textVariant: textVariant\n    },\n    on: {\n      click: hide\n    },\n    ref: 'close-button'\n  }, [ctx.normalizeSlot(SLOT_NAME_HEADER_CLOSE) || h(BIconX)]);\n};\n\nvar renderHeader = function renderHeader(h, ctx) {\n  if (ctx.noHeader) {\n    return h();\n  }\n\n  var $content = ctx.normalizeSlot(SLOT_NAME_HEADER, ctx.slotScope);\n\n  if (!$content) {\n    var $title = renderHeaderTitle(h, ctx);\n    var $close = renderHeaderClose(h, ctx);\n    $content = ctx.right ? [$close, $title] : [$title, $close];\n  }\n\n  return h('header', {\n    staticClass: \"\".concat(CLASS_NAME, \"-header\"),\n    class: ctx.headerClass,\n    key: 'header'\n  }, $content);\n};\n\nvar renderBody = function renderBody(h, ctx) {\n  return h('div', {\n    staticClass: \"\".concat(CLASS_NAME, \"-body\"),\n    class: ctx.bodyClass,\n    key: 'body'\n  }, [ctx.normalizeSlot(SLOT_NAME_DEFAULT, ctx.slotScope)]);\n};\n\nvar renderFooter = function renderFooter(h, ctx) {\n  var $footer = ctx.normalizeSlot(SLOT_NAME_FOOTER, ctx.slotScope);\n\n  if (!$footer) {\n    return h();\n  }\n\n  return h('footer', {\n    staticClass: \"\".concat(CLASS_NAME, \"-footer\"),\n    class: ctx.footerClass,\n    key: 'footer'\n  }, [$footer]);\n};\n\nvar renderContent = function renderContent(h, ctx) {\n  // We render the header even if `lazy` is enabled as it\n  // acts as the accessible label for the sidebar\n  var $header = renderHeader(h, ctx);\n\n  if (ctx.lazy && !ctx.isOpen) {\n    return $header;\n  }\n\n  return [$header, renderBody(h, ctx), renderFooter(h, ctx)];\n};\n\nvar renderBackdrop = function renderBackdrop(h, ctx) {\n  if (!ctx.backdrop) {\n    return h();\n  }\n\n  var backdropVariant = ctx.backdropVariant;\n  return h('div', {\n    directives: [{\n      name: 'show',\n      value: ctx.localShow\n    }],\n    staticClass: 'b-sidebar-backdrop',\n    class: _defineProperty({}, \"bg-\".concat(backdropVariant), backdropVariant),\n    on: {\n      click: ctx.onBackdropClick\n    }\n  });\n}; // --- Main component ---\n// @vue/component\n\n\nexport var BSidebar = /*#__PURE__*/Vue.extend({\n  name: NAME_SIDEBAR,\n  mixins: [attrsMixin, idMixin, modelMixin, listenOnRootMixin, normalizeSlotMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    var visible = !!this[MODEL_PROP_NAME];\n    return {\n      // Internal `v-model` state\n      localShow: visible,\n      // For lazy render triggering\n      isOpen: visible\n    };\n  },\n  computed: {\n    transitionProps: function transitionProps() {\n      return this.noSlide ?\n      /* istanbul ignore next */\n      {\n        css: true\n      } : {\n        css: true,\n        enterClass: '',\n        enterActiveClass: 'slide',\n        enterToClass: 'show',\n        leaveClass: 'show',\n        leaveActiveClass: 'slide',\n        leaveToClass: ''\n      };\n    },\n    slotScope: function slotScope() {\n      var hide = this.hide,\n          right = this.right,\n          visible = this.localShow;\n      return {\n        hide: hide,\n        right: right,\n        visible: visible\n      };\n    },\n    hasTitle: function hasTitle() {\n      var $scopedSlots = this.$scopedSlots,\n          $slots = this.$slots;\n      return !this.noHeader && !this.hasNormalizedSlot(SLOT_NAME_HEADER) && !!(this.normalizeSlot(SLOT_NAME_TITLE, this.slotScope, $scopedSlots, $slots) || this.title);\n    },\n    titleId: function titleId() {\n      return this.hasTitle ? this.safeId('__title__') : null;\n    },\n    computedAttrs: function computedAttrs() {\n      return _objectSpread(_objectSpread({}, this.bvAttrs), {}, {\n        id: this.safeId(),\n        tabindex: '-1',\n        role: 'dialog',\n        'aria-modal': this.backdrop ? 'true' : 'false',\n        'aria-hidden': this.localShow ? null : 'true',\n        'aria-label': this.ariaLabel || null,\n        'aria-labelledby': this.ariaLabelledby || this.titleId || null\n      });\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.localShow = newValue;\n    }\n  }), _defineProperty(_watch, \"localShow\", function localShow(newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.emitState(newValue);\n      this.$emit(MODEL_EVENT_NAME, newValue);\n    }\n  }), _defineProperty(_watch, \"$route\", function $route() {\n    var newValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var oldValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (!this.noCloseOnRouteChange && newValue.fullPath !== oldValue.fullPath) {\n      this.hide();\n    }\n  }), _watch),\n  created: function created() {\n    // Define non-reactive properties\n    this.$_returnFocusEl = null;\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    // Add `$root` listeners\n    this.listenOnRoot(ROOT_ACTION_EVENT_NAME_TOGGLE, this.handleToggle);\n    this.listenOnRoot(ROOT_ACTION_EVENT_NAME_REQUEST_STATE, this.handleSync); // Send out a gratuitous state event to ensure toggle button is synced\n\n    this.$nextTick(function () {\n      _this.emitState(_this.localShow);\n    });\n  },\n\n  /* istanbul ignore next */\n  activated: function activated() {\n    this.emitSync();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.localShow = false;\n    this.$_returnFocusEl = null;\n  },\n  methods: {\n    hide: function hide() {\n      this.localShow = false;\n    },\n    emitState: function emitState() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.localShow;\n      this.emitOnRoot(ROOT_EVENT_NAME_STATE, this.safeId(), state);\n    },\n    emitSync: function emitSync() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.localShow;\n      this.emitOnRoot(ROOT_EVENT_NAME_SYNC_STATE, this.safeId(), state);\n    },\n    handleToggle: function handleToggle(id) {\n      // Note `safeId()` can be null until after mount\n      if (id && id === this.safeId()) {\n        this.localShow = !this.localShow;\n      }\n    },\n    handleSync: function handleSync(id) {\n      var _this2 = this;\n\n      // Note `safeId()` can be null until after mount\n      if (id && id === this.safeId()) {\n        this.$nextTick(function () {\n          _this2.emitSync(_this2.localShow);\n        });\n      }\n    },\n    onKeydown: function onKeydown(event) {\n      var keyCode = event.keyCode;\n\n      if (!this.noCloseOnEsc && keyCode === CODE_ESC && this.localShow) {\n        this.hide();\n      }\n    },\n    onBackdropClick: function onBackdropClick() {\n      if (this.localShow && !this.noCloseOnBackdrop) {\n        this.hide();\n      }\n    },\n\n    /* istanbul ignore next */\n    onTopTrapFocus: function onTopTrapFocus() {\n      var tabables = getTabables(this.$refs.content);\n      this.enforceFocus(tabables.reverse()[0]);\n    },\n\n    /* istanbul ignore next */\n    onBottomTrapFocus: function onBottomTrapFocus() {\n      var tabables = getTabables(this.$refs.content);\n      this.enforceFocus(tabables[0]);\n    },\n    onBeforeEnter: function onBeforeEnter() {\n      // Returning focus to `document.body` may cause unwanted scrolls,\n      // so we exclude setting focus on body\n      this.$_returnFocusEl = getActiveElement(IS_BROWSER ? [document.body] : []); // Trigger lazy render\n\n      this.isOpen = true;\n    },\n    onAfterEnter: function onAfterEnter(el) {\n      if (!contains(el, getActiveElement())) {\n        this.enforceFocus(el);\n      }\n\n      this.$emit(EVENT_NAME_SHOWN);\n    },\n    onAfterLeave: function onAfterLeave() {\n      this.enforceFocus(this.$_returnFocusEl);\n      this.$_returnFocusEl = null; // Trigger lazy render\n\n      this.isOpen = false;\n      this.$emit(EVENT_NAME_HIDDEN);\n    },\n    enforceFocus: function enforceFocus(el) {\n      if (!this.noEnforceFocus) {\n        attemptFocus(el);\n      }\n    }\n  },\n  render: function render(h) {\n    var _ref;\n\n    var bgVariant = this.bgVariant,\n        width = this.width,\n        textVariant = this.textVariant,\n        localShow = this.localShow;\n    var shadow = this.shadow === '' ? true : this.shadow;\n    var $sidebar = h(this.tag, {\n      staticClass: CLASS_NAME,\n      class: [(_ref = {\n        shadow: shadow === true\n      }, _defineProperty(_ref, \"shadow-\".concat(shadow), shadow && shadow !== true), _defineProperty(_ref, \"\".concat(CLASS_NAME, \"-right\"), this.right), _defineProperty(_ref, \"bg-\".concat(bgVariant), bgVariant), _defineProperty(_ref, \"text-\".concat(textVariant), textVariant), _ref), this.sidebarClass],\n      style: {\n        width: width\n      },\n      attrs: this.computedAttrs,\n      directives: [{\n        name: 'show',\n        value: localShow\n      }],\n      ref: 'content'\n    }, [renderContent(h, this)]);\n    $sidebar = h('transition', {\n      props: this.transitionProps,\n      on: {\n        beforeEnter: this.onBeforeEnter,\n        afterEnter: this.onAfterEnter,\n        afterLeave: this.onAfterLeave\n      }\n    }, [$sidebar]);\n    var $backdrop = h(BVTransition, {\n      props: {\n        noFade: this.noSlide\n      }\n    }, [renderBackdrop(h, this)]);\n    var $tabTrapTop = h();\n    var $tabTrapBottom = h();\n\n    if (this.backdrop && localShow) {\n      $tabTrapTop = h('div', {\n        attrs: {\n          tabindex: '0'\n        },\n        on: {\n          focus: this.onTopTrapFocus\n        }\n      });\n      $tabTrapBottom = h('div', {\n        attrs: {\n          tabindex: '0'\n        },\n        on: {\n          focus: this.onBottomTrapFocus\n        }\n      });\n    }\n\n    return h('div', {\n      staticClass: 'b-sidebar-outer',\n      style: {\n        zIndex: this.zIndex\n      },\n      attrs: {\n        tabindex: '-1'\n      },\n      on: {\n        keydown: this.onKeydown\n      }\n    }, [$tabTrapTop, $sidebar, $tabTrapBottom, $backdrop]);\n  }\n});","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e(require(\"flatpickr\")):\"function\"==typeof define&&define.amd?define(\"VueFlatpickr\",[\"flatpickr\"],e):\"object\"==typeof exports?exports.VueFlatpickr=e(require(\"flatpickr\")):t.VueFlatpickr=e(t.flatpickr)}(\"undefined\"!=typeof self?self:this,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=1)}([function(e,n){e.exports=t},function(t,e,n){\"use strict\";n.r(e),n.d(e,\"Component\",(function(){return c})),n.d(e,\"Plugin\",(function(){return p}));var r=n(0),o=n.n(r),i=[\"onChange\",\"onClose\",\"onDestroy\",\"onMonthChange\",\"onOpen\",\"onYearChange\"];function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var a=function(t){return t.replace(/([a-z])([A-Z])/g,\"$1-$2\").toLowerCase()},f=function(t){return u({},t)},l=i.concat([\"onValueUpdate\",\"onDayCreate\",\"onParseConfig\",\"onReady\",\"onPreCalendarPosition\",\"onKeyDown\"]),s=[\"locale\",\"showMonths\"],c={name:\"flat-pickr\",render:function(t){return t(\"input\",{attrs:{type:\"text\",\"data-input\":!0},props:{disabled:this.disabled},on:{input:this.onInput}})},props:{value:{default:null,required:!0,validator:function(t){return null===t||t instanceof Date||\"string\"==typeof t||t instanceof String||t instanceof Array||\"number\"==typeof t}},config:{type:Object,default:function(){return{wrap:!1,defaultDate:null}}},events:{type:Array,default:function(){return i}},disabled:{type:Boolean,default:!1}},data:function(){return{fp:null}},mounted:function(){var t=this;if(!this.fp){var e=f(this.config);this.events.forEach((function(n){var r,i=o.a.defaultConfig[n]||[];e[n]=(r=e[n]||[],r instanceof Array?r:[r]).concat(i,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];t.$emit.apply(t,[a(n)].concat(r))}))})),e.defaultDate=this.value||e.defaultDate,this.fp=new o.a(this.getElem(),e),this.fpInput().addEventListener(\"blur\",this.onBlur),this.$on(\"on-close\",this.onClose),this.$watch(\"disabled\",this.watchDisabled,{immediate:!0})}},methods:{getElem:function(){return this.config.wrap?this.$el.parentNode:this.$el},onInput:function(t){var e=this,n=t.target;this.$nextTick((function(){e.$emit(\"input\",n.value)}))},fpInput:function(){return this.fp.altInput||this.fp.input},onBlur:function(t){this.$emit(\"blur\",t.target.value)},onClose:function(t,e){this.$emit(\"input\",e)},watchDisabled:function(t){t?this.fpInput().setAttribute(\"disabled\",t):this.fpInput().removeAttribute(\"disabled\")}},watch:{config:{deep:!0,handler:function(t){var e=this,n=f(t);l.forEach((function(t){delete n[t]})),this.fp.set(n),s.forEach((function(t){void 0!==n[t]&&e.fp.set(t,n[t])}))}},value:function(t){t!==this.$el.value&&this.fp&&this.fp.setDate(t,!0)}},beforeDestroy:function(){this.fp&&(this.fpInput().removeEventListener(\"blur\",this.onBlur),this.fp.destroy(),this.fp=null)}},p=function(t,e){var n=\"flat-pickr\";\"string\"==typeof e&&(n=e),t.component(n,c)};c.install=p;e.default=c}]).default}));","var _objectSpread2;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_CHECKBOX } from '../../constants/components';\nimport { EVENT_NAME_CHANGE, MODEL_EVENT_NAME_PREFIX } from '../../constants/events';\nimport { PROP_TYPE_ANY, PROP_TYPE_BOOLEAN } from '../../constants/props';\nimport { isArray } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { looseIndexOf } from '../../utils/loose-index-of';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { MODEL_EVENT_NAME, formRadioCheckMixin, props as formRadioCheckProps } from '../../mixins/form-radio-check'; // --- Constants ---\n\nvar MODEL_PROP_NAME_INDETERMINATE = 'indeterminate';\nvar MODEL_EVENT_NAME_INDETERMINATE = MODEL_EVENT_NAME_PREFIX + MODEL_PROP_NAME_INDETERMINATE; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, formRadioCheckProps), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, MODEL_PROP_NAME_INDETERMINATE, makeProp(PROP_TYPE_BOOLEAN, false)), _defineProperty(_objectSpread2, \"switch\", makeProp(PROP_TYPE_BOOLEAN, false)), _defineProperty(_objectSpread2, \"uncheckedValue\", makeProp(PROP_TYPE_ANY, false)), _defineProperty(_objectSpread2, \"value\", makeProp(PROP_TYPE_ANY, true)), _objectSpread2))), NAME_FORM_CHECKBOX); // --- Main component ---\n// @vue/component\n\nexport var BFormCheckbox = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_CHECKBOX,\n  mixins: [formRadioCheckMixin],\n  inject: {\n    bvGroup: {\n      from: 'bvCheckGroup',\n      default: null\n    }\n  },\n  props: props,\n  computed: {\n    isChecked: function isChecked() {\n      var value = this.value,\n          checked = this.computedLocalChecked;\n      return isArray(checked) ? looseIndexOf(checked, value) > -1 : looseEqual(checked, value);\n    },\n    isRadio: function isRadio() {\n      return false;\n    }\n  },\n  watch: _defineProperty({}, MODEL_PROP_NAME_INDETERMINATE, function (newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      this.setIndeterminate(newValue);\n    }\n  }),\n  mounted: function mounted() {\n    // Set initial indeterminate state\n    this.setIndeterminate(this[MODEL_PROP_NAME_INDETERMINATE]);\n  },\n  methods: {\n    computedLocalCheckedWatcher: function computedLocalCheckedWatcher(newValue, oldValue) {\n      if (!looseEqual(newValue, oldValue)) {\n        this.$emit(MODEL_EVENT_NAME, newValue);\n        var $input = this.$refs.input;\n\n        if ($input) {\n          this.$emit(MODEL_EVENT_NAME_INDETERMINATE, $input.indeterminate);\n        }\n      }\n    },\n    handleChange: function handleChange(_ref) {\n      var _this = this;\n\n      var _ref$target = _ref.target,\n          checked = _ref$target.checked,\n          indeterminate = _ref$target.indeterminate;\n      var value = this.value,\n          uncheckedValue = this.uncheckedValue; // Update `computedLocalChecked`\n\n      var localChecked = this.computedLocalChecked;\n\n      if (isArray(localChecked)) {\n        var index = looseIndexOf(localChecked, value);\n\n        if (checked && index < 0) {\n          // Add value to array\n          localChecked = localChecked.concat(value);\n        } else if (!checked && index > -1) {\n          // Remove value from array\n          localChecked = localChecked.slice(0, index).concat(localChecked.slice(index + 1));\n        }\n      } else {\n        localChecked = checked ? value : uncheckedValue;\n      }\n\n      this.computedLocalChecked = localChecked; // Fire events in a `$nextTick()` to ensure the `v-model` is updated\n\n      this.$nextTick(function () {\n        // Change is only emitted on user interaction\n        _this.$emit(EVENT_NAME_CHANGE, localChecked); // If this is a child of a group, we emit a change event on it as well\n\n\n        if (_this.isGroup) {\n          _this.bvGroup.$emit(EVENT_NAME_CHANGE, localChecked);\n        }\n\n        _this.$emit(MODEL_EVENT_NAME_INDETERMINATE, indeterminate);\n      });\n    },\n    setIndeterminate: function setIndeterminate(state) {\n      // Indeterminate only supported in single checkbox mode\n      if (isArray(this.computedLocalChecked)) {\n        state = false;\n      }\n\n      var $input = this.$refs.input;\n\n      if ($input) {\n        $input.indeterminate = state; // Emit update event to prop\n\n        this.$emit(MODEL_EVENT_NAME_INDETERMINATE, state);\n      }\n    }\n  }\n});","import { looseEqual } from './loose-equal'; // Assumes that the first argument is an array\n\nexport var looseIndexOf = function looseIndexOf(array, value) {\n  for (var i = 0; i < array.length; i++) {\n    if (looseEqual(array[i], value)) {\n      return i;\n    }\n  }\n\n  return -1;\n};","var _watch, _methods;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../vue';\nimport { PROP_TYPE_ANY, PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../constants/props';\nimport { EVENT_NAME_CHANGE } from '../constants/events';\nimport { attemptBlur, attemptFocus } from '../utils/dom';\nimport { isBoolean } from '../utils/inspect';\nimport { looseEqual } from '../utils/loose-equal';\nimport { makeModelMixin } from '../utils/model';\nimport { sortKeys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { attrsMixin } from './attrs';\nimport { formControlMixin, props as formControlProps } from './form-control';\nimport { formCustomMixin, props as formCustomProps } from './form-custom';\nimport { formSizeMixin, props as formSizeProps } from './form-size';\nimport { formStateMixin, props as formStateProps } from './form-state';\nimport { idMixin, props as idProps } from './id';\nimport { normalizeSlotMixin } from './normalize-slot'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('checked', {\n  defaultValue: null\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nexport { MODEL_PROP_NAME, MODEL_EVENT_NAME }; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), formControlProps), formSizeProps), formStateProps), formCustomProps), {}, {\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  ariaLabelledby: makeProp(PROP_TYPE_STRING),\n  // Only applicable in standalone mode (non group)\n  button: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Only applicable when rendered with button style\n  buttonVariant: makeProp(PROP_TYPE_STRING),\n  inline: makeProp(PROP_TYPE_BOOLEAN, false),\n  value: makeProp(PROP_TYPE_ANY)\n})), 'formRadioCheckControls'); // --- Mixin ---\n// @vue/component\n\nexport var formRadioCheckMixin = Vue.extend({\n  mixins: [attrsMixin, idMixin, modelMixin, normalizeSlotMixin, formControlMixin, formSizeMixin, formStateMixin, formCustomMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      localChecked: this.isGroup ? this.bvGroup[MODEL_PROP_NAME] : this[MODEL_PROP_NAME],\n      hasFocus: false\n    };\n  },\n  computed: {\n    computedLocalChecked: {\n      get: function get() {\n        return this.isGroup ? this.bvGroup.localChecked : this.localChecked;\n      },\n      set: function set(value) {\n        if (this.isGroup) {\n          this.bvGroup.localChecked = value;\n        } else {\n          this.localChecked = value;\n        }\n      }\n    },\n    isChecked: function isChecked() {\n      return looseEqual(this.value, this.computedLocalChecked);\n    },\n    isRadio: function isRadio() {\n      return true;\n    },\n    isGroup: function isGroup() {\n      // Is this check/radio a child of check-group or radio-group?\n      return !!this.bvGroup;\n    },\n    isBtnMode: function isBtnMode() {\n      // Support button style in single input mode\n      return this.isGroup ? this.bvGroup.buttons : this.button;\n    },\n    isPlain: function isPlain() {\n      return this.isBtnMode ? false : this.isGroup ? this.bvGroup.plain : this.plain;\n    },\n    isCustom: function isCustom() {\n      return this.isBtnMode ? false : !this.isPlain;\n    },\n    isSwitch: function isSwitch() {\n      // Custom switch styling (checkboxes only)\n      return this.isBtnMode || this.isRadio || this.isPlain ? false : this.isGroup ? this.bvGroup.switches : this.switch;\n    },\n    isInline: function isInline() {\n      return this.isGroup ? this.bvGroup.inline : this.inline;\n    },\n    isDisabled: function isDisabled() {\n      // Child can be disabled while parent isn't, but is always disabled if group is\n      return this.isGroup ? this.bvGroup.disabled || this.disabled : this.disabled;\n    },\n    isRequired: function isRequired() {\n      // Required only works when a name is provided for the input(s)\n      // Child can only be required when parent is\n      // Groups will always have a name (either user supplied or auto generated)\n      return this.computedName && (this.isGroup ? this.bvGroup.required : this.required);\n    },\n    computedName: function computedName() {\n      // Group name preferred over local name\n      return (this.isGroup ? this.bvGroup.groupName : this.name) || null;\n    },\n    computedForm: function computedForm() {\n      return (this.isGroup ? this.bvGroup.form : this.form) || null;\n    },\n    computedSize: function computedSize() {\n      return (this.isGroup ? this.bvGroup.size : this.size) || '';\n    },\n    computedState: function computedState() {\n      return this.isGroup ? this.bvGroup.computedState : isBoolean(this.state) ? this.state : null;\n    },\n    computedButtonVariant: function computedButtonVariant() {\n      // Local variant preferred over group variant\n      var buttonVariant = this.buttonVariant;\n\n      if (buttonVariant) {\n        return buttonVariant;\n      }\n\n      if (this.isGroup && this.bvGroup.buttonVariant) {\n        return this.bvGroup.buttonVariant;\n      }\n\n      return 'secondary';\n    },\n    buttonClasses: function buttonClasses() {\n      var _ref;\n\n      var computedSize = this.computedSize;\n      return ['btn', \"btn-\".concat(this.computedButtonVariant), (_ref = {}, _defineProperty(_ref, \"btn-\".concat(computedSize), computedSize), _defineProperty(_ref, \"disabled\", this.isDisabled), _defineProperty(_ref, \"active\", this.isChecked), _defineProperty(_ref, \"focus\", this.hasFocus), _ref)];\n    },\n    computedAttrs: function computedAttrs() {\n      var disabled = this.isDisabled,\n          required = this.isRequired;\n      return _objectSpread(_objectSpread({}, this.bvAttrs), {}, {\n        id: this.safeId(),\n        type: this.isRadio ? 'radio' : 'checkbox',\n        name: this.computedName,\n        form: this.computedForm,\n        disabled: disabled,\n        required: required,\n        'aria-required': required || null,\n        'aria-label': this.ariaLabel || null,\n        'aria-labelledby': this.ariaLabelledby || null\n      });\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function () {\n    this[\"\".concat(MODEL_PROP_NAME, \"Watcher\")].apply(this, arguments);\n  }), _defineProperty(_watch, \"computedLocalChecked\", function computedLocalChecked() {\n    this.computedLocalCheckedWatcher.apply(this, arguments);\n  }), _watch),\n  methods: (_methods = {}, _defineProperty(_methods, \"\".concat(MODEL_PROP_NAME, \"Watcher\"), function Watcher(newValue) {\n    if (!looseEqual(newValue, this.computedLocalChecked)) {\n      this.computedLocalChecked = newValue;\n    }\n  }), _defineProperty(_methods, \"computedLocalCheckedWatcher\", function computedLocalCheckedWatcher(newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      this.$emit(MODEL_EVENT_NAME, newValue);\n    }\n  }), _defineProperty(_methods, \"handleChange\", function handleChange(_ref2) {\n    var _this = this;\n\n    var checked = _ref2.target.checked;\n    var value = this.value;\n    var localChecked = checked ? value : null;\n    this.computedLocalChecked = value; // Fire events in a `$nextTick()` to ensure the `v-model` is updated\n\n    this.$nextTick(function () {\n      // Change is only emitted on user interaction\n      _this.$emit(EVENT_NAME_CHANGE, localChecked); // If this is a child of a group, we emit a change event on it as well\n\n\n      if (_this.isGroup) {\n        _this.bvGroup.$emit(EVENT_NAME_CHANGE, localChecked);\n      }\n    });\n  }), _defineProperty(_methods, \"handleFocus\", function handleFocus(event) {\n    // When in buttons mode, we need to add 'focus' class to label when input focused\n    // As it is the hidden input which has actual focus\n    if (event.target) {\n      if (event.type === 'focus') {\n        this.hasFocus = true;\n      } else if (event.type === 'blur') {\n        this.hasFocus = false;\n      }\n    }\n  }), _defineProperty(_methods, \"focus\", function focus() {\n    if (!this.isDisabled) {\n      attemptFocus(this.$refs.input);\n    }\n  }), _defineProperty(_methods, \"blur\", function blur() {\n    if (!this.isDisabled) {\n      attemptBlur(this.$refs.input);\n    }\n  }), _methods),\n  render: function render(h) {\n    var isRadio = this.isRadio,\n        isBtnMode = this.isBtnMode,\n        isPlain = this.isPlain,\n        isCustom = this.isCustom,\n        isInline = this.isInline,\n        isSwitch = this.isSwitch,\n        computedSize = this.computedSize,\n        bvAttrs = this.bvAttrs;\n    var $content = this.normalizeSlot();\n    var $input = h('input', {\n      class: [{\n        'form-check-input': isPlain,\n        'custom-control-input': isCustom,\n        // https://github.com/bootstrap-vue/bootstrap-vue/issues/2911\n        'position-static': isPlain && !$content\n      }, isBtnMode ? '' : this.stateClass],\n      directives: [{\n        name: 'model',\n        value: this.computedLocalChecked\n      }],\n      attrs: this.computedAttrs,\n      domProps: {\n        value: this.value,\n        checked: this.isChecked\n      },\n      on: _objectSpread({\n        change: this.handleChange\n      }, isBtnMode ? {\n        focus: this.handleFocus,\n        blur: this.handleFocus\n      } : {}),\n      key: 'input',\n      ref: 'input'\n    });\n\n    if (isBtnMode) {\n      var $button = h('label', {\n        class: this.buttonClasses\n      }, [$input, $content]);\n\n      if (!this.isGroup) {\n        // Standalone button mode, so wrap in 'btn-group-toggle'\n        // and flag it as inline-block to mimic regular buttons\n        $button = h('div', {\n          class: ['btn-group-toggle', 'd-inline-block']\n        }, [$button]);\n      }\n\n      return $button;\n    } // If no label content in plain mode we dont render the label\n    // See: https://github.com/bootstrap-vue/bootstrap-vue/issues/2911\n\n\n    var $label = h();\n\n    if (!(isPlain && !$content)) {\n      $label = h('label', {\n        class: {\n          'form-check-label': isPlain,\n          'custom-control-label': isCustom\n        },\n        attrs: {\n          for: this.safeId()\n        }\n      }, $content);\n    }\n\n    return h('div', {\n      class: [_defineProperty({\n        'form-check': isPlain,\n        'form-check-inline': isPlain && isInline,\n        'custom-control': isCustom,\n        'custom-control-inline': isCustom && isInline,\n        'custom-checkbox': isCustom && !isRadio && !isSwitch,\n        'custom-switch': isSwitch,\n        'custom-radio': isCustom && isRadio\n      }, \"b-custom-control-\".concat(computedSize), computedSize && !isBtnMode), bvAttrs.class],\n      style: bvAttrs.style\n    }, [$input, $label]);\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_AVATAR } from '../../constants/components';\nimport { EVENT_NAME_CLICK, EVENT_NAME_IMG_ERROR } from '../../constants/events';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_BADGE } from '../../constants/slots';\nimport { isNumber, isNumeric, isString } from '../../utils/inspect';\nimport { toFloat } from '../../utils/number';\nimport { omit, sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable, pluckProps } from '../../utils/props';\nimport { isLink } from '../../utils/router';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { BIcon } from '../../icons/icon';\nimport { BIconPersonFill } from '../../icons/icons';\nimport { BButton } from '../button/button';\nimport { BLink, props as BLinkProps } from '../link/link'; // --- Constants ---\n\nvar CLASS_NAME = 'b-avatar';\nvar SIZES = ['sm', null, 'lg'];\nvar FONT_SIZE_SCALE = 0.4;\nvar BADGE_FONT_SIZE_SCALE = FONT_SIZE_SCALE * 0.7; // --- Helper methods ---\n\nexport var computeSize = function computeSize(value) {\n  // Parse to number when value is a float-like string\n  value = isString(value) && isNumeric(value) ? toFloat(value, 0) : value; // Convert all numbers to pixel values\n\n  return isNumber(value) ? \"\".concat(value, \"px\") : value || null;\n}; // --- Props ---\n\nvar linkProps = omit(BLinkProps, ['active', 'event', 'routerTag']);\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, linkProps), {}, {\n  alt: makeProp(PROP_TYPE_STRING, 'avatar'),\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  badge: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  badgeLeft: makeProp(PROP_TYPE_BOOLEAN, false),\n  badgeOffset: makeProp(PROP_TYPE_STRING),\n  badgeTop: makeProp(PROP_TYPE_BOOLEAN, false),\n  badgeVariant: makeProp(PROP_TYPE_STRING, 'primary'),\n  button: makeProp(PROP_TYPE_BOOLEAN, false),\n  buttonType: makeProp(PROP_TYPE_STRING, 'button'),\n  icon: makeProp(PROP_TYPE_STRING),\n  rounded: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  size: makeProp(PROP_TYPE_NUMBER_STRING),\n  square: makeProp(PROP_TYPE_BOOLEAN, false),\n  src: makeProp(PROP_TYPE_STRING),\n  text: makeProp(PROP_TYPE_STRING),\n  variant: makeProp(PROP_TYPE_STRING, 'secondary')\n})), NAME_AVATAR); // --- Main component ---\n// @vue/component\n\nexport var BAvatar = /*#__PURE__*/Vue.extend({\n  name: NAME_AVATAR,\n  mixins: [normalizeSlotMixin],\n  inject: {\n    bvAvatarGroup: {\n      default: null\n    }\n  },\n  props: props,\n  data: function data() {\n    return {\n      localSrc: this.src || null\n    };\n  },\n  computed: {\n    computedSize: function computedSize() {\n      // Always use the avatar group size\n      var bvAvatarGroup = this.bvAvatarGroup;\n      return computeSize(bvAvatarGroup ? bvAvatarGroup.size : this.size);\n    },\n    computedVariant: function computedVariant() {\n      var bvAvatarGroup = this.bvAvatarGroup;\n      return bvAvatarGroup && bvAvatarGroup.variant ? bvAvatarGroup.variant : this.variant;\n    },\n    computedRounded: function computedRounded() {\n      var bvAvatarGroup = this.bvAvatarGroup;\n      var square = bvAvatarGroup && bvAvatarGroup.square ? true : this.square;\n      var rounded = bvAvatarGroup && bvAvatarGroup.rounded ? bvAvatarGroup.rounded : this.rounded;\n      return square ? '0' : rounded === '' ? true : rounded || 'circle';\n    },\n    fontStyle: function fontStyle() {\n      var size = this.computedSize;\n      var fontSize = SIZES.indexOf(size) === -1 ? \"calc(\".concat(size, \" * \").concat(FONT_SIZE_SCALE, \")\") : null;\n      return fontSize ? {\n        fontSize: fontSize\n      } : {};\n    },\n    marginStyle: function marginStyle() {\n      var size = this.computedSize,\n          bvAvatarGroup = this.bvAvatarGroup;\n      var overlapScale = bvAvatarGroup ? bvAvatarGroup.overlapScale : 0;\n      var value = size && overlapScale ? \"calc(\".concat(size, \" * -\").concat(overlapScale, \")\") : null;\n      return value ? {\n        marginLeft: value,\n        marginRight: value\n      } : {};\n    },\n    badgeStyle: function badgeStyle() {\n      var size = this.computedSize,\n          badgeTop = this.badgeTop,\n          badgeLeft = this.badgeLeft,\n          badgeOffset = this.badgeOffset;\n      var offset = badgeOffset || '0px';\n      return {\n        fontSize: SIZES.indexOf(size) === -1 ? \"calc(\".concat(size, \" * \").concat(BADGE_FONT_SIZE_SCALE, \" )\") : null,\n        top: badgeTop ? offset : null,\n        bottom: badgeTop ? null : offset,\n        left: badgeLeft ? offset : null,\n        right: badgeLeft ? null : offset\n      };\n    }\n  },\n  watch: {\n    src: function src(newValue, oldValue) {\n      if (newValue !== oldValue) {\n        this.localSrc = newValue || null;\n      }\n    }\n  },\n  methods: {\n    onImgError: function onImgError(event) {\n      this.localSrc = null;\n      this.$emit(EVENT_NAME_IMG_ERROR, event);\n    },\n    onClick: function onClick(event) {\n      this.$emit(EVENT_NAME_CLICK, event);\n    }\n  },\n  render: function render(h) {\n    var _class2;\n\n    var variant = this.computedVariant,\n        disabled = this.disabled,\n        rounded = this.computedRounded,\n        icon = this.icon,\n        src = this.localSrc,\n        text = this.text,\n        fontStyle = this.fontStyle,\n        marginStyle = this.marginStyle,\n        size = this.computedSize,\n        button = this.button,\n        type = this.buttonType,\n        badge = this.badge,\n        badgeVariant = this.badgeVariant,\n        badgeStyle = this.badgeStyle;\n    var link = !button && isLink(this);\n    var tag = button ? BButton : link ? BLink : 'span';\n    var alt = this.alt;\n    var ariaLabel = this.ariaLabel || null;\n    var $content = null;\n\n    if (this.hasNormalizedSlot()) {\n      // Default slot overrides props\n      $content = h('span', {\n        staticClass: 'b-avatar-custom'\n      }, [this.normalizeSlot()]);\n    } else if (src) {\n      $content = h('img', {\n        style: variant ? {} : {\n          width: '100%',\n          height: '100%'\n        },\n        attrs: {\n          src: src,\n          alt: alt\n        },\n        on: {\n          error: this.onImgError\n        }\n      });\n      $content = h('span', {\n        staticClass: 'b-avatar-img'\n      }, [$content]);\n    } else if (icon) {\n      $content = h(BIcon, {\n        props: {\n          icon: icon\n        },\n        attrs: {\n          'aria-hidden': 'true',\n          alt: alt\n        }\n      });\n    } else if (text) {\n      $content = h('span', {\n        staticClass: 'b-avatar-text',\n        style: fontStyle\n      }, [h('span', text)]);\n    } else {\n      // Fallback default avatar content\n      $content = h(BIconPersonFill, {\n        attrs: {\n          'aria-hidden': 'true',\n          alt: alt\n        }\n      });\n    }\n\n    var $badge = h();\n    var hasBadgeSlot = this.hasNormalizedSlot(SLOT_NAME_BADGE);\n\n    if (badge || badge === '' || hasBadgeSlot) {\n      var badgeText = badge === true ? '' : badge;\n      $badge = h('span', {\n        staticClass: 'b-avatar-badge',\n        class: _defineProperty({}, \"badge-\".concat(badgeVariant), badgeVariant),\n        style: badgeStyle\n      }, [hasBadgeSlot ? this.normalizeSlot(SLOT_NAME_BADGE) : badgeText]);\n    }\n\n    var componentData = {\n      staticClass: CLASS_NAME,\n      class: (_class2 = {}, _defineProperty(_class2, \"\".concat(CLASS_NAME, \"-\").concat(size), size && SIZES.indexOf(size) !== -1), _defineProperty(_class2, \"badge-\".concat(variant), !button && variant), _defineProperty(_class2, \"rounded\", rounded === true), _defineProperty(_class2, \"rounded-\".concat(rounded), rounded && rounded !== true), _defineProperty(_class2, \"disabled\", disabled), _class2),\n      style: _objectSpread(_objectSpread({}, marginStyle), {}, {\n        width: size,\n        height: size\n      }),\n      attrs: {\n        'aria-label': ariaLabel || null\n      },\n      props: button ? {\n        variant: variant,\n        disabled: disabled,\n        type: type\n      } : link ? pluckProps(linkProps, this) : {},\n      on: button || link ? {\n        click: this.onClick\n      } : {}\n    };\n    return h(tag, componentData, [$content, $badge]);\n  }\n});","var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../vue';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_STRING } from '../constants/props';\nimport { SLOT_NAME_FIRST } from '../constants/slots';\nimport { htmlOrText } from '../utils/html';\nimport { looseEqual } from '../utils/loose-equal';\nimport { makeModelMixin } from '../utils/model';\nimport { omit, pick, sortKeys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { BFormCheckbox } from '../components/form-checkbox/form-checkbox';\nimport { BFormRadio } from '../components/form-radio/form-radio';\nimport { formControlMixin, props as formControlProps } from './form-control';\nimport { formCustomMixin, props as formCustomProps } from './form-custom';\nimport { formOptionsMixin, props as formOptionsProps } from './form-options';\nimport { formSizeMixin, props as formSizeProps } from './form-size';\nimport { formStateMixin, props as formStateProps } from './form-state';\nimport { idMixin, props as idProps } from './id';\nimport { normalizeSlotMixin } from './normalize-slot'; // --- Constants ---\n// Attributes to pass down to checks/radios instead of applying them to the group\n\nvar PASS_DOWN_ATTRS = ['aria-describedby', 'aria-labelledby'];\n\nvar _makeModelMixin = makeModelMixin('checked'),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nexport { MODEL_PROP_NAME, MODEL_EVENT_NAME }; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), formControlProps), formOptionsProps), formSizeProps), formStateProps), formCustomProps), {}, {\n  ariaInvalid: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  // Only applicable when rendered with button style\n  buttonVariant: makeProp(PROP_TYPE_STRING),\n  // Render as button style\n  buttons: makeProp(PROP_TYPE_BOOLEAN, false),\n  stacked: makeProp(PROP_TYPE_BOOLEAN, false),\n  validated: makeProp(PROP_TYPE_BOOLEAN, false)\n})), 'formRadioCheckGroups'); // --- Mixin ---\n// @vue/component\n\nexport var formRadioCheckGroupMixin = Vue.extend({\n  mixins: [idMixin, modelMixin, normalizeSlotMixin, formControlMixin, formOptionsMixin, formSizeMixin, formStateMixin, formCustomMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      localChecked: this[MODEL_PROP_NAME]\n    };\n  },\n  computed: {\n    inline: function inline() {\n      return !this.stacked;\n    },\n    groupName: function groupName() {\n      // Checks/Radios tied to the same model must have the same name,\n      // especially for ARIA accessibility\n      return this.name || this.safeId();\n    },\n    groupClasses: function groupClasses() {\n      var inline = this.inline,\n          size = this.size,\n          validated = this.validated;\n      var classes = {\n        'was-validated': validated\n      };\n\n      if (this.buttons) {\n        classes = [classes, 'btn-group-toggle', _defineProperty({\n          'btn-group': inline,\n          'btn-group-vertical': !inline\n        }, \"btn-group-\".concat(size), size)];\n      }\n\n      return classes;\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue) {\n    if (!looseEqual(newValue, this.localChecked)) {\n      this.localChecked = newValue;\n    }\n  }), _defineProperty(_watch, \"localChecked\", function localChecked(newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      this.$emit(MODEL_EVENT_NAME, newValue);\n    }\n  }), _watch),\n  render: function render(h) {\n    var _this = this;\n\n    var isRadioGroup = this.isRadioGroup;\n    var attrs = pick(this.$attrs, PASS_DOWN_ATTRS);\n    var optionComponent = isRadioGroup ? BFormRadio : BFormCheckbox;\n    var $inputs = this.formOptions.map(function (option, index) {\n      var key = \"BV_option_\".concat(index);\n      return h(optionComponent, {\n        props: {\n          // Individual radios or checks can be disabled in a group\n          disabled: option.disabled || false,\n          id: _this.safeId(key),\n          value: option.value // We don't need to include these, since the input's will know they are inside here\n          // form: this.form || null,\n          // name: this.groupName,\n          // required: Boolean(this.name && this.required)\n\n        },\n        attrs: attrs,\n        key: key\n      }, [h('span', {\n        domProps: htmlOrText(option.html, option.text)\n      })]);\n    });\n    return h('div', {\n      class: [this.groupClasses, 'bv-no-focus-ring'],\n      attrs: _objectSpread(_objectSpread({}, omit(this.$attrs, PASS_DOWN_ATTRS)), {}, {\n        'aria-invalid': this.computedAriaInvalid,\n        'aria-required': this.required ? 'true' : null,\n        id: this.safeId(),\n        role: isRadioGroup ? 'radiogroup' : 'group',\n        // Add `tabindex=\"-1\"` to allow group to be focused if needed by screen readers\n        tabindex: '-1'\n      })\n    }, [this.normalizeSlot(SLOT_NAME_FIRST), $inputs, this.normalizeSlot()]);\n  }\n});"],"sourceRoot":""}